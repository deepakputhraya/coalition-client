/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,s=o[0],a="["+(t?t+":":"")+s+"] ",u=o[1];for(a+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?yt(o[n]):t}),a+="\nhttp://errors.angularjs.org/1.4.9/"+(t?t+"/":"")+s,r=i,n="?";r<o.length;r++,n="&")a+=n+"p"+(r-i)+"="+encodeURIComponent(yt(o[r]));return new e(a)}}function i(t){if(null==t||k(t))return!1;if(Hr(t)||$(t)||Pr&&t instanceof Pr)return!0;var e="length"in Object(t)&&t.length;return S(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var r,s;if(t)if(E(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(Hr(t)||i(t)){var a="object"!=typeof t;for(r=0,s=t.length;s>r;r++)(a||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Er.call(t,r)&&e.call(n,t[r],r,t);return t}function s(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function a(t){return function(e,n){t(n,e)}}function u(){return++zr}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;o>i;++i){var s=e[i];if(b(s)||E(s))for(var a=Object.keys(s),u=0,h=a.length;h>u;u++){var f=a[u],d=s[f];n&&b(d)?C(d)?t[f]=new Date(d.valueOf()):A(d)?t[f]=new RegExp(d):d.nodeName?t[f]=d.cloneNode(!0):D(d)?t[f]=d.clone():(b(t[f])||(t[f]=Hr(d)?[]:{}),l(t[f],[d],!0)):t[f]=d}}return c(t,r),t}function h(t){return l(t,jr.call(arguments,1),!1)}function f(t){return l(t,jr.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function g(){}function v(t){return t}function _(t){return function(){return t}}function m(t){return E(t.toString)&&t.toString!==Br}function y(t){return"undefined"==typeof t}function w(t){return"undefined"!=typeof t}function b(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!Nr(t)}function $(t){return"string"==typeof t}function S(t){return"number"==typeof t}function C(t){return"[object Date]"===Br.call(t)}function E(t){return"function"==typeof t}function A(t){return"[object RegExp]"===Br.call(t)}function k(t){return t&&t.window===t}function O(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===Br.call(t)}function P(t){return"[object FormData]"===Br.call(t)}function M(t){return"[object Blob]"===Br.call(t)}function I(t){return"boolean"==typeof t}function j(t){return t&&E(t.then)}function R(t){return t&&S(t.length)&&qr.test(Br.call(t))}function D(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function B(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function N(t){return Cr(t.nodeName||t[0]&&t[0].nodeName)}function L(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function U(t,e){function n(t,e){var n,i=e.$$hashKey;if(Hr(t))for(var o=0,s=t.length;s>o;o++)e.push(r(t[o]));else if(x(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)Er.call(t,n)&&(e[n]=r(t[n]));return c(e,i),e}function r(t){if(!b(t))return t;var e=i.indexOf(t);if(-1!==e)return s[e];if(k(t)||O(t))throw Lr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r,o=!1;return Hr(t)?(r=[],o=!0):R(t)?r=new t.constructor(t):C(t)?r=new Date(t.getTime()):A(t)?(r=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),r.lastIndex=t.lastIndex):E(t.cloneNode)?r=t.cloneNode(!0):(r=Object.create(Nr(t)),o=!0),i.push(t),s.push(r),o?n(t,r):r}var i=[],s=[];if(e){if(R(e))throw Lr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Lr("cpi","Can't copy! Source and destination are identical.");return Hr(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),i.push(t),s.push(e),n(t,e)}return r(t)}function z(t,e){if(Hr(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(b(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function F(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,s=typeof e;if(o==s&&"object"==o){if(!Hr(t)){if(C(t))return C(e)?F(t.getTime(),e.getTime()):!1;if(A(t))return A(e)?t.toString()==e.toString():!1;if(O(t)||O(e)||k(t)||k(e)||Hr(e)||C(e)||A(e))return!1;i=vt();for(r in t)if("$"!==r.charAt(0)&&!E(t[r])){if(!F(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&w(e[r])&&!E(e[r]))return!1;return!0}if(!Hr(e))return!1;if((n=t.length)==e.length){for(r=0;n>r;r++)if(!F(t[r],e[r]))return!1;return!0}}return!1}function H(t,e,n){return t.concat(jr.call(e,n))}function q(t,e){return jr.call(t,e||0)}function V(t,e){var n=arguments.length>2?q(arguments,2):[];return!E(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,H(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function Y(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:k(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":O(r)&&(i="$SCOPE"),i}function G(t,e){return"undefined"==typeof t?n:(S(e)||(e=e?2:null),JSON.stringify(t,Y,e))}function W(t){return $(t)?JSON.parse(t):t}function J(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function X(t,e,n){n=n?-1:1;var r=J(e,t.getTimezoneOffset());return Z(t,n*(r-t.getTimezoneOffset()))}function K(t){t=Pr(t).clone();try{t.empty()}catch(e){}var n=Pr("<div>").append(t).html();try{return t[0].nodeType===ti?Cr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Cr(e)})}catch(e){return Cr(n)}}function Q(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=Q(r),w(r)&&(i=w(i)?Q(i):!0,Er.call(e,r)?Hr(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function et(t){var e=[];return o(t,function(t,n){Hr(t)?o(t,function(t){e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}):e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}),e.length?e.join("&"):""}function nt(t){return rt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function rt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function it(t,e){var n,r,i=Jr.length;for(r=0;i>r;++r)if(n=Jr[r]+e,$(n=t.getAttribute(n)))return n;return null}function ot(t,e){var n,r,i={};o(Jr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(Jr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==it(n,"strict-di"),e(n,r?[r]:[],i))}function st(n,r,i){b(i)||(i={});var s={strictDi:!1};i=h(s,i);var a=function(){if(n=Pr(n),n.injector()){var t=n[0]===e?"document":K(n);throw Lr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=te(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!c.test(t.name)?a():(t.name=t.name.replace(c,""),Ur.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),a()},void(E(Ur.resumeDeferredBootstrap)&&Ur.resumeDeferredBootstrap()))}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ut(t){var e=Ur.element(t).injector();if(!e)throw Lr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ct(t,e){return e=e||"_",t.replace(Zr,function(t,n){return(n?e:"")+t.toLowerCase()})}function lt(){var e;if(!Xr){var r=Wr();Mr=y(r)?t.jQuery:r?t[r]:n,Mr&&Mr.fn.on?(Pr=Mr,h(Mr.fn,{scope:yi.scope,isolateScope:yi.isolateScope,controller:yi.controller,injector:yi.injector,inheritedData:yi.inheritedData}),e=Mr.cleanData,Mr.cleanData=function(t){var n;if(Fr)Fr=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=Mr._data(r,"events"),n&&n.$destroy&&Mr(r).triggerHandler("$destroy");e(t)}):Pr=kt,Ur.element=Pr,Xr=!0}}function ht(t,e,n){if(!t)throw Lr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ft(t,e,n){return n&&Hr(t)&&(t=t[t.length-1]),ht(E(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw Lr("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,s=i.length,a=0;s>a;a++)r=i[a],t&&(t=(o=t)[r]);return!n&&E(t)?V(o,t):t}function gt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Pr(jr.call(t,0,i))),e.push(n));return e||t}function vt(){return Object.create(null)}function _t(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,s){var a=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return a(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),l}}function e(t,e){return function(n,o){return o&&E(o)&&(o.$$moduleName=r),i.push([t,e,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],a=[],u=[],c=t("$injector","invoke","push",a),l={_invokeQueue:i,_configBlocks:a,_runBlocks:u,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(t){return u.push(t),this}};return s&&c(s),l})}})}function mt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=Y(t,n),b(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?mt(t):t}function wt(e){h(e,{bootstrap:st,copy:U,extend:h,merge:f,equals:F,element:Pr,forEach:o,injector:te,noop:g,bind:V,toJson:G,fromJson:W,identity:v,isUndefined:y,isDefined:w,isString:$,isFunction:E,isObject:b,isNumber:S,isElement:D,isArray:Hr,version:ii,isDate:C,lowercase:Cr,uppercase:Ar,callbacks:{counter:0},getTestability:ut,$$minErr:r,$$csp:Gr,reloadWithDebugInfo:at}),(Ir=_t(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:yn}),t.provider("$compile",le).directive({a:So,input:zo,textarea:zo,form:Oo,script:Is,select:Ds,style:Ns,option:Bs,ngBind:qo,ngBindHtml:Yo,ngBindTemplate:Vo,ngClass:Wo,ngClassEven:Zo,ngClassOdd:Jo,ngCloak:Xo,ngController:Ko,ngForm:To,ngHide:As,ngIf:es,ngInclude:ns,ngInit:is,ngNonBindable:ms,ngPluralize:xs,ngRepeat:$s,ngShow:Es,ngStyle:ks,ngSwitch:Os,ngSwitchWhen:Ts,ngSwitchDefault:Ps,ngOptions:bs,ngTransclude:Ms,ngModel:gs,ngList:os,ngChange:Go,pattern:Us,ngPattern:Us,required:Ls,ngRequired:Ls,minlength:Fs,ngMinlength:Fs,maxlength:zs,ngMaxlength:zs,ngValue:Ho,ngModelOptions:_s}).directive({ngInclude:rs}).directive(Co).directive(Qo),t.provider({$anchorScroll:ee,$animate:ji,$animateCss:Bi,$$animateJs:Mi,$$animateQueue:Ii,$$AnimateRunner:Di,$$animateAsyncRun:Ri,$browser:ae,$cacheFactory:ue,$controller:ge,$document:ve,$exceptionHandler:_e,$filter:In,$$forceReflow:Fi,$interpolate:Pe,$interval:Me,$http:Ae,$httpParamSerializer:ye,$httpParamSerializerJQLike:we,$httpBackend:Oe,$xhrFactory:ke,$location:Ye,$log:Ge,$parse:dn,$rootScope:mn,$q:pn,$$q:gn,$sce:$n,$sceDelegate:xn,$sniffer:Sn,$templateCache:ce,$templateRequest:Cn,$$testability:En,$timeout:An,$window:Tn,$$rAF:_n,$$jqLite:Jt,$$HashMap:$i,$$cookieReader:Mn})}])}function bt(){return++si}function xt(t){return t.replace(ci,function(t,e,n,r){return r?n.toUpperCase():n}).replace(li,"Moz$1")}function $t(t){return!pi.test(t)}function St(t){var e=t.nodeType;return e===Kr||!e||e===ni}function Ct(t){for(var e in oi[t.ng339])return!0;return!1}function Et(t,e){var n,r,i,s,a=e.createDocumentFragment(),u=[];if($t(t))u.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),r=(gi.exec(t)||["",""])[1].toLowerCase(),i=_i[r]||_i._default,n.innerHTML=i[1]+t.replace(vi,"<$1></$2>")+i[2],s=i[0];s--;)n=n.lastChild;u=H(u,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",o(u,function(t){a.appendChild(t)}),a}function At(t,n){n=n||e;var r;return(r=di.exec(t))?[n.createElement(r[1])]:(r=Et(t,n))?r.childNodes:[]}function kt(t){if(t instanceof kt)return t;var e;if($(t)&&(t=Vr(t),e=!0),!(this instanceof kt)){if(e&&"<"!=t.charAt(0))throw fi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new kt(t)}e?Nt(this,At(t)):Nt(this,t)}function Ot(t){return t.cloneNode(!0)}function Tt(t,e){if(e||Mt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Mt(n[r])}function Pt(t,e,n,r){if(w(r))throw fi("offargs","jqLite#off() does not support the `selector` argument");var i=It(t),s=i&&i.events,a=i&&i.handle;if(a)if(e){var u=function(e){var r=s[e];w(n)&&L(r||[],n),w(n)&&r&&r.length>0||(ui(t,e,a),delete s[e])};o(e.split(" "),function(t){u(t),hi[t]&&u(hi[t])})}else for(e in s)"$destroy"!==e&&ui(t,e,a),delete s[e]}function Mt(t,e){var r=t.ng339,i=r&&oi[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pt(t)),delete oi[r],t.ng339=n}}function It(t,e){var r=t.ng339,i=r&&oi[r];return e&&!i&&(t.ng339=r=bt(),i=oi[r]={events:{},data:{},handle:n}),i}function jt(t,e,n){if(St(t)){var r=w(n),i=!r&&e&&!b(e),o=!e,s=It(t,!i),a=s&&s.data;if(r)a[e]=n;else{if(o)return a;if(i)return a&&a[e];h(a,e)}}}function Rt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Dt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Vr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Vr(e)+" "," ")))})}function Bt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Vr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Vr(n))}}function Nt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Lt(t,e){return Ut(t,"$"+(e||"ngController")+"Controller")}function Ut(t,e,n){t.nodeType==ni&&(t=t.documentElement);for(var r=Hr(e)?e:[e];t;){for(var i=0,o=r.length;o>i;i++)if(w(n=Pr.data(t,r[i])))return n;t=t.parentNode||t.nodeType===ri&&t.host}}function zt(t){for(Tt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ft(t,e){e||Tt(t);var n=t.parentNode;n&&n.removeChild(t)}function Ht(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Pr(n).on("load",e)}function qt(t,e){var n=wi[e.toLowerCase()];return n&&bi[N(t)]&&n}function Vt(t){return xi[t]}function Yt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var a=i.specialHandlerWrapper||Gt;o>1&&(i=z(i));for(var u=0;o>u;u++)n.isImmediatePropagationStopped()||a(t,n,i[u])}};return n.elem=t,n}function Gt(t,e,n){n.call(t,e)}function Wt(t,e,n){var r=e.relatedTarget;(!r||r!==t&&!mi.call(t,r))&&n.call(t,e)}function Jt(){this.$get=function(){return h(kt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Rt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Bt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Dt(t,e)}})}}function Zt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function Xt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Kt(t){var e=t.toString().replace(Ai,""),n=e.match(Si);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Qt(t,e,n){var r,i,s,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw $(n)&&n||(n=t.name||Kt(t)),ki("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Ai,""),s=i.match(Si),o(s[1].split(Ci),function(t){t.replace(Ei,function(t,e,n){r.push(n)})})}t.$inject=r}}else Hr(t)?(a=t.length-1,ft(t[a],"fn"),r=t.slice(0,a)):ft(t,"fn",!0);return r}function te(t,e){function r(t){return function(e,n){return b(e)?void o(e,a(t)):t(e,n)}}function i(t,e){if(dt(t,"service"),(E(e)||Hr(e))&&(e=S.instantiate(e)),!e.$get)throw ki("pget","Provider '{0}' must define $get factory method.",t);return x[t+v]=e}function s(t,e){return function(){var n=A.invoke(e,this);if(y(n))throw ki("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function u(t,e,n){return i(t,{$get:n!==!1?s(t,e):e})}function c(t,e){return u(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return u(t,_(e),!1)}function h(t,e){dt(t,"constant"),x[t]=e,C[t]=e}function f(t,e){var n=S.get(t+v),r=n.$get;n.$get=function(){var t=A.invoke(r,n);return A.invoke(e,null,{$delegate:t})}}function d(t){ht(y(t)||Hr(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!w.get(t)){w.put(t,!0);try{$(t)?(e=Ir(t),n=n.concat(d(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):E(t)?n.push(S.invoke(t)):Hr(t)?n.push(S.invoke(t)):ft(t,"module")}catch(i){throw Hr(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),ki("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw ki("cdep","Circular dependency found: {0}",e+" <- "+m.join(" <- "));return t[e]}try{return m.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{m.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var s,a,u,c=[],l=te.$$annotate(t,e,o);for(a=0,s=l.length;s>a;a++){if(u=l[a],"string"!=typeof u)throw ki("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return Hr(t)&&(t=t[s]),t.apply(n,c)}function o(t,e,n){var r=Object.create((Hr(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return b(o)||E(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:te.$$annotate,has:function(e){return x.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=e===!0;var g={},v="Provider",m=[],w=new Xt([],!0),x={$provide:{provider:r(i),factory:r(u),service:r(c),value:r(l),constant:r(h),decorator:f}},S=x.$injector=p(x,function(t,e){throw Ur.isString(e)&&m.push(e),ki("unpr","Unknown provider: {0}",m.join(" <- "))}),C={},A=C.$injector=p(C,function(t,e){var r=S.get(t+v,e);return A.invoke(r.$get,r,n,t)});return o(d(t),function(t){t&&A.invoke(t)}),A}function ee(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===N(t)?(e=t,!0):void 0}),e}function o(){var t=a.yOffset;if(E(t))t=t();else if(D(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else S(t)||(t=0);return t}function s(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function a(t){t=$(t)?t:n.hash();var e;t?(e=u.getElementById(t))?s(e):(e=i(u.getElementsByName(t)))?s(e):"top"===t&&s(null):s(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Ht(function(){r.$evalAsync(a)})}),a}]}function ne(t,e){return t||e?t?e?(Hr(t)&&(t=t.join(" ")),Hr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function re(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Ti)return n}}function ie(t){$(t)&&(t=t.split(" "));var e=vt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function oe(t){return b(t)?t:{}}function se(t,e,n,r){function i(t){try{t.apply(null,q(arguments,1))}finally{if(m--,0===m)for(;w.length;)try{w.pop()()}catch(e){n.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function a(){C=null,c(),l()}function u(){try{return d.state}catch(t){}}function c(){b=u(),b=y(b)?null:b,F(b,k)&&(b=k),k=b}function l(){($!==h.url()||x!==b)&&($=h.url(),x=b,o(E,function(t){t(h.url(),b)}))}var h=this,f=(e[0],t.location),d=t.history,p=t.setTimeout,v=t.clearTimeout,_={};h.isMock=!1;var m=0,w=[];h.$$completeOutstandingRequest=i,h.$$incOutstandingRequestCount=function(){m++},h.notifyWhenNoOutstandingRequests=function(t){0===m?t():w.push(t)};var b,x,$=f.href,S=e.find("base"),C=null;c(),x=b,h.url=function(e,n,i){if(y(i)&&(i=null),f!==t.location&&(f=t.location),d!==t.history&&(d=t.history),e){var o=x===i;if($===e&&(!r.history||o))return h;var a=$&&Be($)===Be(e);return $=e,x=i,!r.history||a&&o?((!a||C)&&(C=e),n?f.replace(e):a?f.hash=s(e):f.href=e,f.href!==e&&(C=e)):(d[n?"replaceState":"pushState"](i,"",e),c(),x=b),h}return C||f.href.replace(/%27/g,"'")},h.state=function(){return b};var E=[],A=!1,k=null;h.onUrlChange=function(e){return A||(r.history&&Pr(t).on("popstate",a),Pr(t).on("hashchange",a),A=!0),E.push(e),e},h.$$applicationDestroyed=function(){Pr(t).off("hashchange popstate",a)},h.$$checkUrlChange=l,h.baseHref=function(){var t=S.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return m++,n=p(function(){delete _[n],i(t)},e||0),_[n]=!0,n},h.defer.cancel=function(t){return _[t]?(delete _[t],v(t),i(g),!0):!1}}function ae(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new se(t,r,e,n)}]}function ue(){this.$get=function(){function t(t,n){function i(t){t!=f&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=h({},n,{id:t}),u=vt(),c=n&&n.capacity||Number.MAX_VALUE,l=vt(),f=null,d=null;return e[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}return t in u||s++,u[t]=e,s>c&&this.remove(d.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),o(e.n,e.p),delete l[t]}t in u&&(delete u[t],s--)},removeAll:function(){u=vt(),s=0,l=vt(),f=d=null},destroy:function(){u=null,a=null,l=null,delete e[t]},info:function(){return h({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function ce(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function le(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var s=t.match(r);if(!s)throw Ni("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o}}),i}function s(t,e){var n={isolateScope:null,bindToController:null};if(b(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),b(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),b(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw Ni("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!pe(r,o))throw Ni("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function u(t){var e=t.charAt(0);if(!e||e!==Cr(e))throw Ni("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Ni("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var c={},l="Directive",f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=B("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/;this.directive=function A(e,n){return dt(e,"directive"),$(e)?(u(e),ht(n,"directiveFactory"),c.hasOwnProperty(e)||(c[e]=[],t.factory(e+l,["$injector","$exceptionHandler",function(t,n){var r=[];return o(c[e],function(i,o){try{var a=t.invoke(i);E(a)?a={compile:_(a)}:!a.compile&&a.link&&(a.compile=_(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var u=a.$$bindings=s(a,a.name);b(u.isolateScope)&&(a.$$isolateBindings=u.isolateScope),a.$$moduleName=i.$$moduleName,r.push(a)}catch(c){n(c)}}),r}])),c[e].push(n)):o(e,a(A)),this},this.aHrefSanitizationWhitelist=function(t){return w(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(t){return w(t)?(C=t,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,r,i,s,a,u,_,w,A,k){function T(t,e){try{t.addClass(e)}catch(n){}}function P(t,e,n,r,i){t instanceof Pr||(t=Pr(t)),o(t,function(e,n){e.nodeType==ti&&e.nodeValue.match(/\S+/)&&(t[n]=Pr(e).wrap("<span></span>").parent()[0])});var s=I(t,e,t,n,r,i);P.$$addScopeClass(t);var a=null;return function(e,n,r){ht(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var o=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),a||(a=M(c));var l;if(l="html"!==a?Pr(X(a,Pr("<div>").append(t).html())):n?yi.clone.call(t):t,u)for(var h in u)l.data("$"+h+"Controller",u[h].instance);return P.$$addScopeInfo(l,e),n&&n(l,e),s&&s(e,l,l,o),l}}function M(t){var e=t&&t[0];return e&&"foreignobject"!==N(e)&&e.toString().match(/SVG/)?"svg":"html"}function I(t,e,r,i,o,s){function a(t,r,i,o){var s,a,u,c,l,h,f,d,v;if(p){var _=r.length;for(v=new Array(_),l=0;l<g.length;l+=3)f=g[l],v[f]=r[f]}else v=r;for(l=0,h=g.length;h>l;)u=v[g[l++]],s=g[l++],a=g[l++],s?(s.scope?(c=t.$new(),P.$$addScopeInfo(Pr(u),c)):c=t,d=s.transcludeOnThisElement?j(t,s.transclude,o):!s.templateOnThisElement&&o?o:!o&&e?j(t,e):null,s(a,c,u,i,d)):a&&a(t,u.childNodes,n,o)}for(var u,c,l,h,f,d,p,g=[],v=0;v<t.length;v++)u=new ot,c=R(t[v],[],u,0===v?i:n,o),l=c.length?U(c,t[v],u,e,r,null,[],[],s):null,l&&l.scope&&P.$$addScopeClass(u.$$element),f=l&&l.terminal||!(h=t[v].childNodes)||!h.length?null:I(h,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||f)&&(g.push(v,l,f),d=!0,p=p||l),s=null;return d?a:null}function j(t,e,n){var r=function(r,i,o,s,a){return r||(r=t.$new(!1,a),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})};return r}function R(t,e,n,r,i){var o,s,a=t.nodeType,u=n.$attr;switch(a){case Kr:H(e,he(N(t)),"E",r,i);for(var c,l,h,p,g,v,_=t.attributes,m=0,y=_&&_.length;y>m;m++){var w=!1,x=!1;c=_[m],l=c.name,g=Vr(c.value),p=he(l),(v=lt.test(p))&&(l=l.replace(Li,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var S=p.match(ft);S&&V(S[1])&&(w=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),h=he(l.toLowerCase()),u[h]=l,(v||!n.hasOwnProperty(h))&&(n[h]=g,qt(t,h)&&(n[h]=!0)),tt(t,e,g,h,v),H(e,h,"A",r,i,w,x)}if(s=t.className,b(s)&&(s=s.animVal),$(s)&&""!==s)for(;o=d.exec(s);)h=he(o[2]),H(e,h,"C",r,i)&&(n[h]=Vr(o[3])),s=s.substr(o.index+o[0].length);break;case ti:if(11===Tr)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===ti;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);Z(e,t.nodeValue);break;case ei:try{o=f.exec(t.nodeValue),o&&(h=he(o[1]),H(e,h,"M",r,i)&&(n[h]=Vr(o[2])))}catch(C){}}return e.sort(W),e}function D(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Ni("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Kr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Pr(r)}function B(t,e,n){return function(r,i,o,s,a){return i=D(i[0],e,n),t(r,i,o,s,a)}}function U(t,r,o,s,a,c,l,h,f){function d(t,e,n,r){t&&(n&&(t=B(t,n,r)),t.require=_.require,t.directiveName=m,(T===_||_.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=B(e,n,r)),e.require=_.require,e.directiveName=m,(T===_||_.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),h.push(e))}function p(t,e,n,r){var i;if($(e)){var o=e.match(x),s=e.substring(o[0].length),a=o[1]||o[3],u="?"===o[2];if("^^"===a?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var c="$"+s+"Controller";i=a?n.inheritedData(c):n.data(c)}if(!i&&!u)throw Ni("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(Hr(e)){i=[];for(var l=0,h=e.length;h>l;l++)i[l]=p(t,e[l],n,r)}return i||null}function g(t,e,n,r,i,o){var s=vt();for(var a in r){var c=r[a],l={$scope:c===T||c.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=c.controller;"@"==h&&(h=e[c.name]);var f=u(h,l,!0,c.controllerAs);s[c.name]=f,L||t.data("$"+c.name+"Controller",f.instance)}return s}function v(t,e,i,s,a){function u(t,e,r){var i;return O(t)||(r=e,e=t,t=n),L&&(i=v),r||(r=L?m.parent():m),a(t,e,i,r,I)}var c,f,d,v,_,m,y,w,b;r===i?(y=o,m=o.$$element):(m=Pr(i),y=new ot(m,o)),d=e,T?f=e.$new(!0):A&&(d=e.$parent),a&&(_=u,_.$$boundTransclude=a),k&&(v=g(m,y,_,k,f,e)),T&&(P.$$addScopeInfo(m,f,!0,!(M&&(M===T||M===T.$$originalDirective))),P.$$addScopeClass(m,!0),f.$$isolateBindings=T.$$isolateBindings,w=it(e,y,f,f.$$isolateBindings,T),w&&f.$on("$destroy",w));for(var x in v){var $=k[x],S=v[x],C=$.$$bindings.bindToController;S.identifier&&C&&(b=it(d,y,S.instance,C,$));var E=S();E!==S.instance&&(S.instance=E,m.data("$"+$.name+"Controller",E),b&&b(),b=it(d,y,S.instance,C,$))}for(V=0,W=l.length;W>V;V++)c=l[V],rt(c,c.isolateScope?f:e,m,y,c.require&&p(c.directiveName,c.require,m,v),_);var I=e;for(T&&(T.template||null===T.templateUrl)&&(I=f),t&&t(I,i.childNodes,n,a),V=h.length-1;V>=0;V--)c=h[V],rt(c,c.isolateScope?f:e,m,y,c.require&&p(c.directiveName,c.require,m,v),_)}f=f||{};for(var _,m,y,w,S,C=-Number.MAX_VALUE,A=f.newScopeDirective,k=f.controllerDirectives,T=f.newIsolateScopeDirective,M=f.templateDirective,I=f.nonTlbTranscludeDirective,j=!1,N=!1,L=f.hasElementTranscludeDirective,U=o.$$element=Pr(r),F=c,H=s,V=0,W=t.length;W>V;V++){_=t[V];var Z=_.$$start,Q=_.$$end;if(Z&&(U=D(r,Z,Q)),y=n,C>_.priority)break;if((S=_.scope)&&(_.templateUrl||(b(S)?(J("new/isolated scope",T||A,_,U),
T=_):J("new/isolated scope",T,_,U)),A=A||_),m=_.name,!_.templateUrl&&_.controller&&(S=_.controller,k=k||vt(),J("'"+m+"' controller",k[m],_,U),k[m]=_),(S=_.transclude)&&(j=!0,_.$$tlb||(J("transclusion",I,_,U),I=_),"element"==S?(L=!0,C=_.priority,y=U,U=o.$$element=Pr(e.createComment(" "+m+": "+o[m]+" ")),r=U[0],et(a,q(y),r),H=P(y,s,C,F&&F.name,{nonTlbTranscludeDirective:I})):(y=Pr(Ot(r)).contents(),U.empty(),H=P(y,s,n,n,{needsNewScope:_.$$isolateScope||_.$$newScope}))),_.template)if(N=!0,J("template",M,_,U),M=_,S=E(_.template)?_.template(U,o):_.template,S=ut(S),_.replace){if(F=_,y=$t(S)?[]:de(X(_.templateNamespace,Vr(S))),r=y[0],1!=y.length||r.nodeType!==Kr)throw Ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");et(a,U,r);var tt={$attr:{}},st=R(r,[],tt),at=t.splice(V+1,t.length-(V+1));(T||A)&&z(st,T,A),t=t.concat(st).concat(at),Y(o,tt),W=t.length}else U.html(S);if(_.templateUrl)N=!0,J("template",M,_,U),M=_,_.replace&&(F=_),v=G(t.splice(V,t.length-V),U,o,a,j&&H,l,h,{controllerDirectives:k,newScopeDirective:A!==_&&A,newIsolateScopeDirective:T,templateDirective:M,nonTlbTranscludeDirective:I}),W=t.length;else if(_.compile)try{w=_.compile(U,o,H),E(w)?d(null,w,Z,Q):w&&d(w.pre,w.post,Z,Q)}catch(ct){i(ct,K(U))}_.terminal&&(v.terminal=!0,C=Math.max(C,_.priority))}return v.scope=A&&A.scope===!0,v.transcludeOnThisElement=j,v.templateOnThisElement=N,v.transclude=H,f.hasElementTranscludeDirective=L,v}function z(t,e,n){for(var r=0,i=t.length;i>r;r++)t[r]=p(t[r],{$$isolateScope:e,$$newScope:n})}function H(e,n,r,o,s,a,u){if(n===s)return null;var h=null;if(c.hasOwnProperty(n))for(var f,d=t.get(n+l),g=0,v=d.length;v>g;g++)try{f=d[g],(y(o)||o>f.priority)&&-1!=f.restrict.indexOf(r)&&(a&&(f=p(f,{$$start:a,$$end:u})),e.push(f),h=f)}catch(_){i(_)}return h}function V(e){if(c.hasOwnProperty(e))for(var n,r=t.get(e+l),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(T(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function G(t,e,n,r,i,a,u,c){var l,h,f=[],d=e[0],g=t.shift(),v=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),_=E(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,m=g.templateNamespace;return e.empty(),s(_).then(function(s){var p,y,w,x;if(s=ut(s),g.replace){if(w=$t(s)?[]:de(X(m,Vr(s))),p=w[0],1!=w.length||p.nodeType!==Kr)throw Ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,_);y={$attr:{}},et(r,e,p);var $=R(p,[],y);b(g.scope)&&z($,!0),t=$.concat(t),Y(n,y)}else p=d,e.html(s);for(t.unshift(v),l=U(t,p,n,i,e,g,a,u,c),o(r,function(t,n){t==p&&(r[n]=e[0])}),h=I(e[0].childNodes,i);f.length;){var S=f.shift(),C=f.shift(),E=f.shift(),A=f.shift(),k=e[0];if(!S.$$destroyed){if(C!==d){var O=C.className;c.hasElementTranscludeDirective&&g.replace||(k=Ot(p)),et(E,Pr(C),k),T(Pr(k),O)}x=l.transcludeOnThisElement?j(S,l.transclude,A):A,l(h,S,k,r,x)}}f=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(f?f.push(e,n,r,o):(l.transcludeOnThisElement&&(o=j(e,l.transclude,i)),l(h,e,n,r,o)))}}function W(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function J(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Ni("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,K(r))}function Z(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&P.$$addBindingClass(e),function(t,e){var i=e.parent();r||P.$$addBindingClass(i),P.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function X(t,n){switch(t=Cr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return w.HTML;var n=N(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?w.RESOURCE_URL:void 0}function tt(t,e,n,i,o){var s=Q(t,i);o=m[i]||o;var a=r(n,!0,s,o);if(a){if("multiple"===i&&"select"===N(t))throw Ni("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",K(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers=vt());if(S.test(i))throw Ni("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==n&&(a=l&&r(l,!0,s,o),n=l),a&&(u[i]=a(t),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(a,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function et(t,n,r){var i,o,s=n[0],a=n.length,u=s.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==s){t[i++]=r;for(var c=i,l=c+a-1,h=t.length;h>c;c++,l++)h>l?t[c]=t[l]:delete t[c];t.length-=a-1,t.context===s&&(t.context=r);break}u&&u.replaceChild(r,s);var f=e.createDocumentFragment();f.appendChild(s),Pr.hasData(s)&&(Pr.data(r,Pr.data(s)),Mr?(Fr=!0,Mr.cleanData([s])):delete Pr.cache[s[Pr.expando]]);for(var d=1,p=n.length;p>d;d++){var g=n[d];Pr(g).remove(),f.appendChild(g),delete n[d]}n[0]=r,n.length=1}function nt(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function rt(t,e,n,r,o,s){try{t(e,n,r,o,s)}catch(a){i(a,K(n))}}function it(t,e,n,i,s){var u=[];return o(i,function(i,o){var c,l,h,f,d=i.attrName,p=i.optional,v=i.mode;switch(v){case"@":p||Er.call(e,d)||(n[o]=e[d]=void 0),e.$observe(d,function(t){$(t)&&(n[o]=t)}),e.$$observers[d].$$scope=t,$(e[d])&&(n[o]=r(e[d])(t));break;case"=":if(!Er.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;l=a(e[d]),f=l.literal?F:function(t,e){return t===e||t!==t&&e!==e},h=l.assign||function(){throw c=n[o]=l(t),Ni("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[d],s.name)},c=n[o]=l(t);var _=function(e){return f(e,n[o])||(f(e,c)?h(t,e=n[o]):n[o]=e),c=e};_.$stateful=!0;var m;m=i.collection?t.$watchCollection(e[d],_):t.$watch(a(e[d],_),null,l.literal),u.push(m);break;case"&":if(l=e.hasOwnProperty(d)?a(e[d]):g,l===g&&p)break;n[o]=function(e){return l(t,e)}}}),u.length&&function(){for(var t=0,e=u.length;e>t;++t)u[t]()}}var ot=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:he,$addClass:function(t){t&&t.length>0&&A.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&A.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=fe(t,e);n&&n.length&&A.addClass(this.$$element,n);var r=fe(e,t);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(t,e,n,r){var s,a=this.$$element[0],u=qt(a,t),c=Vt(t),l=t;if(u?(this.$$element.prop(t,e),r=u):c&&(this[c]=e,l=c),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t],r||(this.$attr[t]=r=ct(t,"-"))),s=N(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=k(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",f=Vr(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(f)?d:/(,)/,g=f.split(p),v=Math.floor(g.length/2),_=0;v>_;_++){var m=2*_;h+=k(Vr(g[m]),!0),h+=" "+Vr(g[m+1])}var w=Vr(g[2*_]).split(/\s/);h+=k(Vr(w[0]),!0),2===w.length&&(h+=" "+Vr(w[1])),this[t]=e=h}n!==!1&&(null===e||y(e)?this.$$element.removeAttr(r):this.$$element.attr(r,e));var b=this.$$observers;b&&o(b[l],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=vt()),i=r[t]||(r[t]=[]);return i.push(e),_.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){L(i,e)}}};var st=r.startSymbol(),at=r.endSymbol(),ut="{{"==st||"}}"==at?v:function(t){return t.replace(/\{\{/g,st).replace(/}}/g,at)},lt=/^ngAttr[A-Z]/,ft=/^(.+)Start$/;return P.$$addBindingInfo=C?function(t,e){var n=t.data("$binding")||[];Hr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,P.$$addBindingClass=C?function(t){T(t,"ng-binding")}:g,P.$$addScopeInfo=C?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:g,P.$$addScopeClass=C?function(t,e){T(t,e?"ng-isolate-scope":"ng-scope")}:g,P}]}function he(t){return xt(t.replace(Li,""))}function fe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue t;n+=(n.length>0?" ":"")+s}return n}function de(t){t=Pr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===ei&&Rr.call(t,e,1)}return t}function pe(t,e){if(e&&$(e))return e;if($(t)){var n=zi.exec(t);if(n)return n[3]}}function ge(){var t={},e=!1;this.register=function(e,n){dt(e,"controller"),b(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function s(t,e,n,i){if(!t||!b(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,a,u,c){var l,f,d,p;if(u=u===!0,c&&$(c)&&(p=c),$(r)){if(f=r.match(zi),!f)throw Ui("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);d=f[1],p=p||f[3],r=t.hasOwnProperty(d)?t[d]:pt(a.$scope,d,!0)||(e?pt(o,d,!0):n),ft(r,d,!0)}if(u){var g=(Hr(r)?r[r.length-1]:r).prototype;l=Object.create(g||null),p&&s(a,p,l,d||r.name);var v;return v=h(function(){var t=i.invoke(r,l,a,d);return t!==l&&(b(t)||E(t))&&(l=t,p&&s(a,p,l,d||r.name)),l},{instance:l,identifier:p})}return l=i.instantiate(r,a,d),p&&s(a,p,l,d||r.name),l}}]}function ve(){this.$get=["$window",function(t){return Pr(t.document)}]}function _e(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function me(t){return b(t)?C(t)?t.toISOString():G(t):t}function ye(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||y(t)||(Hr(t)?o(t,function(t,r){e.push(rt(n)+"="+rt(me(t)))}):e.push(rt(n)+"="+rt(me(t))))}),e.join("&")}}}function we(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(Hr(t)?o(t,function(t,n){e(t,r+"["+(b(t)?n:"")+"]")}):b(t)&&!C(t)?s(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(rt(r)+"="+rt(me(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function be(t,e){if($(t)){var n=t.replace(Gi,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Hi)||xe(n))&&(t=W(n))}}return t}function xe(t){var e=t.match(Vi);return e&&Yi[e[0]].test(t)}function $e(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=vt();return $(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(Cr(Vr(t.substr(0,n))),Vr(t.substr(n+1)))}):b(t)&&o(t,function(t,n){e(Cr(n),Vr(t))}),r}function Se(t){var e;return function(n){if(e||(e=$e(t)),n){var r=e[Cr(n)];return void 0===r&&(r=null),r}return e}}function Ce(t,e,n,r){return E(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ee(t){return t>=200&&300>t}function Ae(){var t=this.defaults={transformResponse:[be],transformRequest:[function(t){return!b(t)||T(t)||M(t)||P(t)?t:G(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:z(qi),put:z(qi),patch:z(qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return w(t)?(e=!!t,this):e};var i=!0;this.useLegacyPromiseExtensions=function(t){return w(t)?(i=!!t,this):i};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,u,c,l,f,d){function p(e){function s(t){var e=h({},t);return e.data=Ce(t.data,t.headers,t.status,c.transformResponse),Ee(t.status)?e:f.reject(e)}function a(t,e){var n,r={};return o(t,function(t,i){E(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function u(e){var n,r,i,o=t.headers,s=h({},e.headers);o=h({},o.common,o[Cr(e.method)]);t:for(n in o){r=Cr(n);for(i in s)if(Cr(i)===r)continue t;s[n]=o[n]}return a(s,z(e))}if(!Ur.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!$(e.url))throw r("$http")("badreq","Http request configuration url must be a string.  Received: {0}",e.url);var c=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);c.headers=u(e),c.method=Ar(c.method),c.paramSerializer=$(c.paramSerializer)?d.get(c.paramSerializer):c.paramSerializer;var l=function(e){var r=e.headers,i=Ce(e.data,Se(r),n,e.transformRequest);return y(i)&&o(r,function(t,e){"content-type"===Cr(e)&&delete r[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),_(e,i).then(s,s)},p=[l,n],g=f.when(c);for(o(S,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&p.push(t.response,t.responseError)});p.length;){var v=p.shift(),m=p.shift();g=g.then(v,m)}return i?(g.success=function(t){return ft(t,"fn"),g.then(function(e){t(e.data,e.status,e.headers,c)}),g},g.error=function(t){return ft(t,"fn"),g.then(null,function(e){t(e.data,e.status,e.headers,c)}),g}):(g.success=Ji("success"),g.error=Ji("error")),g}function g(t){o(arguments,function(t){p[t]=function(e,n){return p(h({},n||{},{method:t,url:e}))}})}function v(t){o(arguments,function(t){p[t]=function(e,n,r){return p(h({},r||{},{method:t,url:e,data:n}))}})}function _(r,i){function o(t,n,r,i){function o(){s(n,t,r,i)}d&&(Ee(t)?d.put(S,[t,n,$e(r),i]):d.remove(S)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function s(t,e,n,i){e=e>=-1?e:0,(Ee(e)?v.resolve:v.reject)({data:t,status:e,headers:Se(n),config:r,statusText:i})}function c(t){s(t.data,t.status,z(t.headers()),t.statusText)}function h(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var d,g,v=f.defer(),_=v.promise,$=r.headers,S=m(r.url,r.paramSerializer(r.params));if(p.pendingRequests.push(r),_.then(h,h),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(d=b(r.cache)?r.cache:b(t.cache)?t.cache:x),d&&(g=d.get(S),w(g)?j(g)?g.then(c,c):Hr(g)?s(g[1],g[0],z(g[2]),g[3]):s(g,200,{},"OK"):d.put(S,_)),y(g)){var C=On(r.url)?u()[r.xsrfCookieName||t.xsrfCookieName]:n;C&&($[r.xsrfHeaderName||t.xsrfHeaderName]=C),a(r.method,S,i,o,$,r.timeout,r.withCredentials,r.responseType)}return _}function m(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var x=c("$http");t.paramSerializer=$(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var S=[];return o(s,function(t){S.unshift($(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function ke(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Oe(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,r){return Te(t,r,t.defer,e.angular.callbacks,n[0])}]}function Te(t,e,n,r,i){function s(t,e,n){var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){ui(o,"load",s),ui(o,"error",s),i.body.removeChild(o),o=null;var a=-1,u="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),u=t.type,a="error"===t.type?404:200),n&&n(a,u)},ai(o,"load",s),ai(o,"error",s),i.body.appendChild(o),s}return function(i,a,u,c,l,h,f,d){function p(){m&&m(),b&&b.abort()}function v(e,r,i,o,s){w(S)&&n.cancel(S),m=b=null,e(r,i,o,s),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==Cr(i)){var _="_"+(r.counter++).toString(36);r[_]=function(t){r[_].data=t,r[_].called=!0};var m=s(a.replace("JSON_CALLBACK","angular.callbacks."+_),_,function(t,e){v(c,t,r[_].data,"",e),r[_]=g})}else{var b=e(i,a);b.open(i,a,!0),o(l,function(t,e){w(t)&&b.setRequestHeader(e,t)}),b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"==kn(a).protocol?404:0),v(c,n,e,b.getAllResponseHeaders(),t)};var x=function(){v(c,-1,null,null,"")};if(b.onerror=x,b.onabort=x,f&&(b.withCredentials=!0),d)try{b.responseType=d}catch($){if("json"!==d)throw $}b.send(y(u)?null:u)}if(h>0)var S=n(p,h);else j(h)&&h.then(p)}}function Pe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function s(n){return n.replace(f,t).replace(d,e)}function a(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=G(t)}return t}function u(o,u,f,d){function p(t){try{return t=k(t),d&&!w(t)?t:a(t)}catch(e){r(Zi.interr(o,e))}}d=!!d;for(var g,v,_,m=0,b=[],x=[],$=o.length,S=[],C=[];$>m;){if(-1==(g=o.indexOf(t,m))||-1==(v=o.indexOf(e,g+c))){m!==$&&S.push(s(o.substring(m)));break}m!==g&&S.push(s(o.substring(m,g))),_=o.substring(g+c,v),b.push(_),x.push(n(_,p)),m=v+l,C.push(S.length),S.push("")}if(f&&S.length>1&&Zi.throwNoconcat(o),!u||b.length){var A=function(t){for(var e=0,n=b.length;n>e;e++){if(d&&y(t[e]))return;S[C[e]]=t[e]}return S.join("")},k=function(t){return f?i.getTrusted(f,t):i.valueOf(t)};return h(function(t){var e=0,n=b.length,i=new Array(n);try{for(;n>e;e++)i[e]=x[e](t);return A(i)}catch(s){r(Zi.interr(o,s))}},{exp:o,expressions:b,$$watchDelegate:function(t,e){var n;return t.$watchGroup(x,function(r,i){var o=A(r);E(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,f=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Me(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,s,a,u){var c=arguments.length>4,l=c?q(arguments,4):[],h=e.setInterval,f=e.clearInterval,d=0,p=w(u)&&!u,g=(p?r:n).defer(),v=g.promise;return a=w(a)?a:0,v.then(null,null,c?function(){i.apply(null,l)}:i),v.$$intervalId=h(function(){g.notify(d++),a>0&&d>=a&&(g.resolve(d),f(v.$$intervalId),delete o[v.$$intervalId]),p||t.$apply()},s),o[v.$$intervalId]=g,v}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function Ie(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function je(t,e){var n=kn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||Ki[n.protocol]||null}function Re(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=kn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=tt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function De(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Be(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ne(t){return t.replace(/(#.+)|#$/,"$1")}function Le(t){return t.substr(0,Be(t).lastIndexOf("/")+1)}function Ue(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function ze(t,e,n){this.$$html5=!0,n=n||"",je(t,this),this.$$parse=function(t){var n=De(e,t);if(!$(n))throw Qi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Re(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),n=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s,a;return w(o=De(t,r))?(s=o,a=w(o=De(n,o))?e+(De("/",o)||o):t+s):w(o=De(e,r))?a=e+o:e==r+"/"&&(a=e),a&&this.$$parse(a),!!a}}function Fe(t,e,n){je(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,s=De(t,r)||De(e,r);y(s)||"#"!==s.charAt(0)?this.$$html5?o=s:(o="",y(s)&&(t=r,this.replace())):(o=De(n,s),y(o)&&(o=s)),Re(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Be(t)==Be(e)?(this.$$parse(e),!0):!1}}function He(t,e,n){this.$$html5=!0,Fe.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return t==Be(r)?o=r:(s=De(e,r))?o=t+n+s:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function qe(t){return function(){return this[t]}}function Ve(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ye(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return w(e)?(t=e,this):t},this.html5Mode=function(t){return I(t)?(e.enabled=t,this):b(t)?(I(t.enabled)&&(e.enabled=t.enabled),I(t.requireBase)&&(e.requireBase=t.requireBase),I(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){function a(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(s){throw c.url(i),c.$$state=o,s}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,h,f=r.baseHref(),d=r.url();if(e.enabled){if(!f&&e.requireBase)throw Qi("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Ue(d)+(f||"/"),l=i.history?ze:He}else h=Be(d),l=Fe;var p=Le(h);c=new l(h,p,"#"+t),c.$$parseLinkUrl(d,d),c.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Pr(t.target);"a"!==N(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var a=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");b(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=kn(a.animVal).href),g.test(a)||!a||i.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(a,u)&&(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),Ne(c.absUrl())!=Ne(d)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){return y(De(p,t))?void(s.location.href=t):(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=Ne(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,a(i,!1,o)):(v=!1,u(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=Ne(r.url()),e=Ne(c.absUrl()),o=r.state(),s=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&a(e,s,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Ge(){var t=!0,e=this;this.debugEnabled=function(e){return w(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||g,s=!1;try{s=!!i.apply}catch(a){}return s?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function We(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw eo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Je(t,e){if(t+="",!$(t))throw eo("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function Ze(t,e){if(t){if(t.constructor===t)throw eo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw eo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw eo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw eo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Xe(t,e){if(t){if(t.constructor===t)throw eo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===no||t===ro||t===io)throw eo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ke(t,e){if(t&&(t===0..constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw eo("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function Qe(t,e){return"undefined"!=typeof t?t:e}function tn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function en(t,e){var n=t(e);return!n.$stateful}function nn(t,e){var n,r;switch(t.type){case uo.Program:n=!0,o(t.body,function(t){nn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case uo.Literal:t.constant=!0,t.toWatch=[];break;case uo.UnaryExpression:nn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case uo.BinaryExpression:nn(t.left,e),nn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case uo.LogicalExpression:nn(t.left,e),nn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case uo.ConditionalExpression:nn(t.test,e),nn(t.alternate,e),nn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case uo.Identifier:t.constant=!1,t.toWatch=[t];break;case uo.MemberExpression:nn(t.object,e),t.computed&&nn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case uo.CallExpression:n=t.filter?en(e,t.callee.name):!1,r=[],o(t.arguments,function(t){nn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&en(e,t.callee.name)?r:[t];break;case uo.AssignmentExpression:nn(t.left,e),nn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case uo.ArrayExpression:n=!0,r=[],o(t.elements,function(t){nn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case uo.ObjectExpression:n=!0,r=[],o(t.properties,function(t){nn(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case uo.ThisExpression:t.constant=!1,t.toWatch=[]}}function rn(t){if(1==t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:n}}function on(t){return t.type===uo.Identifier||t.type===uo.MemberExpression}function sn(t){return 1===t.body.length&&on(t.body[0].expression)?{type:uo.AssignmentExpression,left:t.body[0].expression,right:{type:uo.NGValueParameter},operator:"="}:void 0}function an(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===uo.Literal||t.body[0].expression.type===uo.ArrayExpression||t.body[0].expression.type===uo.ObjectExpression)}function un(t){return t.constant}function cn(t,e){this.astBuilder=t,this.$filter=e}function ln(t,e){this.astBuilder=t,this.$filter=e}function hn(t){return"constructor"==t}function fn(t){return E(t.valueOf)?t.valueOf():lo.call(t)}function dn(){var t=vt(),e=vt();this.$get=["$filter",function(r){function i(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=fn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function s(t,e,r,o,s){var a,u=o.inputs;if(1===u.length){var c=i;return u=u[0],t.$watch(function(t){var e=u(t);return i(e,c)||(a=o(t,n,n,[e]),c=e&&fn(e)),a},e,r,s)}for(var l=[],h=[],f=0,d=u.length;d>f;f++)l[f]=i,h[f]=null;return t.$watch(function(t){for(var e=!1,r=0,s=u.length;s>r;r++){var c=u[r](t);(e||(e=!i(c,l[r])))&&(h[r]=c,l[r]=c&&fn(c))}return e&&(a=o(t,n,n,h)),a},e,r,s)}function a(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,E(e)&&e.apply(this,arguments),w(t)&&r.$$postDigest(function(){w(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){w(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return r(t)},function(t,n,r){a=t,E(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(a)&&s()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){E(e)&&e.apply(this,arguments),i()},n)}function l(t,e){if(!e)return t;var n=t.$$watchDelegate,r=!1,i=n!==u&&n!==a,o=i?function(n,i,o,s){var a=r&&s?s[0]:t(n,i,o,s);return e(a,n,i)}:function(n,r,i,o){var s=t(n,r,i,o),a=e(s,n,r);return w(s)?a:s};return t.$$watchDelegate&&t.$$watchDelegate!==s?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=s,r=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var h=Gr().noUnsafeEval,f={csp:h,expensiveChecks:!1},d={csp:h,expensiveChecks:!0};return function(n,i,o){var h,p,v;switch(typeof n){case"string":n=n.trim(),v=n;var _=o?e:t;if(h=_[v],!h){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var m=o?d:f,y=new ao(m),w=new co(y,r,m);h=w.parse(n),h.constant?h.$$watchDelegate=c:p?h.$$watchDelegate=h.literal?u:a:h.inputs&&(h.$$watchDelegate=s),_[v]=h}return l(h,i);case"function":return l(n,i);default:return l(g,i)}}}]}function pn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return vn(function(e){t.$evalAsync(e)},e)}]}function gn(){this.$get=["$browser","$exceptionHandler",function(t,e){return vn(function(e){t.defer(e)},e)}]}function vn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var s=0,a=o.length;a>s;++s){i=o[s][0],r=o[s][t.status];try{E(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function l(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function f(t){var e=new l,n=0,r=Hr(t)?[]:{};return o(t,function(t,i){n++,m(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var d=r("$q",TypeError),p=function(){return new l};h(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return _(e,!0,t)},function(e){return _(e,!1,t)},e)}}),h(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(t)||E(t))&&(n=t&&t.then),E(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;
this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,s=r.length;s>o;o++){i=r[o][0],t=r[o][3];try{i.notify(E(t)?t(n):n)}catch(a){e(a)}}})}});var g=function(t){var e=new l;return e.reject(t),e.promise},v=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},_=function(t,e,n){var r=null;try{E(n)&&(r=n())}catch(i){return v(i,!1)}return j(r)?r.then(function(){return v(t,e)},function(t){return v(t,!1)}):v(t,e)},m=function(t,e,n,r){var i=new l;return i.resolve(t),i.promise.then(e,n,r)},w=m,x=function $(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!E(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof $))return new $(t);var r=new l;return t(e,n),r.promise};return x.defer=p,x.reject=g,x.when=m,x.resolve=w,x.all=f,x}function _n(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function mn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,c,l,h){function f(t){t.currentScope.$$destroyed=!0}function d(t){9===Tr&&(t.$$childHead&&d(t.$$childHead),t.$$nextSibling&&d(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function v(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function _(){C.$$phase=null}function m(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function w(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function x(){}function $(){for(;O.length;)try{O.shift()()}catch(t){c(t)}a=null}function S(){null===a&&(a=h.defer(function(){C.$apply($)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=l(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,a=o.$$watchers,u={fn:e,last:x,get:i,exp:r||t,eq:!!n};return s=null,E(e)||(u.fn=g),a||(a=o.$$watchers=[]),a.unshift(u),m(this,1),function(){L(a,u)>=0&&m(o,-1),s=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,a)):e(i,r,a)}var r=new Array(t.length),i=new Array(t.length),s=[],a=this,u=!1,c=!0;if(!t.length){var l=!0;return a.$evalAsync(function(){l&&e(i,i,a)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,a,u;if(!y(o)){if(b(o))if(i(o)){s!==d&&(s=d,v=s.length=0,h++),e=o.length,v!==e&&(h++,s.length=v=e);for(var c=0;e>c;c++)u=s[c],a=o[c],r=u!==u&&a!==a,r||u===a||(h++,s[c]=a)}else{s!==p&&(s=p={},v=0,h++),e=0;for(n in o)Er.call(o,n)&&(e++,a=o[n],u=s[n],n in s?(r=u!==u&&a!==a,r||u===a||(h++,s[n]=a)):(v++,s[n]=a,h++));if(v>e){h++;for(n in s)Er.call(o,n)||(v--,delete s[n])}}else s!==o&&(s=o,h++);return h}}function r(){if(g?(g=!1,e(o,o,u)):e(o,a,u),c)if(b(o))if(i(o)){a=new Array(o.length);for(var t=0;t<o.length;t++)a[t]=o[t]}else{a={};for(var n in o)Er.call(o,n)&&(a[n]=o[n])}else a=o}n.$stateful=!0;var o,s,a,u=this,c=e.length>1,h=0,f=l(t,n),d=[],p={},g=!0,v=0;return this.$watch(f,r)},$digest:function(){var t,r,i,o,u,l,f,d,p,g,m=e,y=this,w=[];v("$digest"),h.$$checkUrlChange(),this===C&&null!==a&&(h.defer.cancel(a),$()),s=null;do{for(l=!1,d=y;A.length;){try{g=A.shift(),g.scope.$eval(g.expression,g.locals)}catch(b){c(b)}s=null}t:do{if(o=d.$$watchers)for(u=o.length;u--;)try{if(t=o[u])if((r=t.get(d))===(i=t.last)||(t.eq?F(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===s){l=!1;break t}}else l=!0,s=t,t.last=t.eq?U(r,null):r,t.fn(r,i===x?r:i,d),5>m&&(p=4-m,w[p]||(w[p]=[]),w[p].push({msg:E(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(b){c(b)}if(!(f=d.$$watchersCount&&d.$$childHead||d!==y&&d.$$nextSibling))for(;d!==y&&!(f=d.$$nextSibling);)d=d.$parent}while(d=f);if((l||A.length)&&!m--)throw _(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,w)}while(l||A.length);for(_();k.length;)try{k.shift()()}catch(b){c(b)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&h.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var e in this.$$listenerCount)w(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){C.$$phase||A.length||h.defer(function(){A.length&&C.$digest()}),A.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{v("$apply");try{return this.$eval(t)}finally{_()}}catch(e){c(e)}finally{try{C.$digest()}catch(e){throw c(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&O.push(e),S()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,w(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],s=this,a=!1,u={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=H([u],arguments,1);do{for(n=s.$$listeners[t]||o,u.currentScope=s,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,l)}catch(h){c(h)}else n.splice(r,1),r--,i--;if(a)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var s,a,u,l=H([o],arguments,1);r=i;){for(o.currentScope=r,s=r.$$listeners[t]||[],a=0,u=s.length;u>a;a++)if(s[a])try{s[a].apply(null,l)}catch(h){c(h)}else s.splice(a,1),a--,u--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var C=new p,A=C.$$asyncQueue=[],k=C.$$postDigestQueue=[],O=C.$$applyAsyncQueue=[];return C}]}function yn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=kn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function wn(t){if("self"===t)return t;if($(t)){if(t.indexOf("***")>-1)throw ho("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Yr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(A(t))return new RegExp("^"+t.source+"$");throw ho("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function bn(t){var e=[];return w(t)&&o(t,function(t){e.push(wn(t))}),e}function xn(){this.SCE_CONTEXTS=fo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=bn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=bn(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?On(e):!!t.exec(e.href)}function i(n){var i,o,s=kn(n.toString()),a=!1;for(i=0,o=t.length;o>i;i++)if(r(t[i],s)){a=!0;break}if(a)for(i=0,o=e.length;o>i;i++)if(r(e[i],s)){a=!1;break}return a}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw ho("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw ho("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function a(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||y(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===fo.RESOURCE_URL){if(i(e))return e;throw ho("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===fo.HTML)return c(e);throw ho("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw ho("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),h={};return h[fo.HTML]=o(l),h[fo.CSS]=o(l),h[fo.URL]=o(l),h[fo.JS]=o(l),h[fo.RESOURCE_URL]=o(h[fo.URL]),{trustAs:s,getTrusted:u,valueOf:a}}]}function $n(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Tr)throw ho("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=z(fo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=v),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,s=r.getTrusted,a=r.trustAs;return o(fo,function(t,e){var n=Cr(e);r[xt("parse_as_"+n)]=function(e){return i(t,e)},r[xt("get_trusted_"+n)]=function(e){return s(t,e)},r[xt("trust_as_"+n)]=function(e){return a(t,e)}}),r}]}function Sn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=d((/android (\d+)/.exec(Cr((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=a.body&&a.body.style,l=!1,h=!1;if(c){for(var f in c)if(r=u.exec(f)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),h=!!("animation"in c||n+"Animation"in c),!o||l&&h||(l=$(c.webkitTransition),h=$(c.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||s),hasEvent:function(t){if("input"===t&&11>=Tr)return!1;if(y(i[t])){var e=a.createElement("div");i[t]="on"+t in e}return i[t]},csp:Gr(),vendorPrefix:n,transitions:l,animations:h,android:o}}]}function Cn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,r){function i(o,s){function a(t){if(!s)throw Ni("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText);return n.reject(t)}i.totalPendingRequests++,$(o)&&t.get(o)||(o=r.getTrustedResourceUrl(o));var u=e.defaults&&e.defaults.transformResponse;Hr(u)?u=u.filter(function(t){return t!==be}):u===be&&(u=null);var c={cache:t,transformResponse:u};return e.get(o,c)["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},a)}return i.totalPendingRequests=0,i}]}function En(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Ur.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Yr(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",s="["+r[i]+"model"+o+'"'+e+'"]',a=t.querySelectorAll(s);if(a.length)return a}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function An(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,a,u){E(o)||(u=a,a=o,o=g);var c,l=q(arguments,3),h=w(u)&&!u,f=(h?r:n).defer(),d=f.promise;return c=e.defer(function(){try{f.resolve(o.apply(null,l))}catch(e){f.reject(e),i(e)}finally{delete s[d.$$timeoutId]}h||t.$apply()},a),d.$$timeoutId=c,s[c]=f,d}var s={};return o.cancel=function(t){return t&&t.$$timeoutId in s?(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function kn(t){var e=t;return Tr&&(po.setAttribute("href",e),e=po.href),po.setAttribute("href",e),{href:po.href,protocol:po.protocol?po.protocol.replace(/:$/,""):"",host:po.host,search:po.search?po.search.replace(/^\?/,""):"",hash:po.hash?po.hash.replace(/^#/,""):"",hostname:po.hostname,port:po.port,pathname:"/"===po.pathname.charAt(0)?po.pathname:"/"+po.pathname}}function On(t){var e=$(t)?kn(t):t;return e.protocol===go.protocol&&e.host===go.host}function Tn(){this.$get=_(t)}function Pn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},r={},i="";return function(){var t,o,s,a,u,c=n.cookie||"";if(c!==i)for(i=c,t=i.split("; "),r={},s=0;s<t.length;s++)o=t[s],a=o.indexOf("="),a>0&&(u=e(o.substring(0,a)),y(r[u])&&(r[u]=e(o.substring(a+1))));return r}}function Mn(){this.$get=Pn}function In(t){function e(r,i){if(b(r)){var s={};return o(r,function(t,n){s[n]=e(n,t)}),s}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Nn),e("date",Qn),e("filter",jn),e("json",tr),e("limitTo",er),e("lowercase",xo),e("number",Ln),e("orderBy",nr),e("uppercase",$o)}function jn(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var o,s,a=Bn(e);switch(a){case"function":o=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=Rn(e,n,s);break;default:return t}return Array.prototype.filter.call(t,o)}}function Rn(t,e,n){var r,i=b(t)&&"$"in t;return e===!0?e=F:E(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:b(e)||b(t)&&!m(t)?!1:(t=Cr(""+t),e=Cr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!b(r)?Dn(r,t.$,e,!1):Dn(r,t,e,n)}}function Dn(t,e,n,r,i){var o=Bn(t),s=Bn(e);if("string"===s&&"!"===e.charAt(0))return!Dn(t,e.substring(1),n,r);if(Hr(t))return t.some(function(t){return Dn(t,e,n,r)});switch(o){case"object":var a;if(r){for(a in t)if("$"!==a.charAt(0)&&Dn(t[a],e,n,!0))return!0;return i?!1:Dn(t,e,n,!1)}if("object"===s){for(a in e){var u=e[a];if(!E(u)&&!y(u)){var c="$"===a,l=c?t:t[a];if(!Dn(l,u,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Bn(t){return null===t?"null":typeof t}function Nn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Fn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Ln(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Fn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Un(t){var e,n,r,i,o,s=0;for((n=t.indexOf(_o))>-1&&(t=t.replace(_o,"")),(r=t.search(/e/i))>0?(0>n&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):0>n&&(n=t.length),r=0;t.charAt(r)==mo;r++);if(r==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==mo;)o--;for(n-=r,e=[],i=0;o>=r;r++,i++)e[i]=+t.charAt(r)}return n>vo&&(e=e.splice(0,vo-1),s=n-1,n=1),{d:e,e:s,i:n}}function zn(t,e,n,r){var i=t.d,o=i.length-t.i;e=y(e)?Math.min(Math.max(n,o),r):+e;var s=e+t.i,a=i[s];if(s>0)i.splice(s);else{t.i=1,i.length=s=e+1;for(var u=0;s>u;u++)i[u]=0}for(a>=5&&i[s-1]++;e>o;o++)i.push(0);var c=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);c&&(i.unshift(c),t.i++)}function Fn(t,e,n,r,i){if(!$(t)&&!S(t)||isNaN(t))return"";var o,s=!isFinite(t),a=!1,u=Math.abs(t)+"",c="";if(s)c="";else{o=Un(u),zn(o,i,e.minFrac,e.maxFrac);var l=o.d,h=o.i,f=o.e,d=[];for(a=l.reduce(function(t,e){return t&&!e},!0);0>h;)l.unshift(0),h++;h>0?d=l.splice(h):(d=l,l=[0]);var p=[];for(l.length>e.lgSize&&p.unshift(l.splice(-e.lgSize).join(""));l.length>e.gSize;)p.unshift(l.splice(-e.gSize).join(""));l.length&&p.unshift(l.join("")),c=p.join(n),d.length&&(c+=r+d.join("")),f&&(c+="e+"+f)}return 0>t&&!a?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Hn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t=mo+t;return n&&(t=t.substr(t.length-e)),r+t}function qn(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Hn(o,e,r)}}function Vn(t,e){return function(n,r){var i=n["get"+t](),o=Ar(e?"SHORT"+t:t);return r[o][i]}}function Yn(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Hn(Math[r>0?"floor":"ceil"](r/60),2)+Hn(Math.abs(r%60),2)}function Gn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Wn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Jn(t){return function(e){var n=Gn(e.getFullYear()),r=Wn(e),i=+r-+n,o=1+Math.round(i/6048e5);return Hn(o,t)}}function Zn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Xn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Kn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Qn(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,s=e[8]?r.setUTCFullYear:r.setFullYear,a=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=d(e[9]+e[10]),o=d(e[9]+e[11])),s.call(r,d(e[1]),d(e[2])-1,d(e[3]));var u=d(e[4]||0)-i,c=d(e[5]||0)-o,l=d(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(r,u,c,l,h),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var s,a,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,$(n)&&(n=bo.test(n)?d(n):e(n)),S(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)a=wo.exec(r),a?(c=H(c,a,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=J(i,n.getTimezoneOffset()),n=X(n,i,!0)),o(c,function(e){s=yo[e],u+=s?s(n,t.DATETIME_FORMATS,l):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function tr(){return function(t,e){return y(e)&&(e=2),G(t,e)}}function er(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):d(e),isNaN(e)?t:(S(t)&&(t=t.toString()),Hr(t)||$(t)?(n=!n||isNaN(n)?0:d(n),n=0>n?Math.max(0,t.length+n):n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function nr(t){function e(e,n){return n=n?-1:1,e.map(function(e){var r=1,i=v;if(E(e))i=e;else if($(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(r="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var o=i();i=function(t){return t[o]}}return{get:i,descending:r*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function r(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:m(t)&&(t=t.toString(),n(t))?t:e}function o(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=r(t,e)),{value:t,type:n}}function s(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,r){function a(t,e){return{value:t,predicateValues:c.map(function(n){return o(n.get(t),e)})}}function u(t,e){for(var n=0,r=0,i=c.length;i>r&&!(n=s(t.predicateValues[r],e.predicateValues[r])*c[r].descending);++r);return n}if(!i(t))return t;Hr(n)||(n=[n]),0===n.length&&(n=["+"]);var c=e(n,r);c.push({get:function(){return{}},descending:r?-1:1});var l=Array.prototype.map.call(t,a);return l.sort(u),t=l.map(function(t){return t.value})}}function rr(t){return E(t)&&(t={link:t}),t.restrict=t.restrict||"AC",_(t)}function ir(t,e){t.$name=e}function or(t,e,r,i,s){var a=this,u=[];a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(r),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Eo,a.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},a.$addControl=function(t){dt(t.$name,"input"),u.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),o(a.$$success,function(e,n){a.$setValidity(n,null,t)}),L(u,t),t.$$parentForm=Eo},wr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(L(r,n),0===r.length&&delete t[e])},$animate:i}),a.$setDirty=function(){i.removeClass(t,us),i.addClass(t,cs),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(t,us,cs+" "+Ao),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(u,function(t){t.$setPristine()})},a.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},a.$setSubmitted=function(){i.addClass(t,Ao),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function sr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ar(t,e,n,r,i,o){ur(t,e,n,r,i,o),sr(r)}function ur(t,e,n,r,i,o){var s=Cr(e[0].type);if(!i.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,u()})}var u=function(t){if(c&&(o.defer.cancel(c),c=null),!a){var i=e.val(),u=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=Vr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function cr(t,e){if(C(t))return t;if($(t)){Bo.lastIndex=0;var n=Bo.exec(t);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,u=0,c=Gn(r),l=7*(i-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,s,a,u)}}return NaN}function lr(t,e){return function(n,r){var i,s;if(C(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Po.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function hr(t,e,r,i){return function(o,s,a,u,c,l,h){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return w(t)&&!C(t)?r(t)||n:t}fr(o,s,a,u),ur(o,s,a,u,c,l);var p,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return g&&(i=X(i,g)),i}return n}),u.$formatters.push(function(t){if(t&&!C(t))throw ds("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&g&&(p=X(p,g,!0)),h("date")(t,i,g)):(p=null,"")}),w(a.min)||a.ngMin){var v;u.$validators.min=function(t){return!f(t)||y(v)||r(t)>=v},a.$observe("min",function(t){v=d(t),u.$validate()})}if(w(a.max)||a.ngMax){var _;u.$validators.max=function(t){return!f(t)||y(_)||r(t)<=_},a.$observe("max",function(t){_=d(t),u.$validate()})}}}function fr(t,e,r,i){var o=e[0],s=i.$$hasNativeValidators=b(o.validity);s&&i.$parsers.push(function(t){var r=e.prop(Sr)||{};return r.badInput&&!r.typeMismatch?n:t})}function dr(t,e,r,i,o,s){if(fr(t,e,r,i),ur(t,e,r,i,o,s),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:jo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!S(t))throw ds("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),w(r.min)||r.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||y(a)||t>=a},r.$observe("min",function(t){w(t)&&!S(t)&&(t=parseFloat(t,10)),a=S(t)&&!isNaN(t)?t:n,i.$validate()})}if(w(r.max)||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||y(u)||u>=t},r.$observe("max",function(t){w(t)&&!S(t)&&(t=parseFloat(t,10)),u=S(t)&&!isNaN(t)?t:n,i.$validate()})}}function pr(t,e,n,r,i,o){ur(t,e,n,r,i,o),sr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Mo.test(n)}}function gr(t,e,n,r,i,o){ur(t,e,n,r,i,o),sr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Io.test(n)}}function vr(t,e,n,r){y(n.name)&&e.attr("name",u());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function _r(t,e,n,r,i){var o;if(w(r)){if(o=t(r),!o.constant)throw ds("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function mr(t,e,n,r,i,o,s,a){var u=_r(a,t,"ngTrueValue",n.ngTrueValue,!0),c=_r(a,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return F(t,u)}),r.$parsers.push(function(t){return t?u:c})}function yr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return Hr(t)?(o(t,function(t){e=e.concat(i(t))}),e):$(t)?t.split(" "):b(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,u){function c(t){var e=h(t,1);u.$addClass(e)}function l(t){var e=h(t,-1);u.$removeClass(e)}function h(t,e){var n=a.data("$classCounts")||vt(),r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),a.data("$classCounts",n),r.join(" ")}function f(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(a,i),o&&o.length&&n.removeClass(a,o)}function d(t){if(e===!0||s.$index%2===e){var n=i(t||[]);if(p){if(!F(t,p)){var r=i(p);f(r,n)}}else c(n)}p=z(t)}var p;s.$watch(u[t],d,!0),u.$observe("class",function(e){d(s.$eval(u[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var a=i(s.$eval(u[t]));o===e?c(a):l(a)}})}}}]}function wr(t){function e(t,e,u){y(e)?r("$pending",t,u):i("$pending",t,u),I(e)?e?(h(a.$error,t,u),l(a.$$success,t,u)):(l(a.$error,t,u),h(a.$$success,t,u)):(h(a.$error,t,u),h(a.$$success,t,u)),a.$pending?(o(fs,!0),a.$valid=a.$invalid=n,s("",null)):(o(fs,!1),a.$valid=br(a.$error),a.$invalid=!a.$valid,s("",a.$valid));var c;c=a.$pending&&a.$pending[t]?n:a.$error[t]?!1:a.$$success[t]?!0:null,s(t,c),a.$$parentForm.$setValidity(t,c,a)}function r(t,e,n){a[t]||(a[t]={}),l(a[t],e,n)}function i(t,e,r){a[t]&&h(a[t],e,r),br(a[t])&&(a[t]=n)}function o(t,e){e&&!c[t]?(f.addClass(u,t),c[t]=!0):!e&&c[t]&&(f.removeClass(u,t),c[t]=!1)}function s(t,e){t=t?"-"+ct(t,"-"):"",o(ss+t,e===!0),o(as+t,e===!1)}var a=t.ctrl,u=t.$element,c={},l=t.set,h=t.unset,f=t.$animate;c[as]=!(c[ss]=u.hasClass(ss)),a.$setValidity=e}function br(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function xr(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var $r=/^\/(.+)\/([a-z]*)$/,Sr="validity",Cr=function(t){return $(t)?t.toLowerCase():t},Er=Object.prototype.hasOwnProperty,Ar=function(t){return $(t)?t.toUpperCase():t},kr=function(t){return $(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Or=function(t){return $(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Cr=kr,Ar=Or);var Tr,Pr,Mr,Ir,jr=[].slice,Rr=[].splice,Dr=[].push,Br=Object.prototype.toString,Nr=Object.getPrototypeOf,Lr=r("ng"),Ur=t.angular||(t.angular={}),zr=0;Tr=e.documentMode,g.$inject=[],v.$inject=[];var Fr,Hr=Array.isArray,qr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Vr=function(t){return $(t)?t.trim():t},Yr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Gr=function(){function t(){try{return new Function(""),!1}catch(t){return!0}}if(!w(Gr.rules)){var n=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Gr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Gr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Gr.rules},Wr=function(){if(w(Wr.name_))return Wr.name_;var t,n,r,i,o=Jr.length;for(n=0;o>n;++n)if(r=Jr[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Wr.name_=i},Jr=["ng-","data-ng-","ng:","x-ng-"],Zr=/[A-Z]/g,Xr=!1,Kr=1,Qr=2,ti=3,ei=8,ni=9,ri=11,ii={full:"1.4.9",major:1,minor:4,dot:9,codeName:"implicit-superannuation"};kt.expando="ng339";var oi=kt.cache={},si=1,ai=function(t,e,n){t.addEventListener(e,n,!1)},ui=function(t,e,n){t.removeEventListener(e,n,!1)};kt._data=function(t){return this.cache[t[this.expando]]||{}};var ci=/([\:\-\_]+(.))/g,li=/^moz([A-Z])/,hi={mouseleave:"mouseout",mouseenter:"mouseover"},fi=r("jqLite"),di=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pi=/<|&#?\w+;/,gi=/<([\w:-]+)/,vi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,_i={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_i.optgroup=_i.option,_i.tbody=_i.tfoot=_i.colgroup=_i.caption=_i.thead,_i.th=_i.td;var mi=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},yi=kt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),kt(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Pr(t>=0?this[t]:this[this.length+t])},length:0,push:Dr,sort:[].sort,splice:[].splice},wi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){wi[Cr(t)]=t});var bi={};o("input,select,option,textarea,button,form,details".split(","),function(t){bi[t]=!0});var xi={ngMinlength:"minlength",
ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:jt,removeData:Mt,hasData:Ct},function(t,e){kt[e]=t}),o({data:jt,inheritedData:Ut,scope:function(t){return Pr.data(t,"$scope")||Ut(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Pr.data(t,"$isolateScope")||Pr.data(t,"$isolateScopeNoTemplate")},controller:Lt,injector:function(t){return Ut(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Rt,css:function(t,e,n){return e=xt(e),w(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==ti&&i!==Qr&&i!==ei){var o=Cr(e);if(wi[o]){if(!w(r))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(w(r))t.setAttribute(e,r);else if(t.getAttribute){var s=t.getAttribute(e,2);return null===s?n:s}}},prop:function(t,e,n){return w(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Kr||n===ti?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===N(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(Tt(t,!0),void(t.innerHTML=e))},empty:zt},function(t,e){kt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==zt&&y(2==t.length&&t!==Rt&&t!==Lt?e:n)){if(b(e)){for(r=0;o>r;r++)if(t===jt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var s=t.$dv,a=y(s)?Math.min(o,1):o,u=0;a>u;u++){var c=t(this[u],e,n);s=s?s+c:c}return s}for(r=0;o>r;r++)t(this[r],e,n);return this}}),o({removeData:Mt,on:function(t,e,r,i){if(w(i))throw fi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(St(t)){var o=It(t,!0),s=o.events,a=o.handle;a||(a=o.handle=Yt(t,s));for(var u=e.indexOf(" ")>=0?e.split(" "):[e],c=u.length,l=function(e,n,i){var o=s[e];o||(o=s[e]=[],o.specialHandlerWrapper=n,"$destroy"===e||i||ai(t,e,a)),o.push(r)};c--;)e=u[c],hi[e]?(l(hi[e],Wt),l(e,n,!0)):l(e)}},off:Pt,one:function(t,e,n){t=Pr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Tt(t),o(new kt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Kr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Kr||n===ri){e=new kt(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Kr){var n=t.firstChild;o(new kt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Pr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Ft,detach:function(t){Ft(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new kt(e);for(var i=0,o=e.length;o>i;i++){var s=e[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:Bt,removeClass:Dt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Rt(t,e)),(r?Bt:Dt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==ri?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Ot,triggerHandler:function(t,e,n){var r,i,s,a=e.type||e,u=It(t),c=u&&u.events,l=c&&c[a];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:a,target:t},e.type&&(r=h(r,e)),i=z(l),s=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,s)}))}},function(t,e){kt.prototype[e]=function(e,n,r){for(var i,o=0,s=this.length;s>o;o++)y(i)?(i=t(this[o],e,n,r),w(i)&&(i=Pr(i))):Nt(i,t(this[o],e,n,r));return w(i)?i:this},kt.prototype.bind=kt.prototype.on,kt.prototype.unbind=kt.prototype.off}),Xt.prototype={put:function(t,e){this[Zt(t,this.nextUid)]=e},get:function(t){return this[Zt(t,this.nextUid)]},remove:function(t){var e=this[t=Zt(t,this.nextUid)];return delete this[t],e}};var $i=[function(){this.$get=[function(){return Xt}]}],Si=/^[^\(]*\(\s*([^\)]*)\)/m,Ci=/,/,Ei=/^\s*(_?)(\S+?)\1\s*$/,Ai=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ki=r("$injector");te.$$annotate=Qt;var Oi=r("$animate"),Ti=1,Pi="ng-animate",Mi=function(){this.$get=function(){}},Ii=function(){var t=new Xt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=$(e)?e.split(" "):Hr(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function s(){o(e,function(e){var n=t.get(e);if(n){var r=ie(e.attr("class")),i="",s="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:s+=(s.length?" ":"")+e)}),o(e,function(t){i&&Bt(t,i),s&&Dt(t,s)}),t.remove(e)}}),e.length=0}function a(n,o,a){var u=t.get(n)||{},c=i(u,o,!0),l=i(u,a,!1);(c||l)&&(t.put(n,u),e.push(n),1===e.length&&r.$$postDigest(s))}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&a(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},ji=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Oi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Pi+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Oi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Pi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=re(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Pr(r),i=i&&Pr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",oe(o))},move:function(n,r,i,o){return r=r&&Pr(r),i=i&&Pr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",oe(o))},leave:function(e,n){return t.push(e,"leave",oe(n),function(){e.remove()})},addClass:function(e,n,r){return r=oe(r),r.addClass=ne(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=oe(r),r.removeClass=ne(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=oe(i),i.addClass=ne(i.addClass,n),i.removeClass=ne(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=oe(o),o.from=o.from?h(o.from,n):n,o.to=o.to?h(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=ne(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Ri=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Di=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,r,i){function s(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=r[0];n&&n.hidden?o(t):e(t)},this._state=0}var a=0,u=1,c=2;return s.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},s.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===c?t():this._doneCallbacks.push(t)},progress:g,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===a&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==c&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=c)}},s}]},Bi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),a||u.complete(),a=!0}),u}function o(){s.addClass&&(e.addClass(s.addClass),s.addClass=null),s.removeClass&&(e.removeClass(s.removeClass),s.removeClass=null),s.to&&(e.css(s.to),s.to=null)}var s=r||{};s.$$prepared||(s=U(s)),s.cleanupStyles&&(s.from=s.to=null),s.from&&(e.css(s.from),s.from=null);var a,u=new n;return{start:i,end:i}}}]},Ni=r("$compile");le.$inject=["$provide","$$sanitizeUriProvider"];var Li=/^((?:x|data)[\:\-_])/i,Ui=r("$controller"),zi=/^(\S+)(\s+as\s+([\w$]+))?$/,Fi=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Pr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Hi="application/json",qi={"Content-Type":Hi+";charset=utf-8"},Vi=/^\[|^\{(?!\{)/,Yi={"[":/]$/,"{":/}$/},Gi=/^\)\]\}',?\n/,Wi=r("$http"),Ji=function(t){return function(){throw Wi("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Zi=Ur.$interpolateMinErr=r("$interpolate");Zi.throwNoconcat=function(t){throw Zi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Zi.interr=function(t,e){return Zi("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Xi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ki={http:80,https:443,ftp:21},Qi=r("$location"),to={$$html5:!1,$$replace:!1,absUrl:qe("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Xi.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:qe("$$protocol"),host:qe("$$host"),port:qe("$$port"),path:Ve("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if($(t)||S(t))t=t.toString(),this.$$search=tt(t);else{if(!b(t))throw Qi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=U(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ve("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([He,Fe,ze],function(t){t.prototype=Object.create(to),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==ze||!this.$$html5)throw Qi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var eo=r("$parse"),no=Function.prototype.call,ro=Function.prototype.apply,io=Function.prototype.bind,oo=vt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){oo[t]=!0});var so={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ao=function(t){this.options=t};ao.prototype={constructor:ao,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=oo[e],o=oo[n],s=oo[r];if(i||o||s){var a=s?r:o?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=w(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw eo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Cr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=so[o];n+=a||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var uo=function(t,e){this.lexer=t,this.options=e};uo.Program="Program",uo.ExpressionStatement="ExpressionStatement",uo.AssignmentExpression="AssignmentExpression",uo.ConditionalExpression="ConditionalExpression",uo.LogicalExpression="LogicalExpression",uo.BinaryExpression="BinaryExpression",uo.UnaryExpression="UnaryExpression",uo.CallExpression="CallExpression",uo.MemberExpression="MemberExpression",uo.Identifier="Identifier",uo.Literal="Literal",uo.ArrayExpression="ArrayExpression",uo.Property="Property",uo.ObjectExpression="ObjectExpression",uo.ThisExpression="ThisExpression",uo.NGValueParameter="NGValueParameter",uo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:uo.Program,body:t}},expressionStatement:function(){return{type:uo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:uo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:uo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:uo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:uo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:uo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:uo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:uo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:uo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:uo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=U(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:uo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:uo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:uo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:uo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:uo.Identifier,name:t.text}},constant:function(){return{type:uo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:uo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:uo.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:uo.ObjectExpression,properties:e}},throwError:function(t,e){throw eo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw eo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw eo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===r||s===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:uo.Literal,value:!0},"false":{type:uo.Literal,value:!1},"null":{type:uo.Literal,value:null},undefined:{type:uo.Literal,value:n},"this":{type:uo.ThisExpression}}},cn.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nn(i,r.$filter);var s,a="";if(this.stage="assign",s=sn(i)){this.state.computing="assign";var u=this.nextId();this.recurse(s,u),this.return_(u),a="fn.assign="+this.generateFunction("assign","s,v,l")}var c=rn(i.body);r.stage="inputs",o(c,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,We,Ze,Xe,Je,Ke,Qe,tn,t);return this.state=this.stage=n,h.literal=an(i),h.constant=un(i),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,s,a){var u,c,l,h,f=this;if(i=i||g,!a&&w(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,s,!0));switch(t.type){case uo.Program:o(t.body,function(e,r){f.recurse(e.expression,n,n,function(t){c=t}),r!==t.body.length-1?f.current().body.push(c,";"):f.return_(c)});break;case uo.Literal:h=this.escape(t.value),this.assign(e,h),i(h);break;case uo.UnaryExpression:this.recurse(t.argument,n,n,function(t){c=t}),h=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,h),i(h);break;case uo.BinaryExpression:this.recurse(t.left,n,n,function(t){u=t}),this.recurse(t.right,n,n,function(t){c=t}),h="+"===t.operator?this.plus(u,c):"-"===t.operator?this.ifDefined(u,0)+t.operator+this.ifDefined(c,0):"("+u+")"+t.operator+"("+c+")",this.assign(e,h),i(h);break;case uo.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_("&&"===t.operator?e:f.not(e),f.lazyRecurse(t.right,e)),i(e);break;case uo.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),i(e);break;case uo.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),We(t.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_("inputs"===f.stage||"s",function(){s&&1!==s&&f.if_(f.not(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),(f.state.expensiveChecks||hn(t.name))&&f.addEnsureSafeObject(e),i(e);break;case uo.MemberExpression:u=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,u,n,function(){f.if_(f.notNull(u),function(){t.computed?(c=f.nextId(),f.recurse(t.property,c),f.getStringValue(c),f.addEnsureSafeMemberName(c),s&&1!==s&&f.if_(f.not(f.computedMember(u,c)),f.lazyAssign(f.computedMember(u,c),"{}")),h=f.ensureSafeObject(f.computedMember(u,c)),f.assign(e,h),r&&(r.computed=!0,r.name=c)):(We(t.property.name),s&&1!==s&&f.if_(f.not(f.nonComputedMember(u,t.property.name)),f.lazyAssign(f.nonComputedMember(u,t.property.name),"{}")),h=f.nonComputedMember(u,t.property.name),(f.state.expensiveChecks||hn(t.property.name))&&(h=f.ensureSafeObject(h)),f.assign(e,h),r&&(r.computed=!1,r.name=t.property.name))},function(){f.assign(e,"undefined")}),i(e)},!!s);break;case uo.CallExpression:e=e||this.nextId(),t.filter?(c=f.filter(t.callee.name),l=[],o(t.arguments,function(t){var e=f.nextId();f.recurse(t,e),l.push(e)}),h=c+"("+l.join(",")+")",f.assign(e,h),i(e)):(c=f.nextId(),u={},l=[],f.recurse(t.callee,c,u,function(){f.if_(f.notNull(c),function(){f.addEnsureSafeFunction(c),o(t.arguments,function(t){f.recurse(t,f.nextId(),n,function(t){l.push(f.ensureSafeObject(t))})}),u.name?(f.state.expensiveChecks||f.addEnsureSafeObject(u.context),h=f.member(u.context,u.name,u.computed)+"("+l.join(",")+")"):h=c+"("+l.join(",")+")",h=f.ensureSafeObject(h),f.assign(e,h)},function(){f.assign(e,"undefined")}),i(e)}));break;case uo.AssignmentExpression:if(c=this.nextId(),u={},!on(t.left))throw eo("lval","Trying to assign a value to a non l-value");this.recurse(t.left,n,u,function(){f.if_(f.notNull(u.context),function(){f.recurse(t.right,c),f.addEnsureSafeObject(f.member(u.context,u.name,u.computed)),f.addEnsureSafeAssignContext(u.context),h=f.member(u.context,u.name,u.computed)+t.operator+c,f.assign(e,h),i(e||h)})},1);break;case uo.ArrayExpression:l=[],o(t.elements,function(t){f.recurse(t,f.nextId(),n,function(t){l.push(t)})}),h="["+l.join(",")+"]",this.assign(e,h),i(h);break;case uo.ObjectExpression:l=[],o(t.properties,function(t){f.recurse(t.value,f.nextId(),n,function(e){l.push(f.escape(t.key.type===uo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+l.join(",")+"}",this.assign(e,h),i(h);break;case uo.ThisExpression:this.assign(e,"s"),i("s");break;case uo.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var s=this;return function(){s.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if($(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw eo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},ln.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,nn(r,n.$filter);var i,s;(i=sn(r))&&(s=this.recurse(i));var a,u=rn(r.body);u&&(a=[],o(u,function(t,e){var r=n.recurse(t);t.input=r,a.push(r),t.watchId=e}));var c=[];o(r.body,function(t){c.push(n.recurse(t.expression))});var l=0===r.body.length?function(){}:1===r.body.length?c[0]:function(t,e){var n;return o(c,function(r){n=r(t,e)}),n};return s&&(l.assign=function(t,e,n){return s(t,n,e)}),a&&(l.inputs=a),l.literal=an(r),l.constant=un(r),l},recurse:function(t,e,r){var i,s,a,u=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case uo.Literal:return this.value(t.value,e);case uo.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case uo.BinaryExpression:return i=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](i,s,e);case uo.LogicalExpression:return i=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](i,s,e);case uo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case uo.Identifier:return We(t.name,u.expression),u.identifier(t.name,u.expensiveChecks||hn(t.name),e,r,u.expression);case uo.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(We(t.property.name,u.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(i,s,e,r,u.expression):this.nonComputedMember(i,s,u.expensiveChecks,e,r,u.expression);case uo.CallExpression:return a=[],o(t.arguments,function(t){a.push(u.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var u=[],c=0;c<a.length;++c)u.push(a[c](t,r,i,o));var l=s.apply(n,u,o);return e?{context:n,name:n,value:l}:l}:function(t,n,r,i){var o,c=s(t,n,r,i);if(null!=c.value){Ze(c.context,u.expression),Xe(c.value,u.expression);for(var l=[],h=0;h<a.length;++h)l.push(Ze(a[h](t,n,r,i),u.expression));o=Ze(c.value.apply(c.context,l),u.expression)}return e?{value:o}:o};case uo.AssignmentExpression:return i=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,r,o){var a=i(t,n,r,o),c=s(t,n,r,o);return Ze(a.value,u.expression),Ke(a.context),a.context[a.name]=c,e?{value:c}:c};case uo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(u.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case uo.ObjectExpression:return a=[],o(t.properties,function(t){a.push({key:t.key.type===uo.Identifier?t.key.name:""+t.key.value,value:u.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case uo.ThisExpression:return function(t){return e?{value:t}:t};case uo.NGValueParameter:return function(t,n,r,i){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var s=t(n,r,i,o);return s=w(s)?+s:0,e?{value:s}:s}},"unary-":function(t,e){return function(n,r,i,o){var s=t(n,r,i,o);return s=w(s)?-s:0,e?{value:s}:s}},"unary!":function(t,e){return function(n,r,i,o){var s=!t(n,r,i,o);return e?{value:s}:s}},"binary+":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s),u=e(r,i,o,s),c=tn(a,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s),u=e(r,i,o,s),c=(w(a)?a:0)-(w(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)*e(r,i,o,s);return n?{value:a}:a}},"binary/":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)/e(r,i,o,s);return n?{value:a}:a}},"binary%":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)%e(r,i,o,s);return n?{value:a}:a}},"binary===":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)===e(r,i,o,s);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(r,i,o,s){
var a=t(r,i,o,s)!==e(r,i,o,s);return n?{value:a}:a}},"binary==":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)==e(r,i,o,s);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)!=e(r,i,o,s);return n?{value:a}:a}},"binary<":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)<e(r,i,o,s);return n?{value:a}:a}},"binary>":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)>e(r,i,o,s);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)<=e(r,i,o,s);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)>=e(r,i,o,s);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)&&e(r,i,o,s);return n?{value:a}:a}},"binary||":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s)||e(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(t,e,n,r){return function(i,o,s,a){var u=t(i,o,s,a)?e(i,o,s,a):n(i,o,s,a);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(s,a,u,c){var l=a&&t in a?a:s;i&&1!==i&&l&&!l[t]&&(l[t]={});var h=l?l[t]:n;return e&&Ze(h,o),r?{context:l,name:t,value:h}:h}},computedMember:function(t,e,n,r,i){return function(o,s,a,u){var c,l,h=t(o,s,a,u);return null!=h&&(c=e(o,s,a,u),c=Je(c),We(c,i),r&&1!==r&&h&&!h[c]&&(h[c]={}),l=h[c],Ze(l,i)),n?{context:h,name:c,value:l}:l}},nonComputedMember:function(t,e,r,i,o,s){return function(a,u,c,l){var h=t(a,u,c,l);o&&1!==o&&h&&!h[e]&&(h[e]={});var f=null!=h?h[e]:n;return(r||hn(e))&&Ze(f,s),i?{context:h,name:e,value:f}:f}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var co=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new uo(this.lexer),this.astCompiler=n.csp?new ln(this.ast,e):new cn(this.ast,e)};co.prototype={constructor:co,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var lo=Object.prototype.valueOf,ho=r("$sce"),fo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ni=r("$compile"),po=e.createElement("a"),go=kn(t.location.href);Pn.$inject=["$document"],In.$inject=["$provide"];var vo=22,_o=".",mo="0";Nn.$inject=["$locale"],Ln.$inject=["$locale"];var yo={yyyy:qn("FullYear",4),yy:qn("FullYear",2,0,!0),y:qn("FullYear",1),MMMM:Vn("Month"),MMM:Vn("Month",!0),MM:qn("Month",2,1),M:qn("Month",1,1),dd:qn("Date",2),d:qn("Date",1),HH:qn("Hours",2),H:qn("Hours",1),hh:qn("Hours",2,-12),h:qn("Hours",1,-12),mm:qn("Minutes",2),m:qn("Minutes",1),ss:qn("Seconds",2),s:qn("Seconds",1),sss:qn("Milliseconds",3),EEEE:Vn("Day"),EEE:Vn("Day",!0),a:Zn,Z:Yn,ww:Jn(2),w:Jn(1),G:Xn,GG:Xn,GGG:Xn,GGGG:Kn},wo=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,bo=/^\-?\d+$/;Qn.$inject=["$locale"];var xo=_(Cr),$o=_(Ar);nr.$inject=["$parse"];var So=_({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Br.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Co={};o(wi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=he("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Co[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(xi,function(t,e){Co[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match($r);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=he("ng-"+t);Co[e]=function(){return{priority:99,link:function(n,r,i){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Br.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(s,e),void(Tr&&o&&r.prop(o,i[s]))):void("href"===t&&i.$set(s,null))})}}}});var Eo={$addControl:g,$$renameControl:ir,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},Ao="ng-submitted";or.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ko=function(t){return["$timeout","$parse",function(e,r){function i(t){return""===t?r('this[""]').assign:r(t).assign||g}var o={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:or,compile:function(r,o){r.addClass(us).addClass(ss);var s=o.name?"name":t&&o.ngForm?"ngForm":!1;return{pre:function(t,r,o,a){var u=a[0];if(!("action"in o)){var c=function(e){t.$apply(function(){u.$commitViewValue(),u.$setSubmitted()}),e.preventDefault()};ai(r[0],"submit",c),r.on("$destroy",function(){e(function(){ui(r[0],"submit",c)},0,!1)})}var l=a[1]||u.$$parentForm;l.$addControl(u);var f=s?i(u.$name):g;s&&(f(t,u),o.$observe(s,function(e){u.$name!==e&&(f(t,n),u.$$parentForm.$$renameControl(u,e),(f=i(u.$name))(t,u))})),r.on("$destroy",function(){u.$$parentForm.$removeControl(u),f(t,n),h(u,Eo)})}}}};return o}]},Oo=ko(),To=ko(!0),Po=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Mo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Io=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,jo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ro=/^(\d{4})-(\d{2})-(\d{2})$/,Do=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Bo=/^(\d{4})-W(\d\d)$/,No=/^(\d{4})-(\d\d)$/,Lo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Uo={text:ar,date:hr("date",Ro,lr(Ro,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":hr("datetimelocal",Do,lr(Do,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:hr("time",Lo,lr(Lo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:hr("week",Bo,cr,"yyyy-Www"),month:hr("month",No,lr(No,["yyyy","MM"]),"yyyy-MM"),number:dr,url:pr,email:gr,radio:vr,checkbox:mr,hidden:g,button:g,submit:g,reset:g,file:g},zo=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(Uo[Cr(s.type)]||Uo.text)(i,o,s,a[0],e,t,n,r)}}}}],Fo=/^(true|false|\d+)$/,Ho=function(){return{restrict:"A",priority:100,compile:function(t,e){return Fo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},qo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=y(t)?"":t})}}}}],Vo=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=y(t)?"":t})}}}}],Yo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),s=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(s,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Go=_({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Wo=yr("",!0),Jo=yr("Odd",0),Zo=yr("Even",1),Xo=rr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Ko=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Qo={},ts={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=he("ng-"+t);Qo[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){s(e,{$event:n})};ts[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var es=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,u,c;n.$watch(i.ngIf,function(n){n?u||s(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),a={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),a&&(c=gt(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],ns=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ur.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,u,c,l){var h,f,d,p=0,g=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){f=null}),f=d,d=null)};r.$watch(o,function(o){var u=function(){!w(a)||a&&!r.$eval(a)||e()},f=++p;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&f===p){var e=r.$new();c.template=t;var a=l(e,function(t){g(),n.enter(t,null,i).then(u)});h=e,d=a,h.$emit("$includeContentLoaded",o),r.$eval(s)}},function(){r.$$destroyed||f===p&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),c.template=null)})}}}}],rs=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(Et(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],is=rr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),os=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var s=e.attr(r.$attr.ngList)||", ",a="false"!==r.ngTrim,u=a?Vr(s):s,c=function(t){if(!y(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(a?Vr(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){return Hr(t)?t.join(s):n}),i.$isEmpty=function(t){return!t||!t.length}}}},ss="ng-valid",as="ng-invalid",us="ng-pristine",cs="ng-dirty",ls="ng-untouched",hs="ng-touched",fs="ng-pending",ds=r("ngModel"),ps=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,s,a,u,c,l,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(r.name||"",!1)(t),this.$$parentForm=Eo;var f,d=s(r.ngModel),p=d.assign,v=d,_=p,m=null,b=this;this.$$setOptions=function(t){if(b.$options=t,t&&t.getterSetter){var e=s(r.ngModel+"()"),n=s(r.ngModel+"($$$p)");v=function(t){var n=d(t);return E(n)&&(n=e(t)),n},_=function(t,e){E(d(t))?n(t,{$$$p:b.$modelValue}):p(t,b.$modelValue)}}else if(!d.assign)throw ds("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,K(i))},this.$render=g,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var x=0;wr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(i,cs),a.addClass(i,us)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(i,us),a.addClass(i,cs),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(i,ls,hs)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(i,hs,ls)},this.$rollbackViewValue=function(){u.cancel(m),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!S(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$lastCommittedViewValue,e=b.$$rawModelValue,r=b.$valid,i=b.$modelValue,o=b.$options&&b.$options.allowInvalid;b.$$runValidators(e,t,function(t){o||r===t||(b.$modelValue=t?e:n,b.$modelValue!==i&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=b.$$parserName||"parse";return y(f)?(u(t,null),!0):(f||(o(b.$validators,function(t,e){u(e,null)}),o(b.$asyncValidators,function(t,e){u(e,null)})),u(t,f),f)}function s(){var n=!0;return o(b.$validators,function(r,i){var o=r(t,e);n=n&&o,u(i,o)}),n?!0:(o(b.$asyncValidators,function(t,e){u(e,null)}),!1)}function a(){var r=[],i=!0;o(b.$asyncValidators,function(o,s){var a=o(t,e);if(!j(a))throw ds("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);u(s,n),r.push(a.then(function(){u(s,!0)},function(t){i=!1,u(s,!1)}))}),r.length?l.all(r).then(function(){c(i)},g):c(!0)}function u(t,e){h===x&&b.$setValidity(t,e)}function c(t){h===x&&r(t)}x++;var h=x;return i()&&s()?void a():void c(!1)},this.$commitViewValue=function(){var t=b.$viewValue;u.cancel(m),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){b.$modelValue!==s&&b.$$writeModelToScope()}var r=b.$$lastCommittedViewValue,i=r;if(f=y(i)?n:!0)for(var o=0;o<b.$parsers.length;o++)if(i=b.$parsers[o](i),y(i)){f=!1;break}S(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=v(t));var s=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=i,a&&(b.$modelValue=i,e()),b.$$runValidators(i,b.$$lastCommittedViewValue,function(t){a||(b.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){_(t,b.$modelValue),o(b.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){b.$viewValue=t,(!b.$options||b.$options.updateOnDefault)&&b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=b.$options;i&&w(i.debounce)&&(n=i.debounce,S(n)?r=n:S(n[e])?r=n[e]:S(n["default"])&&(r=n["default"])),u.cancel(m),r?m=u(function(){b.$commitViewValue()},r):c.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,f=n;for(var r=b.$formatters,i=r.length,o=e;i--;)o=r[i](o);b.$viewValue!==o&&(b.$viewValue=b.$$lastCommittedViewValue=o,b.$render(),b.$$runValidators(e,o,g))}return e})}],gs=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ps,priority:1,compile:function(e){return e.addClass(us).addClass(ls).addClass(ss),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],vs=/(\s+|^)default(\s+|$)/,_s=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=U(t.$eval(e.ngModelOptions)),w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Vr(this.$options.updateOn.replace(vs,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ms=rr({terminal:!0,priority:1e3}),ys=r("ngOptions"),ws=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,bs=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function s(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var a=t.match(ws);if(!a)throw ys("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,K(e));var u=a[5]||a[7],c=a[6],l=/ as /.test(a[0])&&a[1],h=a[9],f=n(a[2]?a[1]:u),d=l&&n(l),p=d||f,g=h&&n(h),v=h?function(t,e){return g(r,e)}:function(t){return Zt(t)},_=function(t,e){return v(t,$(t,e))},m=n(a[2]||a[1]),y=n(a[3]||""),w=n(a[4]||""),b=n(a[8]),x={},$=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:h,getTrackByValue:_,getWatchables:n(b,function(t){var e=[];t=t||[];for(var n=s(t),i=n.length,o=0;i>o;o++){var u=t===n?o:n[o],c=(t[u],$(t[u],u)),l=v(t[u],c);if(e.push(l),a[2]||a[1]){var h=m(r,c);e.push(h)}if(a[4]){var f=w(r,c);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=b(r)||[],i=s(n),a=i.length,u=0;a>u;u++){var c=n===i?u:i[u],l=n[c],f=$(l,c),d=p(r,f),g=v(d,f),x=m(r,f),S=y(r,f),C=w(r,f),E=new o(g,d,x,S,C);t.push(E),e[g]=E}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[_(t)]},getViewValueFromOption:function(t){return h?Ur.copy(t.viewValue):t.viewValue}}}}}function s(e,n,i,s){function c(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function l(t,e,n,r){var i;return e&&Cr(e.nodeName)===n?i=e:(i=r.cloneNode(!1),e?t.insertBefore(i,e):t.appendChild(i)),i}function h(t){for(var e;t;)e=t.nextSibling,Ft(t),t=e}function f(t){var e=g&&g[0],n=x&&x[0];if(e||n)for(;t&&(t===e||t===n||t.nodeType===ei||"option"===N(t)&&""===t.value);)t=t.nextSibling;return t}function d(){var t=$&&v.readValue();$=S.getOptions();var e={},r=n[0].firstChild;if(b&&n.prepend(g),r=f(r),$.items.forEach(function(t){var i,o,s;t.group?(i=e[t.group],i||(o=l(n[0],r,"optgroup",u),r=o.nextSibling,o.label=t.group,i=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),s=l(i.groupElement,i.currentOptionElement,"option",a),c(t,s),i.currentOptionElement=s.nextSibling):(s=l(n[0],r,"option",a),c(t,s),r=s.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(r),p.$render(),!p.$isEmpty(t)){var i=v.readValue(),o=S.trackBy||_;(o?F(t,i):t===i)||(p.$setViewValue(i),p.$render())}}var p=s[1];if(p){for(var g,v=s[0],_=i.multiple,m=0,y=n.children(),w=y.length;w>m;m++)if(""===y[m].value){g=y.eq(m);break}var b=!!g,x=Pr(a.cloneNode(!1));x.val("?");var $,S=r(i.ngOptions,n,e),C=function(){b||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},E=function(){b||g.remove()},A=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},k=function(){x.remove()};_?(p.$isEmpty=function(t){return!t||0===t.length},v.writeValue=function(t){$.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=$.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},v.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=$.selectValueMap[t];n&&!n.disabled&&e.push($.getViewValueFromOption(n))}),e},S.trackBy&&e.$watchCollection(function(){return Hr(p.$viewValue)?p.$viewValue.map(function(t){return S.getTrackByValue(t)}):void 0},function(){p.$render()})):(v.writeValue=function(t){var e=$.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(k(),E(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||b?(k(),C()):(E(),A())},v.readValue=function(){var t=$.selectValueMap[n.val()];return t&&!t.disabled?(E(),k(),$.getViewValueFromOption(t)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(p.$viewValue)},function(){p.$render()})),b?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=Pr(a.cloneNode(!1)),d(),e.$watchCollection(S.getWatchables,d)}}var a=e.createElement("option"),u=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=g},post:s}}}],xs=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(s,a,u){function c(t){a.text(t||"")}var l,h=u.count,f=u.$attr.when&&a.attr(u.$attr.when),d=u.offset||0,p=s.$eval(f)||{},v={},_=e.startSymbol(),m=e.endSymbol(),w=_+h+"-"+d+m,b=Ur.noop;o(u,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+Cr(n[2]);p[r]=a.attr(u.$attr[e])}}),o(p,function(t,n){v[n]=e(t.replace(r,w))}),s.$watch(h,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in p||(r=t.pluralCat(r-d)),r!==l&&!(i&&S(l)&&isNaN(l))){b();var o=v[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),b=g,c()):b=s.$watch(o,c),l=r}})}}}],$s=["$parse","$animate",function(t,s){var a="$$NG_REMOVED",u=r("ngRepeat"),c=function(t,e,n,r,i,o,s){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var d=f.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var v=g[1],_=g[2],m=g[3],y=g[4];if(g=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var w=g[3]||g[1],b=g[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var x,$,S,C,E={$id:Zt};return y?x=t(y):(S=function(t,e){return Zt(e)},C=function(t){return t}),function(t,e,r,f,g){x&&($=function(e,n,r){return b&&(E[b]=e),E[w]=n,E.$index=r,x(t,E)});var v=vt();t.$watchCollection(_,function(r){var f,_,y,x,E,A,k,O,T,P,M,I,j=e[0],R=vt();if(m&&(t[m]=r),i(r))T=r,O=$||S;else{O=$||C,T=[];for(var D in r)Er.call(r,D)&&"$"!==D.charAt(0)&&T.push(D)}for(x=T.length,M=new Array(x),f=0;x>f;f++)if(E=r===T?f:T[f],A=r[E],k=O(E,A,f),v[k])P=v[k],delete v[k],R[k]=P,M[f]=P;else{if(R[k])throw o(M,function(t){t&&t.scope&&(v[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,k,A);M[f]={id:k,scope:n,clone:n},R[k]=!0}for(var B in v){if(P=v[B],I=gt(P.clone),s.leave(I),I[0].parentNode)for(f=0,_=I.length;_>f;f++)I[f][a]=!0;P.scope.$destroy()}for(f=0;x>f;f++)if(E=r===T?f:T[f],A=r[E],P=M[f],P.scope){y=j;do y=y.nextSibling;while(y&&y[a]);l(P)!=y&&s.move(gt(P.clone),null,Pr(j)),j=h(P),c(P.scope,f,w,A,b,E,x)}else g(function(t,e){P.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,s.enter(t,null,Pr(j)),j=n,P.clone=t,R[P.id]=P,c(P.scope,f,w,A,b,E,x)});v=R})}}}}],Ss="ng-hide",Cs="ng-hide-animate",Es=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,Ss,{tempClasses:Cs})})}}}],As=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,Ss,{tempClasses:Cs})})}}}],ks=rr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Os=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,s){var a=i.ngSwitch||i.on,u=[],c=[],l=[],h=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var r,i;for(r=0,i=l.length;i>r;++r)t.cancel(l[r]);for(l.length=0,r=0,i=h.length;i>r;++r){var a=gt(c[r].clone);h[r].$destroy();var d=l[r]=t.leave(a);d.then(f(l,r))}c.length=0,h.length=0,(u=s.cases["!"+n]||s.cases["?"])&&o(u,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var s={clone:r};c.push(s),t.enter(r,o.parent(),o)})})})}}}],Ts=rr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Ps=rr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Ms=rr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",K(e));o(function(t){e.empty(),e.append(t)})}}),Is=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],js={$setViewValue:g,$render:g},Rs=["$element","$scope","$attrs",function(t,r,i){var o=this,s=new Xt;o.ngModelCtrl=js,o.unknownOption=Pr(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Zt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){dt(t,'"option value"'),""===t&&(o.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1),o.ngModelCtrl.$render(),xr(e)},o.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(o.emptyOption=n)):s.put(t,e-1))},o.hasOption=function(t){return!!s.get(t)},o.registerOption=function(t,e,n,r,i){if(r){var s;n.$observe("value",function(t){w(s)&&o.removeOption(s),s=t,o.addOption(t,e)})}else i?t.$watch(i,function(t,r){n.$set("value",t),r!==t&&o.removeOption(r),o.addOption(t,e)}):o.addOption(n.value,e);e.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],Ds=function(){function t(t,e,n,r){var i=r[1];if(i){var s=r[0];if(s.ngModelCtrl=i,e.on("change",function(){t.$apply(function(){i.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Xt(t);o(e.find("option"),function(t){t.selected=w(n.get(t.value))})};var a,u=NaN;t.$watch(function(){u!==i.$viewValue||F(a,i.$viewValue)||(a=z(i.$viewValue),i.$render()),u=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Rs,priority:1,link:{pre:t,post:e}}},Bs=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(w(n.value))var r=t(n.value,!0);else{var i=t(e.text(),!0);i||n.$set("value",e.text())}return function(t,e,n){var o="$selectController",s=e.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(t,e,n,r,i)}}}}],Ns=_({restrict:"E",terminal:!1}),Ls=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Us=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var s,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if($(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,K(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||y(s)||s.test(e)}}}}},zs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=d(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Fs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=d(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(lt(),wt(Ur),Ur.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function r(t,r){var i=r;n===i&&(i=Math.min(e(t),3));var o=Math.pow(10,i),s=(t*o|0)%o;return{v:i,f:s}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(t,e){var n=0|t,o=r(t,e);return 1==n&&0==o.v?i.ONE:i.OTHER}})}]),void Pr(e).ready(function(){ot(e,st)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function i(t,i){if(!r(i))throw s("badmember",'Dotted member path "@{0}" is invalid.',i);for(var o=i.split("."),a=0,u=o.length;u>a&&e.isDefined(t);a++){var c=o[a];t=null!==t?t[c]:n}return t}function o(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var s=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,r=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q",function(a,u,c){function l(t){return h(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function h(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function f(t,e){this.template=t,this.defaults=v({},r.defaults,e),this.urlParams={}}function d(t,l,h,y){function w(t,e){var n={};return e=v({},l,e),g(e,function(e,r){m(e)&&(e=e()),n[r]=e&&e.charAt&&"@"==e.charAt(0)?i(t,e.substr(1)):e}),n}function b(t){return t.resource}function x(t){o(t||{},this)}var $=new f(t,y);return h=v({},r.defaults.actions,h),x.prototype.toJSON=function(){var t=v({},this);return delete t.$promise,delete t.$resolved,t},g(h,function(t,r){var i=/^(POST|PUT|PATCH)$/i.test(t.method);x[r]=function(l,h,f,d){var y,S,C,E={};switch(arguments.length){case 4:C=d,S=f;case 3:case 2:if(!m(h)){E=l,y=h,S=f;break}if(m(l)){S=l,C=h;break}S=h,C=f;case 1:m(l)?S=l:i?y=l:E=l;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A=this instanceof x,k=A?y:t.isArray?[]:new x(y),O={},T=t.interceptor&&t.interceptor.response||b,P=t.interceptor&&t.interceptor.responseError||n;g(t,function(t,n){switch(n){default:O[n]=_(t);break;case"params":case"isArray":case"interceptor":break;case"timeout":t&&!e.isNumber(t)&&u.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),i&&(O.data=y),$.setUrlParams(O,v({},w(y,t.params||{}),E),t.url);var M=a(O).then(function(n){var i=n.data,a=k.$promise;if(i){if(e.isArray(i)!==!!t.isArray)throw s("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,t.isArray?"array":"object",e.isArray(i)?"array":"object",O.method,O.url);t.isArray?(k.length=0,g(i,function(t){"object"==typeof t?k.push(new x(t)):k.push(t)})):(o(i,k),k.$promise=a)}return k.$resolved=!0,n.resource=k,n},function(t){return k.$resolved=!0,(C||p)(t),c.reject(t)});return M=M.then(function(t){var e=T(t);return(S||p)(e,t.headers),e},P),A?M:(k.$promise=M,k.$resolved=!1,k)},x.prototype["$"+r]=function(t,e,n){m(t)&&(n=e,e=t,t={});var i=x[r].call(this,t,this,e,n);return i.$promise||i}}),x.bind=function(e){return d(t,v({},l,e),h)},x}var p=e.noop,g=e.forEach,v=e.extend,_=e.copy,m=e.isFunction;return f.prototype={setUrlParams:function(n,r,i){var o,a,u=this,c=i||u.template,h="",f=u.urlParams={};g(c.split(/\W/),function(t){if("hasOwnProperty"===t)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(c)&&(f[t]=!0)}),c=c.replace(/\\:/g,":"),c=c.replace(t,function(t){return h=t,""}),r=r||{},g(u.urlParams,function(t,n){o=r.hasOwnProperty(n)?r[n]:u.defaults[n],e.isDefined(o)&&null!==o?(a=l(o),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return a+e})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),u.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=h+c.replace(/\/\\\./,"/."),g(r,function(t,e){u.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},d}]})}(window,window.angular),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(){function t(t,n){return e.extend(Object.create(t),n)}function n(t,e){var n=e.caseInsensitiveMatch,r={originalPath:t,regexp:t},i=r.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,r){var o="?"===r?r:null,s="*"===r?r:null;return i.push({name:n,optional:!!o}),e=e||"",""+(o?"":e)+"(?:"+(o?e:"")+(s&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+t+"$",n?"i":""),r}var r={};this.when=function(t,i){var o=e.copy(i);if(e.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),e.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[t]=e.extend(o,t&&n(t,o)),t){var s="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";r[s]=e.extend({redirectTo:t},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,s,a,c,l){function h(t,e){var n=e.keys,r={};if(!e.regexp)return null;var i=e.regexp.exec(t);if(!i)return null;for(var o=1,s=i.length;s>o;++o){var a=n[o-1],u=i[o];a&&u&&(r[a.name]=u)}return r}function f(t){var r=y.current;v=p(),_=v&&r&&v.$$route===r.$$route&&e.equals(v.pathParams,r.pathParams)&&!v.reloadOnSearch&&!m,_||!r&&!v||n.$broadcast("$routeChangeStart",v,r).defaultPrevented&&t&&t.preventDefault()}function d(){var t=y.current,r=v;_?(t.params=r.params,e.copy(t.params,o),n.$broadcast("$routeUpdate",t)):(r||t)&&(m=!1,y.current=r,r&&r.redirectTo&&(e.isString(r.redirectTo)?i.path(g(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),s.when(r).then(function(){if(r){var t,n,i=e.extend({},r.resolve);return e.forEach(i,function(t,n){i[n]=e.isString(t)?a.get(t):a.invoke(t,null,null,n)}),e.isDefined(t=r.template)?e.isFunction(t)&&(t=t(r.params)):e.isDefined(n=r.templateUrl)&&(e.isFunction(n)&&(n=n(r.params)),e.isDefined(n)&&(r.loadedTemplateUrl=l.valueOf(n),t=c(n))),e.isDefined(t)&&(i.$template=t),s.all(i)}}).then(function(i){r==y.current&&(r&&(r.locals=i,e.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,t))},function(e){r==y.current&&n.$broadcast("$routeChangeError",r,t,e)}))}function p(){var n,o;return e.forEach(r,function(r,s){!o&&(n=h(i.path(),r))&&(o=t(r,{params:e.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&t(r[null],{params:{},pathParams:{}})}function g(t,n){var r=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)r.push(t);else{var i=t.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var v,_,m=!1,y={routes:r,reload:function(){m=!0,n.$evalAsync(function(){f(),d()})},updateParams:function(t){if(!this.current||!this.current.$$route)throw u("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),i.path(g(this.current.$$route.originalPath,t)),i.search(t)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",d),y}]}function i(){this.$get=function(){return{}}}function o(t,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,s,a,u){function c(){d&&(r.cancel(d),d=null),h&&(h.$destroy(),h=null),f&&(d=r.leave(f),d.then(function(){d=null}),f=null)}function l(){var s=t.current&&t.current.locals,a=s&&s.$template;if(e.isDefined(a)){var l=i.$new(),d=t.current,v=u(l,function(t){r.enter(t,null,f||o).then(function(){!e.isDefined(p)||p&&!i.$eval(p)||n()}),c()});f=v,h=d.scope=l,h.$emit("$viewContentLoaded"),h.$eval(g)}else c()}var h,f,d,p=s.autoscroll,g=s.onload||"";i.$on("$routeChangeSuccess",l),l()}}}function s(t,e,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,s=o.locals;i.html(s.$template);var a=t(i.contents());if(o.controller){s.$scope=r;var u=e(o.controller,s);o.controllerAs&&(r[o.controllerAs]=u),i.data("$ngControllerController",u),i.children().data("$ngControllerController",u)}a(r)}}}var a=e.module("ngRoute",["ng"]).provider("$route",r),u=e.$$minErr("ngRoute");a.provider("$routeParams",i),a.directive("ngView",o),a.directive("ngView",s),o.$inject=["$route","$anchorScroll","$animate"],s.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(t){"use strict";function e(t,e){return-1!==t.indexOf(e,t.length-e.length)}function n(){}function r(t,a){function u(t,e){return x.push(t),$.push(e),C!=s&&(C=s,setTimeout(function(){c()},0)),p}function c(){if(C!=s)return C=i,E(t),void(E=n);if(++S==x.length){if(!g)return S=x.length-1,void(C=i);S=0}x[S].apply(null,[].concat(c,$[S]))}function l(e,n,r){var i=n.length;return i?void function o(s){setTimeout(function(){b(t,w(t)+n[s]),s+=1,i>s?o(s):e()},r)}(0):e()}function h(n,r,i){var o=w(t),s=o.length;return null!=r&&("string"==typeof r?s=e(o,r+y)?r.length+y.length:0:r>-1&&(s=Math.min(r,s))),s?void function a(e){setTimeout(function(){var r=w(t);e?(b(t,r.substring(0,r.length-1)),a(e-1)):n()},i)}(s):n()}function f(e){b(t,""),e()}function d(e,n){n.call(e,t)}var p=this;if(!(p instanceof r))return new r(t,a);a=a||{};var g=a.loop,v=a.speed||a.typeSpeed||50,_=a.speed||a.deleteSpeed||50,m=a.delay||a.pauseDelay||2e3,y=a.postfix||"",w=a.getter||function(t){return t.innerHTML},b=a.setter||function(t,e){t.innerHTML=e},x=[],$=[],S=-1,C=i,E=n;p.type=function(t,e){return u(l,[t+y,e||v])},p["delete"]=function(t,e){return u(h,[t,e||_])},p.clear=function(){return u(f)},p.pause=function(t){return u(setTimeout,[t||m])},p.call=function(t){return u(d,[t])},p.triggerPause=function(t){return C=o,E=t||n,p},p.triggerResume=function(){if(C!=s){var t=C;C=s,t==i&&c()}return p},p.isRunning=function(){return C!=i}}var i=0,o=1,s=2;"object"==typeof module?module.exports=r:t.malarkey=r}(this),function(){"use strict";function t(t,e,n,r,i,o,s){function a(t){if(1!==arguments.length||t)if(t)f(t.toastId);else for(var e=0;e<y.length;e++)f(y[e].toastId)}function u(t,e,n){var r=p().iconClasses.error;return d(r,t,e,n)}function c(t,e,n){var r=p().iconClasses.info;return d(r,t,e,n)}function l(t,e,n){var r=p().iconClasses.success;return d(r,t,e,n)}function h(t,e,n){var r=p().iconClasses.warning;return d(r,t,e,n)}function f(e,n){function r(t){for(var e=0;e<y.length;e++)if(y[e].toastId===t)return y[e]}function i(){return!y.length}var a=r(e);a&&!a.deleting&&(a.deleting=!0,a.isOpened=!1,t.leave(a.el).then(function(){a.scope.options.onHidden&&a.scope.options.onHidden(n),a.scope.$destroy();var t=y.indexOf(a);delete b[a.scope.message],y.splice(t,1);var e=o.maxOpened;e&&y.length>=e&&y[e-1].open.resolve(),i()&&(_.remove(),_=null,x=s.defer())}))}function d(t,e,n,r){return angular.isObject(n)&&(r=n,n=null),v({iconClass:t,message:e,optionsOverride:r,title:n})}function p(){return angular.extend({},o)}function g(e){if(_)return x.promise;_=angular.element("<div></div>"),_.attr("id",e.containerId),_.addClass(e.positionClass),_.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(e.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return t.enter(_,n).then(function(){x.resolve()}),x.promise}function v(n){function o(){return d.autoDismiss&&d.maxOpened&&y.length>d.maxOpened}function a(t,e,n){n.allowHtml?(t.scope.allowHtml=!0,t.scope.title=i.trustAsHtml(e.title),t.scope.message=i.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.extraData=n.extraData,t.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:n.onShown,onTap:n.onTap,progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(t.scope.options.closeHtml=n.closeHtml)}function u(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,r=e.length;r>n;n++)delete t[e[n]];return t}var e={toastId:m++,isOpened:!1,scope:r.$new(),open:s.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(d,t(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),a(e,n,d),e.el=c(e.scope),e}function c(t){var n=angular.element("<div toast></div>"),r=e.get("$compile");return r(n)(t)}function l(){return d.maxOpened&&y.length<=d.maxOpened||!d.maxOpened}function h(){var t=d.preventDuplicates&&n.message===w,e=d.preventOpenDuplicates&&b[n.message];return t||e?!0:(w=n.message,b[n.message]=!0,!1)}var d=p();if(!h()){var v=u();if(y.push(v),o())for(var x=y.slice(0,y.length-d.maxOpened),$=0,S=x.length;S>$;$++)f(x[$].toastId);return l()&&v.open.resolve(),v.open.promise.then(function(){g(d).then(function(){if(v.isOpened=!0,d.newestOnTop)t.enter(v.el,_).then(function(){v.scope.init()});else{var e=_[0].lastChild?angular.element(_[0].lastChild):null;t.enter(v.el,_,e).then(function(){v.scope.init()})}})}),v}}var _,m=0,y=[],w="",b={},x=s.defer(),$={clear:a,error:u,info:c,remove:f,success:l,warning:h};return $}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,n,r){function i(){var t=(a-(new Date).getTime())/s*100;e.css("width",t+"%")}var o,s,a;r.progressBar=t,t.start=function(t){o&&clearInterval(o),s=parseFloat(t),a=(new Date).getTime()+s,o=setInterval(i,10)},t.stop=function(){o&&clearInterval(o)},t.$on("$destroy",function(){clearInterval(o)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,n,r){function i(n,i,o,s){function a(t){return s.startProgressBar(t),e(function(){s.stopProgressBar(),r.remove(n.toastId)},t,1)}function u(){n.progressBar=!1,s.stopProgressBar()}function c(){return n.options.closeHtml}var l;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,c()){var h=angular.element(n.options.closeHtml),f=t.get("$compile");h.addClass("toast-close-button"),h.attr("ng-click","close(true, $event)"),f(h)(n),i.prepend(h)}n.init=function(){n.options.timeOut&&(l=a(n.options.timeOut)),n.options.onShown&&n.options.onShown()},i.on("mouseenter",function(){u(),l&&e.cancel(l)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(t,e){e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation(),r.remove(n.toastId,t)},i.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),l=a(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:i}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),
//! license : MIT
//! momentjs.com
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return jn.apply(null,arguments)}function e(t){jn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,r){return kt(t,e,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(t){return null==t._pf&&(t._pf=u()),t._pf}function l(t){if(null==t._isValid){var e=c(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=a(NaN);return null!=t?s(c(e),t):c(e).userInvalidated=!0,e}function f(t,e){var n,r,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=c(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Dn.length>0)for(n in Dn)r=Dn[n],i=e[r],"undefined"!=typeof i&&(t[r]=i);return t}function d(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Bn===!1&&(Bn=!0,t.updateOffset(this),Bn=!1)}function p(t){return t instanceof d||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=g(e)),n}function _(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&v(t[r])!==v(e[r]))&&s++;return s+o}function m(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,r,i,o=0;o<t.length;){for(i=y(t[o]).split("-"),e=i.length,n=y(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=b(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&_(i,n,!0)>=e-1)break;e--}o++}return null}function b(t){var e=null;if(!Nn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Rn._abbr,require("./locale/"+t),x(e)}catch(n){}return Nn[t]}function x(t,e){var n;return t&&(n="undefined"==typeof e?S(t):$(t,e),n&&(Rn=n)),Rn._abbr}function $(t,e){return null!==e?(e.abbr=t,Nn[t]=Nn[t]||new m,Nn[t].set(e),x(t),Nn[t]):(delete Nn[t],null)}function S(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rn;if(!n(t)){if(e=b(t))return e;t=[t]}return w(t)}function C(t,e){var n=t.toLowerCase();Ln[n]=Ln[n+"s"]=Ln[e]=t}function E(t){return"string"==typeof t?Ln[t]||Ln[t.toLowerCase()]:void 0}function A(t){var e,n,r={};for(n in t)o(t,n)&&(e=E(n),e&&(r[e]=t[n]));return r}function k(e,n){return function(r){return null!=r?(T(this,e,r),t.updateOffset(this,n),this):O(this,e)}}function O(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function T(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=E(t),"function"==typeof this[t])return this[t](e);return this}function M(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function I(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Hn[t]=i),e&&(Hn[e[0]]=function(){return M(i.apply(this,arguments),e[1],e[2])}),n&&(Hn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function R(t){var e,n,r=t.match(Un);for(e=0,n=r.length;n>e;e++)Hn[r[e]]?r[e]=Hn[r[e]]:r[e]=j(r[e]);return function(i){var o="";for(e=0;n>e;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}function D(t,e){return t.isValid()?(e=B(e,t.localeData()),Fn[e]=Fn[e]||R(e),Fn[e](t)):t.localeData().invalidDate()}function B(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(zn.lastIndex=0;r>=0&&zn.test(t);)t=t.replace(zn,n),zn.lastIndex=0,r-=1;return t}function N(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function L(t,e,n){ir[t]=N(e)?e:function(t){return t&&n?n:e}}function U(t,e){return o(ir,t)?ir[t](e._strict,e._locale):new RegExp(z(t))}function z(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)or[t[n]]=r}function H(t,e){F(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function q(t,e,n){null!=e&&o(or,t)&&or[t](e,n._a,n,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function Y(t){return this._months[t.month()]}function G(t){return this._monthsShort[t.month()]}function W(t,e,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=a([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function J(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function Z(e){return null!=e?(J(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function X(){return V(this.year(),this.month())}function K(t){var e,n=t._a;return n&&-2===c(t).overflow&&(e=n[ar]<0||n[ar]>11?ar:n[ur]<1||n[ur]>V(n[sr],n[ar])?ur:n[cr]<0||n[cr]>24||24===n[cr]&&(0!==n[lr]||0!==n[hr]||0!==n[fr])?cr:n[lr]<0||n[lr]>59?lr:n[hr]<0||n[hr]>59?hr:n[fr]<0||n[fr]>999?fr:-1,c(t)._overflowDayOfYear&&(sr>e||e>ur)&&(e=ur),c(t).overflow=e),t}function Q(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var n=!0;return s(function(){return n&&(Q(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function et(t,e){gr[t]||(Q(e),gr[t]=!0)}function nt(t){var e,n,r=t._i,i=vr.exec(r);if(i){for(c(t).iso=!0,e=0,n=_r.length;n>e;e++)if(_r[e][1].exec(r)){t._f=_r[e][0];break}for(e=0,n=mr.length;n>e;e++)if(mr[e][1].exec(r)){t._f+=(i[6]||" ")+mr[e][0];break}r.match(er)&&(t._f+="Z"),bt(t)}else t._isValid=!1}function rt(e){var n=yr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(nt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function it(t,e,n,r,i,o,s){var a=new Date(t,e,n,r,i,o,s);return 1970>t&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function st(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function ut(){return at(this.year())}function ct(t,e,n){var r,i=n-e,o=n-t.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=Ot(t).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function lt(t){return ct(t,this._week.dow,this._week.doy).week}function ht(){return this._week.dow}function ft(){return this._week.doy}function dt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function gt(t,e,n,r,i){var o,s=6+i-r,a=ot(t,0,1+s),u=a.getUTCDay();return i>u&&(u+=7),n=null!=n?1*n:i,o=1+s+7*(e-1)-u+n,{year:o>0?t:t-1,dayOfYear:o>0?o:st(t-1)+o}}function vt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function _t(t,e,n){return null!=t?t:null!=e?e:n}function mt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function yt(t){var e,n,r,i,o=[];if(!t._d){for(r=mt(t),t._w&&null==t._a[ur]&&null==t._a[ar]&&wt(t),t._dayOfYear&&(i=_t(t._a[sr],r[sr]),t._dayOfYear>st(i)&&(c(t)._overflowDayOfYear=!0),n=ot(i,0,t._dayOfYear),t._a[ar]=n.getUTCMonth(),t._a[ur]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[cr]&&0===t._a[lr]&&0===t._a[hr]&&0===t._a[fr]&&(t._nextDay=!0,t._a[cr]=0),t._d=(t._useUTC?ot:it).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[cr]=24)}}function wt(t){var e,n,r,i,o,s,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=_t(e.GG,t._a[sr],ct(Ot(),1,4).year),r=_t(e.W,1),i=_t(e.E,1)):(o=t._locale._week.dow,s=t._locale._week.doy,n=_t(e.gg,t._a[sr],ct(Ot(),o,s).year),r=_t(e.w,1),null!=e.d?(i=e.d,o>i&&++r):i=null!=e.e?e.e+o:o),a=gt(n,r,i,s,o),t._a[sr]=a.year,t._dayOfYear=a.dayOfYear}function bt(e){if(e._f===t.ISO_8601)return void nt(e);e._a=[],c(e).empty=!0;var n,r,i,o,s,a=""+e._i,u=a.length,l=0;for(i=B(e._f,e._locale).match(Un)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(U(o,e))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&c(e).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),l+=r.length),Hn[o]?(r?c(e).empty=!1:c(e).unusedTokens.push(o),q(o,r,e)):e._strict&&!r&&c(e).unusedTokens.push(o);c(e).charsLeftOver=u-l,a.length>0&&c(e).unusedInput.push(a),c(e).bigHour===!0&&e._a[cr]<=12&&e._a[cr]>0&&(c(e).bigHour=void 0),e._a[cr]=xt(e._locale,e._a[cr],e._meridiem),yt(e),K(e)}function xt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function $t(t){var e,n,r,i,o;if(0===t._f.length)return c(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],bt(e),l(e)&&(o+=c(e).charsLeftOver,o+=10*c(e).unusedTokens.length,c(e).score=o,(null==r||r>o)&&(r=o,n=e));s(t,n||e)}function St(t){if(!t._d){var e=A(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],yt(t)}}function Ct(t){var e=new d(K(Et(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Et(t){var e=t._i,i=t._f;return t._locale=t._locale||S(t._l),null===e||void 0===i&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),p(e)?new d(K(e)):(n(i)?$t(t):i?bt(t):r(e)?t._d=e:At(t),t))}function At(e){var o=e._i;void 0===o?e._d=new Date:r(o)?e._d=new Date(+o):"string"==typeof o?rt(e):n(o)?(e._a=i(o.slice(0),function(t){return parseInt(t,10)}),yt(e)):"object"==typeof o?St(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function kt(t,e,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,Ct(o)}function Ot(t,e,n,r){return kt(t,e,n,r,!1)}function Tt(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ot();for(r=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](r))&&(r=e[i]);return r}function Pt(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)}function Mt(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)}function It(t){var e=A(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+36e5*a,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=S(),this._bubble()}function jt(t){return t instanceof It}function Rt(t,e){I(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+M(~~(t/60),2)+e+M(~~t%60,2)})}function Dt(t){var e=(t||"").match(er)||[],n=e[e.length-1]||[],r=(n+"").match(Sr)||["-",0,0],i=+(60*r[1])+v(r[2]);return"+"===r[0]?i:-i}function Bt(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(p(e)||r(e)?+e:+Ot(e))-+i,i._d.setTime(+i._d+o),t.updateOffset(i,!1),i):Ot(e).local()}function Nt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,n){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Dt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Nt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?ee(this,Zt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Nt(this)}function Ut(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function zt(t){return this.utcOffset(0,t)}function Ft(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Nt(this),"m")),this}function Ht(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Dt(this._i)),this}function qt(t){return t=t?Ot(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Yt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(f(t,this),t=Et(t),t._a){var e=t._isUTC?a(t._a):Ot(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Gt(){return!this._isUTC}function Wt(){return this._isUTC}function Jt(){return this._isUTC&&0===this._offset}function Zt(t,e){var n,r,i,s=t,a=null;return jt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=Cr.exec(t))?(n="-"===a[1]?-1:1,s={y:0,d:v(a[ur])*n,h:v(a[cr])*n,m:v(a[lr])*n,s:v(a[hr])*n,ms:v(a[fr])*n}):(a=Er.exec(t))?(n="-"===a[1]?-1:1,s={y:Xt(a[2],n),M:Xt(a[3],n),d:Xt(a[4],n),h:Xt(a[5],n),m:Xt(a[6],n),s:Xt(a[7],n),w:Xt(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=Qt(Ot(s.from),Ot(s.to)),s={},s.ms=i.milliseconds,s.M=i.months),r=new It(s),jt(t)&&o(t,"_locale")&&(r._locale=t._locale),r}function Xt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Kt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qt(t,e){var n;return e=Bt(e,t),t.isBefore(e)?n=Kt(t,e):(n=Kt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function te(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Zt(n,r),ee(this,i,t),this}}function ee(e,n,r,i){var o=n._milliseconds,s=n._days,a=n._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*r),s&&T(e,"Date",O(e,"Date")+s*r),a&&J(e,O(e,"Month")+a*r),i&&t.updateOffset(e,s||a)}function ne(t,e){var n=t||Ot(),r=Bt(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(e&&e[o]||this.localeData().calendar(o,this,Ot(n)))}function re(){return new d(this)}function ie(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Ot(t),+this>+t):(n=p(t)?+t:+Ot(t),n<+this.clone().startOf(e))}function oe(t,e){var n;return e=E("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:Ot(t),+t>+this):(n=p(t)?+t:+Ot(t),+this.clone().endOf(e)<n)}function se(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ae(t,e){var n;return e=E(e||"millisecond"),"millisecond"===e?(t=p(t)?t:Ot(t),+this===+t):(n=+Ot(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function ue(t,e,n){var r,i,o=Bt(t,this),s=6e4*(o.utcOffset()-this.utcOffset());return e=E(e),"year"===e||"month"===e||"quarter"===e?(i=ce(this,o),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-o,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?i:g(i)}function ce(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return 0>e-o?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function he(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():D(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fe(e){var n=D(this,e||t.defaultFormat);return this.localeData().postformat(n)}function de(t,e){return this.isValid()?Zt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.from(Ot(),t)}function ge(t,e){return this.isValid()?Zt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ve(t){return this.to(Ot(),t)}function _e(t){var e;return void 0===t?this._locale._abbr:(e=S(t),null!=e&&(this._locale=e),this)}function me(){return this._locale}function ye(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function we(t){return t=E(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function be(){return+this._d-6e4*(this._offset||0)}function xe(){return Math.floor(+this/1e3)}function $e(){return this._offset?new Date(+this):this._d}function Se(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ce(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ee(){return l(this)}function Ae(){return s({},c(this))}function ke(){return c(this).overflow}function Oe(t,e){I(0,[t,t.length],0,e)}function Te(t,e,n){return ct(Ot([t,11,31+e-n]),e,n).week}function Pe(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Me(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ie(){return Te(this.year(),1,4)}function je(){var t=this.localeData()._week;return Te(this.year(),t.dow,t.doy)}function Re(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function De(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Be(t){return this._weekdays[t.day()]}function Ne(t){return this._weekdaysShort[t.day()]}function Le(t){return this._weekdaysMin[t.day()]}function Ue(t){var e,n,r;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Ot([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function ze(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function Fe(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function He(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function qe(t,e){I(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ve(t,e){return e._meridiemParse}function Ye(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ge(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function We(t,e){e[fr]=v(1e3*("0."+t))}function Je(){return this._isUTC?"UTC":""}function Ze(){return this._isUTC?"Coordinated Universal Time":""}function Xe(t){return Ot(1e3*t)}function Ke(){return Ot.apply(null,arguments).parseZone()}function Qe(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.call(e,n):r}function tn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function en(){return this._invalidDate}function nn(t){return this._ordinal.replace("%d",t)}function rn(t){return t}function on(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)}function sn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function an(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function un(t,e,n,r){var i=S(),o=a().set(r,e);return i[n](o,t)}function cn(t,e,n,r,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return un(t,e,n,i);var o,s=[];for(o=0;r>o;o++)s[o]=un(t,o,n,i);return s}function ln(t,e){return cn(t,e,"months",12,"month")}function hn(t,e){return cn(t,e,"monthsShort",12,"month")}function fn(t,e){return cn(t,e,"weekdays",7,"day")}function dn(t,e){return cn(t,e,"weekdaysShort",7,"day")}function pn(t,e){return cn(t,e,"weekdaysMin",7,"day")}function gn(){var t=this._data;return this._milliseconds=Jr(this._milliseconds),this._days=Jr(this._days),this._months=Jr(this._months),t.milliseconds=Jr(t.milliseconds),t.seconds=Jr(t.seconds),t.minutes=Jr(t.minutes),t.hours=Jr(t.hours),t.months=Jr(t.months),t.years=Jr(t.years),this}function vn(t,e,n,r){var i=Zt(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function _n(t,e){return vn(this,t,e,1)}function mn(t,e){return vn(this,t,e,-1)}function yn(t){return 0>t?Math.floor(t):Math.ceil(t)}function wn(){var t,e,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*yn(xn(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=g(o/1e3),u.seconds=t%60,e=g(t/60),u.minutes=e%60,n=g(e/60),u.hours=n%24,s+=g(n/24),i=g(bn(s)),a+=i,s-=yn(xn(i)),r=g(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function bn(t){return 4800*t/146097}function xn(t){return 146097*t/4800}function $n(t){var e,n,r=this._milliseconds;if(t=E(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+bn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(xn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Sn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Cn(t){return function(){return this.as(t)}}function En(t){return t=E(t),this[t+"s"]()}function An(t){return function(){return this._data[t]}}function kn(){return g(this.days()/7)}function On(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Tn(t,e,n){var r=Zt(t).abs(),i=hi(r.as("s")),o=hi(r.as("m")),s=hi(r.as("h")),a=hi(r.as("d")),u=hi(r.as("M")),c=hi(r.as("y")),l=i<fi.s&&["s",i]||1===o&&["m"]||o<fi.m&&["mm",o]||1===s&&["h"]||s<fi.h&&["hh",s]||1===a&&["d"]||a<fi.d&&["dd",a]||1===u&&["M"]||u<fi.M&&["MM",u]||1===c&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,On.apply(null,l)}function Pn(t,e){return void 0===fi[t]?!1:void 0===e?fi[t]:(fi[t]=e,!0)}function Mn(t){var e=this.localeData(),n=Tn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function In(){var t,e,n,r=di(this._milliseconds)/1e3,i=di(this._days),o=di(this._months);t=g(r/60),e=g(t/60),r%=60,t%=60,n=g(o/12),o%=12;var s=n,a=o,u=i,c=e,l=t,h=r,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(c||l||h?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(h?h+"S":""):"P0D"}var jn,Rn,Dn=t.momentProperties=[],Bn=!1,Nn={},Ln={},Un=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fn={},Hn={},qn=/\d/,Vn=/\d\d/,Yn=/\d{3}/,Gn=/\d{4}/,Wn=/[+-]?\d{6}/,Jn=/\d\d?/,Zn=/\d{1,3}/,Xn=/\d{1,4}/,Kn=/[+-]?\d{1,6}/,Qn=/\d+/,tr=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,nr=/[+-]?\d+(\.\d{1,3})?/,rr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ir={},or={},sr=0,ar=1,ur=2,cr=3,lr=4,hr=5,fr=6;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),I("MMMM",0,0,function(t){return this.localeData().months(this,t)}),C("month","M"),L("M",Jn),L("MM",Jn,Vn),L("MMM",rr),L("MMMM",rr),F(["M","MM"],function(t,e){e[ar]=v(t)-1}),F(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[ar]=i:c(n).invalidMonth=t});var dr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),gr={};t.suppressDeprecationWarnings=!1;var vr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_r=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],mr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),C("year","y"),L("Y",tr),L("YY",Jn,Vn),L("YYYY",Xn,Gn),L("YYYYY",Kn,Wn),L("YYYYYY",Kn,Wn),F(["YYYYY","YYYYYY"],sr),F("YYYY",function(e,n){n[sr]=2===e.length?t.parseTwoDigitYear(e):v(e)}),F("YY",function(e,n){n[sr]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var wr=k("FullYear",!1);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),L("w",Jn),L("ww",Jn,Vn),L("W",Jn),L("WW",Jn,Vn),H(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=v(t)});var br={dow:0,doy:6};I("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),L("DDD",Zn),L("DDDD",Yn),F(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),t.ISO_8601=function(){};var xr=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ot.apply(null,arguments);return this>t?this:t}),$r=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ot.apply(null,arguments);return t>this?this:t});Rt("Z",":"),Rt("ZZ",""),L("Z",er),L("ZZ",er),F(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Dt(t)});var Sr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Cr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Er=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Zt.fn=It.prototype;var Ar=te(1,"add"),kr=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Or=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Oe("gggg","weekYear"),Oe("ggggg","weekYear"),Oe("GGGG","isoWeekYear"),Oe("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),L("G",tr),L("g",tr),L("GG",Jn,Vn),L("gg",Jn,Vn),L("GGGG",Xn,Gn),L("gggg",Xn,Gn),L("GGGGG",Kn,Wn),L("ggggg",Kn,Wn),H(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=v(t)}),H(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),I("Q",0,0,"quarter"),C("quarter","Q"),L("Q",qn),F("Q",function(t,e){e[ar]=3*(v(t)-1)}),I("D",["DD",2],"Do","date"),C("date","D"),L("D",Jn),L("DD",Jn,Vn),L("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),F(["D","DD"],ur),F("Do",function(t,e){e[ur]=v(t.match(Jn)[0],10)});var Tr=k("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),I("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),I("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),L("d",Jn),L("e",Jn),L("E",Jn),L("dd",rr),L("ddd",rr),L("dddd",rr),H(["dd","ddd","dddd"],function(t,e,n){var r=n._locale.weekdaysParse(t);null!=r?e.d=r:c(n).invalidWeekday=t}),H(["d","e","E"],function(t,e,n,r){e[r]=v(t)});var Pr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ir="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("H",["HH",2],0,"hour"),I("h",["hh",2],0,function(){return this.hours()%12||12}),qe("a",!0),qe("A",!1),C("hour","h"),L("a",Ve),L("A",Ve),L("H",Jn),L("h",Jn),L("HH",Jn,Vn),L("hh",Jn,Vn),F(["H","HH"],cr),F(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),F(["h","hh"],function(t,e,n){e[cr]=v(t),c(n).bigHour=!0});var jr=/[ap]\.?m?\.?/i,Rr=k("Hours",!0);I("m",["mm",2],0,"minute"),C("minute","m"),L("m",Jn),L("mm",Jn,Vn),F(["m","mm"],lr);var Dr=k("Minutes",!1);I("s",["ss",2],0,"second"),C("second","s"),L("s",Jn),L("ss",Jn,Vn),F(["s","ss"],hr);var Br=k("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),L("S",Zn,qn),L("SS",Zn,Vn),L("SSS",Zn,Yn);var Nr;for(Nr="SSSS";Nr.length<=9;Nr+="S")L(Nr,Qn);for(Nr="S";Nr.length<=9;Nr+="S")F(Nr,We);var Lr=k("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Ur=d.prototype;Ur.add=Ar,Ur.calendar=ne,Ur.clone=re,Ur.diff=ue,Ur.endOf=we,Ur.format=fe,Ur.from=de,Ur.fromNow=pe,Ur.to=ge,Ur.toNow=ve,Ur.get=P,Ur.invalidAt=ke,Ur.isAfter=ie,Ur.isBefore=oe,Ur.isBetween=se,Ur.isSame=ae,Ur.isValid=Ee,Ur.lang=Or,Ur.locale=_e,Ur.localeData=me,Ur.max=$r,Ur.min=xr,Ur.parsingFlags=Ae,Ur.set=P,Ur.startOf=ye,Ur.subtract=kr,Ur.toArray=Se,Ur.toObject=Ce,Ur.toDate=$e,Ur.toISOString=he,Ur.toJSON=he,Ur.toString=le,Ur.unix=xe,Ur.valueOf=be,Ur.year=wr,Ur.isLeapYear=ut,Ur.weekYear=Pe,Ur.isoWeekYear=Me,Ur.quarter=Ur.quarters=Re,Ur.month=Z,Ur.daysInMonth=X,Ur.week=Ur.weeks=dt,Ur.isoWeek=Ur.isoWeeks=pt,Ur.weeksInYear=je,Ur.isoWeeksInYear=Ie,Ur.date=Tr,Ur.day=Ur.days=ze,Ur.weekday=Fe,Ur.isoWeekday=He,Ur.dayOfYear=vt,Ur.hour=Ur.hours=Rr,Ur.minute=Ur.minutes=Dr,Ur.second=Ur.seconds=Br,
Ur.millisecond=Ur.milliseconds=Lr,Ur.utcOffset=Lt,Ur.utc=zt,Ur.local=Ft,Ur.parseZone=Ht,Ur.hasAlignedHourOffset=qt,Ur.isDST=Vt,Ur.isDSTShifted=Yt,Ur.isLocal=Gt,Ur.isUtcOffset=Wt,Ur.isUtc=Jt,Ur.isUTC=Jt,Ur.zoneAbbr=Je,Ur.zoneName=Ze,Ur.dates=tt("dates accessor is deprecated. Use date instead.",Tr),Ur.months=tt("months accessor is deprecated. Use month instead",Z),Ur.years=tt("years accessor is deprecated. Use year instead",wr),Ur.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);var zr=Ur,Fr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Hr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},qr="Invalid date",Vr="%d",Yr=/\d{1,2}/,Gr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Wr=m.prototype;Wr._calendar=Fr,Wr.calendar=Qe,Wr._longDateFormat=Hr,Wr.longDateFormat=tn,Wr._invalidDate=qr,Wr.invalidDate=en,Wr._ordinal=Vr,Wr.ordinal=nn,Wr._ordinalParse=Yr,Wr.preparse=rn,Wr.postformat=rn,Wr._relativeTime=Gr,Wr.relativeTime=on,Wr.pastFuture=sn,Wr.set=an,Wr.months=Y,Wr._months=dr,Wr.monthsShort=G,Wr._monthsShort=pr,Wr.monthsParse=W,Wr.week=lt,Wr._week=br,Wr.firstDayOfYear=ft,Wr.firstDayOfWeek=ht,Wr.weekdays=Be,Wr._weekdays=Pr,Wr.weekdaysMin=Le,Wr._weekdaysMin=Ir,Wr.weekdaysShort=Ne,Wr._weekdaysShort=Mr,Wr.weekdaysParse=Ue,Wr.isPM=Ye,Wr._meridiemParse=jr,Wr.meridiem=Ge,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",S);var Jr=Math.abs,Zr=Cn("ms"),Xr=Cn("s"),Kr=Cn("m"),Qr=Cn("h"),ti=Cn("d"),ei=Cn("w"),ni=Cn("M"),ri=Cn("y"),ii=An("milliseconds"),oi=An("seconds"),si=An("minutes"),ai=An("hours"),ui=An("days"),ci=An("months"),li=An("years"),hi=Math.round,fi={s:45,m:45,h:22,d:26,M:11},di=Math.abs,pi=It.prototype;pi.abs=gn,pi.add=_n,pi.subtract=mn,pi.as=$n,pi.asMilliseconds=Zr,pi.asSeconds=Xr,pi.asMinutes=Kr,pi.asHours=Qr,pi.asDays=ti,pi.asWeeks=ei,pi.asMonths=ni,pi.asYears=ri,pi.valueOf=Sn,pi._bubble=wn,pi.get=En,pi.milliseconds=ii,pi.seconds=oi,pi.minutes=si,pi.hours=ai,pi.days=ui,pi.weeks=kn,pi.months=ci,pi.years=li,pi.humanize=Mn,pi.toISOString=In,pi.toString=In,pi.toJSON=In,pi.locale=_e,pi.localeData=me,pi.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",In),pi.lang=Or,I("X",0,0,"unix"),I("x",0,0,"valueOf"),L("x",tr),L("X",nr),F("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),F("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.10.6",e(Ot),t.fn=zr,t.min=Pt,t.max=Mt,t.utc=a,t.unix=Xe,t.months=ln,t.isDate=r,t.locale=x,t.invalid=h,t.duration=Zt,t.isMoment=p,t.weekdays=fn,t.parseZone=Ke,t.localeData=S,t.isDuration=jt,t.monthsShort=hn,t.weekdaysMin=pn,t.defineLocale=$,t.weekdaysShort=dn,t.normalizeUnits=E,t.relativeTimeThreshold=Pn;var gi=t;return gi}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.autobahn=t()}}(function(){var define,module,exports;return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(t,e,n,r){var n=n||1e3,r=r||32,i={keySize:r/4,iterations:n,hasher:o.algo.SHA256},s=o.PBKDF2(t,e,i);return s.toString(o.enc.Base64)}function i(t,e){return o.HmacSHA256(e,t).toString(o.enc.Base64)}
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var o=t("crypto-js");n.sign=i,n.derive_key=r},{"crypto-js":28}],2:[function(t,e,n){function r(t,e,n){var r=t.defer();return navigator.id.watch({loggedInUser:e,onlogin:function(t){r.resolve(t)},onlogout:function(){t.leave("wamp.close.logout")}}),r.promise.then?r.promise:r}
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
t("when"),t("when/function");n.auth=r},{when:78,"when/function":54}],3:[function(t,e,n){(function(e){
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
t("./polyfill.js");var r=t("../package.json"),i=t("when");"AUTOBAHN_DEBUG"in e&&AUTOBAHN_DEBUG&&(t("when/monitor/console"),"console"in e&&console.log("AutobahnJS debug enabled"));var o=t("./util.js"),s=t("./log.js"),a=t("./session.js"),u=t("./connection.js"),c=t("./configure.js"),l=t("./auth/persona.js"),h=t("./auth/cra.js");n.version=r.version,n.transports=c.transports,n.Connection=u.Connection,n.Session=a.Session,n.Invocation=a.Invocation,n.Event=a.Event,n.Result=a.Result,n.Error=a.Error,n.Subscription=a.Subscription,n.Registration=a.Registration,n.Publication=a.Publication,n.auth_persona=l.auth,n.auth_cra=h,n.when=i,n.util=o,n.log=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../package.json":80,"./auth/cra.js":1,"./auth/persona.js":2,"./configure.js":4,"./connection.js":5,"./log.js":6,"./polyfill.js":7,"./session.js":15,"./util.js":19,when:78,"when/monitor/console":76}],4:[function(t,e,n){
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
function r(){this._repository={}}r.prototype.register=function(t,e){this._repository[t]=e},r.prototype.isRegistered=function(t){return this._repository[t]?!0:!1},r.prototype.get=function(t){if(void 0!==this._repository[t])return this._repository[t];throw"no such transport: "+t},r.prototype.list=function(){var t=[];for(var e in this._repository)t.push(e);return t};var i=new r,o=t("./transport/websocket.js");i.register("websocket",o.Factory);var s=t("./transport/longpoll.js");i.register("longpoll",s.Factory);var a=t("./transport/rawsocket.js");i.register("rawsocket",a.Factory),n.transports=i},{"./transport/longpoll.js":16,"./transport/rawsocket.js":17,"./transport/websocket.js":18}],5:[function(t,e,n){(function(e){
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var r=t("when"),i=t("./session.js"),o=t("./util.js"),s=t("./log.js"),a=t("./autobahn.js"),u=function(t){var n=this;n._options=t,t&&t.use_es6_promises?"Promise"in e?n._defer=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}:(s.debug("Warning: ES6 promises requested, but not found! Falling back to whenjs."),n._defer=r.defer):t&&t.use_deferred?n._defer=t.use_deferred:n._defer=r.defer,n._options.transports||(n._options.transports=[{type:"websocket",url:n._options.url}]),n._transport_factories=[],n._init_transport_factories(),n._session=null,n._session_close_reason=null,n._session_close_message=null,void 0!==n._options.retry_if_unreachable?n._retry_if_unreachable=n._options.retry_if_unreachable:n._retry_if_unreachable=!0,n._max_retries="undefined"!=typeof n._options.max_retries?n._options.max_retries:15,n._initial_retry_delay=n._options.initial_retry_delay||1.5,n._max_retry_delay=n._options.max_retry_delay||300,n._retry_delay_growth=n._options.retry_delay_growth||1.5,n._retry_delay_jitter=n._options.retry_delay_jitter||.1,n._connect_successes=0,n._retry=!1,n._retry_count=0,n._retry_delay=n._initial_retry_delay,n._is_retrying=!1,n._retry_timer=null};u.prototype._create_transport=function(){for(var t=0;t<this._transport_factories.length;++t){var e=this._transport_factories[t];s.debug("trying to create WAMP transport of type: "+e.type);try{var n=e.create();if(n)return s.debug("using WAMP transport type: "+e.type),n}catch(r){s.debug("could not create WAMP transport '"+e.type+"': "+r)}}return null},u.prototype._init_transport_factories=function(){var t,e,n,r;o.assert(this._options.transports,"No transport.factory specified"),t=this._options.transports;for(var i=0;i<this._options.transports.length;++i){e=this._options.transports[i],e.url||(e.url=this._options.url),e.protocols||(e.protocols=this._options.protocols),o.assert(e.type,"No transport.type specified"),o.assert("string"==typeof e.type,"transport.type must be a string");try{r=a.transports.get(e.type),r&&(n=new r(e),this._transport_factories.push(n))}catch(s){console.error(s)}}},u.prototype._autoreconnect_reset_timer=function(){var t=this;t._retry_timer&&clearTimeout(t._retry_timer),t._retry_timer=null},u.prototype._autoreconnect_reset=function(){var t=this;t._autoreconnect_reset_timer(),t._retry_count=0,t._retry_delay=t._initial_retry_delay,t._is_retrying=!1},u.prototype._autoreconnect_advance=function(){var t=this;t._retry_delay_jitter&&(t._retry_delay=o.rand_normal(t._retry_delay,t._retry_delay*t._retry_delay_jitter)),t._retry_delay>t._max_retry_delay&&(t._retry_delay=t._max_retry_delay),t._retry_count+=1;var e;return e=t._retry&&(-1===t._max_retries||t._retry_count<=t._max_retries)?{count:t._retry_count,delay:t._retry_delay,will_retry:!0}:{count:null,delay:null,will_retry:!1},t._retry_delay_growth&&(t._retry_delay=t._retry_delay*t._retry_delay_growth),e},u.prototype.open=function(){function t(){if(e._transport=e._create_transport(),e._transport)e._session=new i.Session(e._transport,e._defer,e._options.onchallenge),e._session_close_reason=null,e._session_close_message=null,e._transport.onopen=function(){e._autoreconnect_reset(),e._connect_successes+=1,e._session.join(e._options.realm,e._options.authmethods,e._options.authid)},e._session.onjoin=function(t){if(e.onopen)try{e.onopen(e._session,t)}catch(n){s.debug("Exception raised from app code while firing Connection.onopen()",n)}},e._session.onleave=function(t,n){e._session_close_reason=t,e._session_close_message=n.message||"",e._retry=!1,e._transport.close(1e3)},e._transport.onclose=function(n){e._autoreconnect_reset_timer(),e._transport=null;var r=null;0===e._connect_successes?(r="unreachable",e._retry_if_unreachable||(e._retry=!1)):r=n.wasClean?"closed":"lost";var i=e._autoreconnect_advance();if(e.onclose){var o={reason:e._session_close_reason,message:e._session_close_message,retry_delay:i.delay,retry_count:i.count,will_retry:i.will_retry};try{var a=e.onclose(r,o)}catch(u){s.debug("Exception raised from app code while firing Connection.onclose()",u)}}e._session&&(e._session._id=null,e._session=null,e._session_close_reason=null,e._session_close_message=null),e._retry&&!a&&(i.will_retry?(e._is_retrying=!0,s.debug("retrying in "+i.delay+" s"),e._retry_timer=setTimeout(t,1e3*i.delay)):s.debug("giving up trying to reconnect"))};else if(e._retry=!1,e.onclose){var n={reason:null,message:null,retry_delay:null,retry_count:null,will_retry:!1};e.onclose("unsupported",n)}}var e=this;if(e._transport)throw"connection already open (or opening)";e._autoreconnect_reset(),e._retry=!0,t()},u.prototype.close=function(t,e){var n=this;if(!n._transport&&!n._is_retrying)throw"connection already closed";n._retry=!1,n._session&&n._session.isOpen?n._session.leave(t,e):n._transport&&n._transport.close(1e3)},Object.defineProperty(u.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(u.prototype,"session",{get:function(){return this._session}}),Object.defineProperty(u.prototype,"isOpen",{get:function(){return this._session&&this._session.isOpen?!0:!1}}),Object.defineProperty(u.prototype,"isConnected",{get:function(){return this._transport?!0:!1}}),Object.defineProperty(u.prototype,"transport",{get:function(){return this._transport?this._transport:{info:{type:"none",url:null,protocol:null}}}}),Object.defineProperty(u.prototype,"isRetrying",{get:function(){return this._is_retrying}}),n.Connection=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./autobahn.js":3,"./log.js":6,"./session.js":15,"./util.js":19,when:78}],6:[function(t,e,n){(function(t){
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var e=function(){};"AUTOBAHN_DEBUG"in t&&AUTOBAHN_DEBUG&&"console"in t&&(e=function(){console.log.apply(console,arguments)}),n.debug=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){t("./polyfill/object"),t("./polyfill/array"),t("./polyfill/string"),t("./polyfill/function"),t("./polyfill/console"),t("./polyfill/typedarray"),t("./polyfill/json")},{"./polyfill/array":8,"./polyfill/console":9,"./polyfill/function":10,"./polyfill/json":11,"./polyfill/object":12,"./polyfill/string":13,"./polyfill/typedarray":14}],8:[function(t,e,n){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t){"use strict";var e,n,r,i;if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");if(n=Object(this),e=n.length>>>0,i=0,arguments.length>=2)r=arguments[1];else{for(;e>i&&!i in n;)i++;if(i>=e)throw new TypeError("Reduce of empty array with no initial value");r=n[i++]}for(;e>i;i++)i in n&&(r=t(r,n[i],i,n));return r}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0);for(var n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(t,e){for(void 0===e&&(e=this.length-1),0>e&&(e+=this.length),e>this.length-1&&(e=this.length-1),e++;e-->0;)if(e in this&&this[e]===t)return e;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(t,e){for(var n=0,r=this.length;r>n;n++)n in this&&t.call(e,this[n],n,this)}),"map"in Array.prototype||(Array.prototype.map=function(t,e){for(var n=new Array(this.length),r=0,i=this.length;i>r;r++)r in this&&(n[r]=t.call(e,this[r],r,this));return n}),"filter"in Array.prototype||(Array.prototype.filter=function(t,e){for(var n,r=[],i=0,o=this.length;o>i;i++)i in this&&t.call(e,n=this[i],i,this)&&r.push(n);return r}),"every"in Array.prototype||(Array.prototype.every=function(t,e){for(var n=0,r=this.length;r>n;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(t,e){for(var n=0,r=this.length;r>n;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),"function"!=typeof Array.prototype.reduceRight&&(Array.prototype.reduceRight=function(t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,n=Object(this),r=n.length>>>0,i=r-1;if(arguments.length>=2)e=arguments[1];else{for(;i>=0&&!i in n;)i--;if(0>i)throw new TypeError("Reduce of empty array with no initial value");e=n[i--]}for(;i>=0;i--)i in n&&(e=t(e,n[i],i,n));return e})},{}],9:[function(t,e,n){(function(t){!function(t){t||(t=window.console={log:function(t,e,n,r,i){},info:function(t,e,n,r,i){},warn:function(t,e,n,r,i){},error:function(t,e,n,r,i){},assert:function(t,e){}}),"object"==typeof t.log&&(t.log=Function.prototype.call.bind(t.log,t),t.info=Function.prototype.call.bind(t.info,t),t.warn=Function.prototype.call.bind(t.warn,t),t.error=Function.prototype.call.bind(t.error,t),t.debug=Function.prototype.call.bind(t.info,t)),"group"in t||(t.group=function(e){t.info("\n--- "+e+" ---\n")}),"groupEnd"in t||(t.groupEnd=function(){t.log("\n")}),"assert"in t||(t.assert=function(t,e){if(!t)try{throw new Error("assertion failed: "+e)}catch(n){setTimeout(function(){throw n},0)}}),"time"in t||function(){var e={};t.time=function(t){e[t]=(new Date).getTime()},t.timeEnd=function(n){var r=(new Date).getTime(),i=n in e?r-e[n]:0;t.info(n+": "+i+"ms")}}()}(t.console)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,Array.prototype.concat.apply(n,arguments))}})},{}],11:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,s,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)s[n]=str(n,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,u),i&&s.push(quote(r)+(gap?": ":":")+i));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u),i&&s.push(quote(r)+(gap?": ":":")+i));return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports.JSON=JSON},{}],12:[function(t,e,n){Object.create||(Object.create=function(){function t(){}return function(e){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,a=[];for(o in i)t.call(i,o)&&a.push(o);if(e)for(s=0;r>s;s++)t.call(i,n[s])&&a.push(n[s]);return a}}())},{}],13:[function(t,e,n){"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")})},{}],14:[function(t,e,n){(function(t){"undefined"==typeof t.Uint8Array&&!function(t,e){"use strict";function n(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===t?"null":"object"}}function r(t){return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g,"")}function i(t){return"function"==typeof t}function o(t){if(null===t||t===T)throw TypeError();return Object(t)}function s(t){return t>>0}function a(t){return t>>>0}function u(t){function e(e){Object.defineProperty(t,e,{get:function(){return t._getter(e)},set:function(n){t._setter(e,n)},enumerable:!0,configurable:!1})}if(t.length>P)throw RangeError("Array too large for polyfill");var n;for(n=0;n<t.length;n+=1)e(n)}function c(t,e){var n=32-e;return t<<n>>n}function l(t,e){var n=32-e;return t<<n>>>n}function h(t){return[255&t]}function f(t){return c(t[0],8)}function d(t){return[255&t]}function p(t){return l(t[0],8)}function g(t){return t=L(Number(t)),[0>t?0:t>255?255:255&t]}function v(t){return[t>>8&255,255&t]}function _(t){return c(t[0]<<8|t[1],16)}function m(t){return[t>>8&255,255&t]}function y(t){return l(t[0]<<8|t[1],16)}function w(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function b(t){return c(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function x(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function $(t){return l(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function S(t,e,n){function r(t){var e=j(t),n=t-e;return.5>n?e:n>.5?e+1:e%2?e+1:e}var i,o,s,a,u,c,l,h=(1<<e-1)-1;for(t!==t?(o=(1<<e)-1,s=N(2,n-1),i=0):t===1/0||t===-(1/0)?(o=(1<<e)-1,s=0,i=0>t?1:0):0===t?(o=0,s=0,i=1/t===-(1/0)?1:0):(i=0>t,t=I(t),t>=N(2,1-h)?(o=B(j(R(t)/M),1023),s=r(t/N(2,o)*N(2,n)),s/N(2,n)>=2&&(o+=1,s=1),o>h?(o=(1<<e)-1,s=0):(o+=h,s-=N(2,n))):(o=0,s=r(t/N(2,1-h-n)))),u=[],a=n;a;a-=1)u.push(s%2?1:0),s=j(s/2);for(a=e;a;a-=1)u.push(o%2?1:0),o=j(o/2);for(u.push(i?1:0),u.reverse(),c=u.join(""),l=[];c.length;)l.push(parseInt(c.substring(0,8),2)),c=c.substring(8);return l}function C(t,e,n){var r,i,o,s,a,u,c,l,h=[];for(r=t.length;r;r-=1)for(o=t[r-1],i=8;i;i-=1)h.push(o%2?1:0),o>>=1;return h.reverse(),s=h.join(""),a=(1<<e-1)-1,u=parseInt(s.substring(0,1),2)?-1:1,c=parseInt(s.substring(1,1+e),2),l=parseInt(s.substring(1+e),2),c===(1<<e)-1?0!==l?NaN:u*(1/0):c>0?u*N(2,c-a)*(1+l/N(2,n)):0!==l?u*N(2,-(a-1))*(l/N(2,n)):0>u?-0:0}function E(t){return C(t,11,52)}function A(t){return S(t,11,52)}function k(t){return C(t,8,23)}function O(t){return S(t,8,23)}var T=void 0,P=1e5,M=Math.LN2,I=Math.abs,j=Math.floor,R=Math.log,D=Math.max,B=Math.min,N=Math.pow,L=Math.round;!function(){var t=Object.defineProperty,e=!function(){try{return Object.defineProperty({},"x",{})}catch(t){return!1}}();(!t||e)&&(Object.defineProperty=function(e,n,r){if(t)try{return t(e,n,r)}catch(i){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,n,r.set),"value"in r&&(e[n]=r.value),e})}(),function(){function c(t){if(t=s(t),0>t)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)});for(var e=0;t>e;e+=1)this._bytes[e]=0}function l(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if(t=s(t),0>t)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new c(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&arguments[0]instanceof l)return function(t){if(this.constructor!==t.constructor)throw TypeError();var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new c(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var n=0;n<this.length;n+=1)this._setter(n,t._getter(n))}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&!(arguments[0]instanceof l)&&!(arguments[0]instanceof c||"ArrayBuffer"===r(arguments[0])))return function(t){var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new c(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var n=0;n<this.length;n+=1){var r=t[n];this._setter(n,Number(r))}}.apply(this,arguments);if(arguments.length>=1&&"object"===n(arguments[0])&&(arguments[0]instanceof c||"ArrayBuffer"===r(arguments[0])))return function(t,e,n){if(e=a(e),e>t.byteLength)throw RangeError("byteOffset out of range");if(e%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(n===T){var r=t.byteLength-e;if(r%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");n=r/this.BYTES_PER_ELEMENT}else n=a(n),r=n*this.BYTES_PER_ELEMENT;if(e+r>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:e}),Object.defineProperty(this,"length",{value:n})}.apply(this,arguments);throw TypeError()}function S(t,e,n){var r=function(){Object.defineProperty(this,"constructor",{value:r}),l.apply(this,arguments),u(this)};"__proto__"in r?r.__proto__=l:(r.from=l.from,r.of=l.of),r.BYTES_PER_ELEMENT=t;var i=function(){};return i.prototype=C,r.prototype=new i,Object.defineProperty(r.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(r.prototype,"_pack",{value:e}),Object.defineProperty(r.prototype,"_unpack",{value:n}),r}t.ArrayBuffer=t.ArrayBuffer||c,Object.defineProperty(l,"from",{value:function(t){return new this(t)}}),Object.defineProperty(l,"of",{value:function(){return new this(arguments)}});var C={};l.prototype=C,Object.defineProperty(l.prototype,"_getter",{value:function(t){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(t=a(t),t>=this.length)return T;var e,n,r=[];for(e=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)}}),Object.defineProperty(l.prototype,"get",{value:l.prototype._getter}),Object.defineProperty(l.prototype,"_setter",{value:function(t,e){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(t=a(t),!(t>=this.length)){var n,r,i=this._pack(e);for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}}),Object.defineProperty(l.prototype,"constructor",{value:l}),Object.defineProperty(l.prototype,"copyWithin",{value:function(t,e){var n=arguments[2],r=o(this),i=r.length,u=a(i);u=D(u,0);var c,l=s(t);c=0>l?D(u+l,0):B(l,u);var h,f=s(e);h=0>f?D(u+f,0):B(f,u);var d;d=n===T?u:s(n);var p;p=0>d?D(u+d,0):B(d,u);var g,v=B(p-h,u-c);for(from<c&&h+v>c?(g=-1,h=h+v-1,c=c+v-1):g=1;count>0;)r._setter(c,r._getter(h)),h+=g,c+=g,v-=1;return r}}),Object.defineProperty(l.prototype,"every",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();for(var r=arguments[1],o=0;n>o;o++)if(!t.call(r,e._getter(o),o,e))return!1;return!0}}),Object.defineProperty(l.prototype,"fill",{value:function(t){var e=arguments[1],n=arguments[2],r=o(this),i=r.length,u=a(i);u=D(u,0);var c,l=s(e);c=0>l?D(u+l,0):B(l,u);var h;h=n===T?u:s(n);var f;for(f=0>h?D(u+h,0):B(h,u);f>c;)r._setter(c,t),c+=1;return r}}),Object.defineProperty(l.prototype,"filter",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();for(var r=[],o=arguments[1],s=0;n>s;s++){var u=e._getter(s);t.call(o,u,s,e)&&r.push(u)}return new this.constructor(r)}}),Object.defineProperty(l.prototype,"find",{value:function(t){var e=o(this),n=e.length,r=a(n);if(!i(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:T,u=0;r>u;){var c=e._getter(u),l=t.call(s,c,u,e);if(Boolean(l))return c;++u}return T}}),Object.defineProperty(l.prototype,"findIndex",{value:function(t){var e=o(this),n=e.length,r=a(n);if(!i(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:T,u=0;r>u;){var c=e._getter(u),l=t.call(s,c,u,e);if(Boolean(l))return u;++u}return-1}}),Object.defineProperty(l.prototype,"forEach",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();for(var r=arguments[1],o=0;n>o;o++)t.call(r,e._getter(o),o,e)}}),Object.defineProperty(l.prototype,"indexOf",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(0===n)return-1;var r,i=0;if(arguments.length>0&&(r=Number(arguments[1]),r!==i?i=0:0!==r&&r!==1/0&&r!==-(1/0)&&(i=(r>0||-1)*j(I(r)))),i>=n)return-1;for(var o=i>=0?i:D(n-I(i),0);n>o;o++)if(e._getter(o)===t)return o;return-1}}),Object.defineProperty(l.prototype,"join",{value:function(t){if(this===T||null===this)throw TypeError();for(var e=Object(this),n=a(e.length),r=Array(n),i=0;n>i;++i)r[i]=e._getter(i);return r.join(t===T?",":t)}}),Object.defineProperty(l.prototype,"lastIndexOf",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(0===n)return-1;var r=n;arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*j(I(r))));for(var i=r>=0?B(r,n-1):n-I(r);i>=0;i--)if(e._getter(i)===t)return i;return-1}}),Object.defineProperty(l.prototype,"map",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();var r=[];r.length=n;for(var o=arguments[1],s=0;n>s;s++)r[s]=t.call(o,e._getter(s),s,e);return new this.constructor(r)}}),Object.defineProperty(l.prototype,"reduce",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,o=0;for(r=arguments.length>=2?arguments[1]:e._getter(o++);n>o;)r=t.call(T,r,e._getter(o),o,e),o++;return r}}),Object.defineProperty(l.prototype,"reduceRight",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,o=n-1;for(r=arguments.length>=2?arguments[1]:e._getter(o--);o>=0;)r=t.call(T,r,e._getter(o),o,e),o--;return r}}),Object.defineProperty(l.prototype,"reverse",{value:function(){if(this===T||null===this)throw TypeError();for(var t=Object(this),e=a(t.length),n=j(e/2),r=0,i=e-1;n>r;++r,--i){var o=t._getter(r);t._setter(r,t._getter(i)),t._setter(i,o)}return t}}),Object.defineProperty(l.prototype,"set",{value:function(t,e){if(arguments.length<1)throw SyntaxError("Not enough arguments");var n,r,i,o,s,u,c,l,h,f;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],i=a(arguments[1]),i+n.length>this.length)throw RangeError("Offset plus length of array is out of range");if(l=this.byteOffset+i*this.BYTES_PER_ELEMENT,h=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(f=[],s=0,u=n.byteOffset;h>s;s+=1,u+=1)f[s]=n.buffer._bytes[u];for(s=0,c=l;h>s;s+=1,c+=1)this.buffer._bytes[c]=f[s]}else for(s=0,u=n.byteOffset,c=l;h>s;s+=1,u+=1,c+=1)this.buffer._bytes[c]=n.buffer._bytes[u]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(r=arguments[0],o=a(r.length),i=a(arguments[1]),i+o>this.length)throw RangeError("Offset plus length of array is out of range");for(s=0;o>s;s+=1)u=r[s],this._setter(i+s,Number(u))}}}),Object.defineProperty(l.prototype,"slice",{value:function(t,e){for(var n=o(this),r=n.length,i=a(r),u=s(t),c=0>u?D(i+u,0):B(u,i),l=e===T?i:s(e),h=0>l?D(i+l,0):B(l,i),f=h-c,d=n.constructor,p=new d(f),g=0;h>c;){var v=n._getter(c);p._setter(g,v),++c,++g}return p}}),Object.defineProperty(l.prototype,"some",{value:function(t){if(this===T||null===this)throw TypeError();var e=Object(this),n=a(e.length);if(!i(t))throw TypeError();for(var r=arguments[1],o=0;n>o;o++)if(t.call(r,e._getter(o),o,e))return!0;return!1}}),Object.defineProperty(l.prototype,"sort",{value:function(t){if(this===T||null===this)throw TypeError();for(var e=Object(this),n=a(e.length),r=Array(n),i=0;n>i;++i)r[i]=e._getter(i);for(t?r.sort(t):r.sort(),i=0;n>i;++i)e._setter(i,r[i]);return e}}),Object.defineProperty(l.prototype,"subarray",{value:function(t,e){function n(t,e,n){return e>t?e:t>n?n:t}t=s(t),e=s(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),0>t&&(t=this.length+t),0>e&&(e=this.length+e),t=n(t,0,this.length),e=n(e,0,this.length);var r=e-t;return 0>r&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)}});var P=S(1,h,f),M=S(1,d,p),R=S(1,g,p),N=S(2,v,_),L=S(2,m,y),U=S(4,w,b),z=S(4,x,$),F=S(4,O,k),H=S(8,A,E);t.Int8Array=e.Int8Array=t.Int8Array||P,t.Uint8Array=e.Uint8Array=t.Uint8Array||M,t.Uint8ClampedArray=e.Uint8ClampedArray=t.Uint8ClampedArray||R,t.Int16Array=e.Int16Array=t.Int16Array||N,t.Uint16Array=e.Uint16Array=t.Uint16Array||L,t.Int32Array=e.Int32Array=t.Int32Array||U,t.Uint32Array=e.Uint32Array=t.Uint32Array||z,t.Float32Array=e.Float32Array=t.Float32Array||F,t.Float64Array=e.Float64Array=t.Float64Array||H}(),function(){function e(t,e){return i(t.get)?t.get(e):t[e]}function n(t,e,n){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===r(t)))throw TypeError();if(e=a(e),e>t.byteLength)throw RangeError("byteOffset out of range");if(n=n===T?t.byteLength-e:a(n),e+n>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:e})}function o(n){return function(r,i){if(r=a(r),r+n.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");r+=this.byteOffset;for(var o=new t.Uint8Array(this.buffer,r,n.BYTES_PER_ELEMENT),s=[],c=0;c<n.BYTES_PER_ELEMENT;c+=1)s.push(e(o,c));return Boolean(i)===Boolean(u)&&s.reverse(),e(new n(new t.Uint8Array(s).buffer),0)}}function s(n){return function(r,i,o){if(r=a(r),r+n.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var s,c,l=new n([i]),h=new t.Uint8Array(l.buffer),f=[];for(s=0;s<n.BYTES_PER_ELEMENT;s+=1)f.push(e(h,s));Boolean(o)===Boolean(u)&&f.reverse(),c=new Uint8Array(this.buffer,r,n.BYTES_PER_ELEMENT),c.set(f)}}var u=function(){var n=new t.Uint16Array([4660]),r=new t.Uint8Array(n.buffer);return 18===e(r,0)}();Object.defineProperty(n.prototype,"getUint8",{value:o(t.Uint8Array)}),Object.defineProperty(n.prototype,"getInt8",{value:o(t.Int8Array)}),Object.defineProperty(n.prototype,"getUint16",{value:o(t.Uint16Array)}),Object.defineProperty(n.prototype,"getInt16",{value:o(t.Int16Array)}),Object.defineProperty(n.prototype,"getUint32",{value:o(t.Uint32Array)}),Object.defineProperty(n.prototype,"getInt32",{value:o(t.Int32Array)}),Object.defineProperty(n.prototype,"getFloat32",{value:o(t.Float32Array)}),Object.defineProperty(n.prototype,"getFloat64",{value:o(t.Float64Array)}),Object.defineProperty(n.prototype,"setUint8",{value:s(t.Uint8Array)}),Object.defineProperty(n.prototype,"setInt8",{value:s(t.Int8Array)}),Object.defineProperty(n.prototype,"setUint16",{value:s(t.Uint16Array)}),Object.defineProperty(n.prototype,"setInt16",{value:s(t.Int16Array)}),Object.defineProperty(n.prototype,"setUint32",{value:s(t.Uint32Array)}),Object.defineProperty(n.prototype,"setInt32",{value:s(t.Int32Array)}),Object.defineProperty(n.prototype,"setFloat32",{value:s(t.Float32Array)}),Object.defineProperty(n.prototype,"setFloat64",{value:s(t.Float64Array)}),t.DataView=t.DataView||n}()}(n,window),"window"in t&&("Uint8ClampedArray"in window||(window.Uint8ClampedArray=t.Uint8Array))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,n){(function(e){function r(){return Math.floor(9007199254740992*Math.random())}
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var i=(t("when"),t("when/function")),o=t("./log.js"),s=t("./util.js");Date.now=Date.now||function(){return+new Date};var a={caller:{features:{caller_identification:!0,progressive_call_results:!0}},callee:{features:{caller_identification:!0,pattern_based_registration:!0,shared_registration:!0,progressive_call_results:!0,registration_revocation:!0}},publisher:{features:{publisher_identification:!0,subscriber_blackwhite_listing:!0,publisher_exclusion:!0}},subscriber:{features:{publisher_identification:!0,pattern_based_subscription:!0,subscription_revocation:!0}}},u=function(t,e,n){var r=this;r.caller=t,r.progress=e,r.procedure=n},c=function(t,e,n){var r=this;r.publication=t,r.publisher=e,r.topic=n},l=function(t,e){var n=this;n.args=t||[],n.kwargs=e||{}},h=function(t,e,n){var r=this;r.error=t,r.args=e||[],r.kwargs=n||{}},f=function(t,e,n,r,i){var o=this;o.topic=t,o.handler=e,o.options=n||{},o.session=r,o.id=i,o.active=!0,o._on_unsubscribe=r._defer(),o._on_unsubscribe.promise.then?o.on_unsubscribe=o._on_unsubscribe.promise:o.on_unsubscribe=o._on_unsubscribe};f.prototype.unsubscribe=function(){var t=this;return t.session.unsubscribe(t)};var d=function(t,e,n,r,i){var o=this;o.procedure=t,o.endpoint=e,o.options=n||{},o.session=r,o.id=i,o.active=!0,o._on_unregister=r._defer(),o._on_unregister.promise.then?o.on_unregister=o._on_unregister.promise:o.on_unregister=o._on_unregister};d.prototype.unregister=function(){var t=this;return t.session.unregister(t)};var p=function(t){var e=this;e.id=t},g={HELLO:1,WELCOME:2,ABORT:3,CHALLENGE:4,AUTHENTICATE:5,GOODBYE:6,HEARTBEAT:7,ERROR:8,PUBLISH:16,PUBLISHED:17,SUBSCRIBE:32,SUBSCRIBED:33,UNSUBSCRIBE:34,UNSUBSCRIBED:35,EVENT:36,CALL:48,CANCEL:49,RESULT:50,REGISTER:64,REGISTERED:65,UNREGISTER:66,UNREGISTERED:67,INVOCATION:68,INTERRUPT:69,YIELD:70},v=function(t,n,r){var s=this;s._socket=t,s._defer=n,s._onchallenge=r,s._id=null,s._realm=null,s._features=null,s._goodbye_sent=!1,s._transport_is_closing=!1,s._publish_reqs={},s._subscribe_reqs={},s._unsubscribe_reqs={},s._call_reqs={},s._register_reqs={},s._unregister_reqs={},s._subscriptions={},s._registrations={},s._invocations={},s._prefixes={},s._caller_disclose_me=!1,s._publisher_disclose_me=!1,s._send_wamp=function(t){o.debug(t),s._socket.send(t)},s._protocol_violation=function(t){o.debug("failing transport due to protocol violation: "+t),s._socket.close(1002,"protocol violation: "+t)},s._MESSAGE_MAP={},s._MESSAGE_MAP[g.ERROR]={},s._process_SUBSCRIBED=function(t){var e=t[1],n=t[2];if(e in s._subscribe_reqs){var r=s._subscribe_reqs[e],i=r[0],o=r[1],a=r[2],u=r[3];n in s._subscriptions||(s._subscriptions[n]=[]);var c=new f(o,a,u,s,n);s._subscriptions[n].push(c),i.resolve(c),delete s._subscribe_reqs[e]}else s._protocol_violation("SUBSCRIBED received for non-pending request ID "+e)},s._MESSAGE_MAP[g.SUBSCRIBED]=s._process_SUBSCRIBED,s._process_SUBSCRIBE_ERROR=function(t){var e=t[2];if(e in s._subscribe_reqs){var n=(t[3],new h(t[4],t[5],t[6])),r=s._subscribe_reqs[e],i=r[0];i.reject(n),delete s._subscribe_reqs[e]}else s._protocol_violation("SUBSCRIBE-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[g.ERROR][g.SUBSCRIBE]=s._process_SUBSCRIBE_ERROR,s._process_UNSUBSCRIBED=function(t){var e=t[1];if(e in s._unsubscribe_reqs){var n=s._unsubscribe_reqs[e],r=n[0],i=n[1];if(i.id in s._subscriptions){for(var o=s._subscriptions[i.id],a=0;a<o.length;++a)o[a].active=!1,o[a].on_unsubscribe.resolve();delete s._subscriptions[i]}r.resolve(!0),delete s._unsubscribe_reqs[e]}else if(0===e){var u=t[2],c=u.subscription,l=u.reason;if(c in s._subscriptions){for(var o=s._subscriptions[c],a=0;a<o.length;++a)o[a].active=!1,o[a]._on_unsubscribe.resolve(l);delete s._subscriptions[c]}else s._protocol_violation("non-voluntary UNSUBSCRIBED received for non-existing subscription ID "+c)}else s._protocol_violation("UNSUBSCRIBED received for non-pending request ID "+e)},s._MESSAGE_MAP[g.UNSUBSCRIBED]=s._process_UNSUBSCRIBED,s._process_UNSUBSCRIBE_ERROR=function(t){var e=t[2];if(e in s._unsubscribe_reqs){var n=(t[3],new h(t[4],t[5],t[6])),r=s._unsubscribe_reqs[e],i=r[0];r[1];i.reject(n),delete s._unsubscribe_reqs[e]}else s._protocol_violation("UNSUBSCRIBE-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[g.ERROR][g.UNSUBSCRIBE]=s._process_UNSUBSCRIBE_ERROR,s._process_PUBLISHED=function(t){var e=t[1],n=t[2];if(e in s._publish_reqs){var r=s._publish_reqs[e],i=r[0],o=(r[1],new p(n));i.resolve(o),delete s._publish_reqs[e]}else s._protocol_violation("PUBLISHED received for non-pending request ID "+e)},s._MESSAGE_MAP[g.PUBLISHED]=s._process_PUBLISHED,s._process_PUBLISH_ERROR=function(t){var e=t[2];if(e in s._publish_reqs){var n=(t[3],new h(t[4],t[5],t[6])),r=s._publish_reqs[e],i=r[0];r[1];i.reject(n),delete s._publish_reqs[e]}else s._protocol_violation("PUBLISH-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[g.ERROR][g.PUBLISH]=s._process_PUBLISH_ERROR,s._process_EVENT=function(t){var e=t[1];if(e in s._subscriptions)for(var n=t[2],r=t[3],i=t[4]||[],a=t[5]||{},u=s._subscriptions[e],l=new c(n,r.publisher,r.topic||u[0].topic),h=0;h<u.length;++h)try{u[h].handler(i,a,l)}catch(f){o.debug("Exception raised in event handler",f)}else s._protocol_violation("EVENT received for non-subscribed subscription ID "+e)},s._MESSAGE_MAP[g.EVENT]=s._process_EVENT,s._process_REGISTERED=function(t){var e=t[1],n=t[2];if(e in s._register_reqs){var r=s._register_reqs[e],i=r[0],o=r[1],a=r[2],u=r[3],c=new d(o,a,u,s,n);s._registrations[n]=c,i.resolve(c),delete s._register_reqs[e]}else s._protocol_violation("REGISTERED received for non-pending request ID "+e)},s._MESSAGE_MAP[g.REGISTERED]=s._process_REGISTERED,s._process_REGISTER_ERROR=function(t){var e=t[2];if(e in s._register_reqs){var n=(t[3],new h(t[4],t[5],t[6])),r=s._register_reqs[e],i=r[0];i.reject(n),delete s._register_reqs[e]}else s._protocol_violation("REGISTER-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[g.ERROR][g.REGISTER]=s._process_REGISTER_ERROR,s._process_UNREGISTERED=function(t){var e=t[1];if(e in s._unregister_reqs){var n=s._unregister_reqs[e],r=n[0],i=n[1];i.id in s._registrations&&delete s._registrations[i.id],i.active=!1,r.resolve(),delete s._unregister_reqs[e]}else if(0===e){var o=t[2],a=o.registration,u=o.reason;if(a in s._registrations){var i=s._registrations[a];i.active=!1,i._on_unregister.resolve(u),delete s._registrations[a]}else s._protocol_violation("non-voluntary UNREGISTERED received for non-existing registration ID "+a)}else s._protocol_violation("UNREGISTERED received for non-pending request ID "+e)},s._MESSAGE_MAP[g.UNREGISTERED]=s._process_UNREGISTERED,s._process_UNREGISTER_ERROR=function(t){var e=t[2];if(e in s._unregister_reqs){var n=(t[3],new h(t[4],t[5],t[6])),r=s._unregister_reqs[e],i=r[0];r[1];i.reject(n),delete s._unregister_reqs[e]}else s._protocol_violation("UNREGISTER-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[g.ERROR][g.UNREGISTER]=s._process_UNREGISTER_ERROR,s._process_RESULT=function(t){var e=t[1];if(e in s._call_reqs){var n=t[2],r=t[3]||[],i=t[4]||{},o=null;r.length>1||Object.keys(i).length>0?o=new l(r,i):r.length>0&&(o=r[0]);var a=s._call_reqs[e],u=a[0],c=a[1];n.progress?c&&c.receive_progress&&u.notify(o):(u.resolve(o),delete s._call_reqs[e])}else s._protocol_violation("CALL-RESULT received for non-pending request ID "+e)},s._MESSAGE_MAP[g.RESULT]=s._process_RESULT,s._process_CALL_ERROR=function(t){var e=t[2];if(e in s._call_reqs){var n=(t[3],new h(t[4],t[5],t[6])),r=s._call_reqs[e],i=r[0];r[1];i.reject(n),delete s._call_reqs[e]}else s._protocol_violation("CALL-ERROR received for non-pending request ID "+e)},s._MESSAGE_MAP[g.ERROR][g.CALL]=s._process_CALL_ERROR,s._process_INVOCATION=function(t){var e=t[1],n=t[2],r=t[3];if(n in s._registrations){var o=s._registrations[n].endpoint,a=t[4]||[],c=t[5]||{},f=null;r.receive_progress&&(f=function(t,n){var r=[g.YIELD,e,{progress:!0}];t=t||[],n=n||{};var i=Object.keys(n).length;(t.length||i)&&(r.push(t),i&&r.push(n)),s._send_wamp(r)});var d=new u(r.caller,f,r.procedure);i.call(o,a,c,d).then(function(t){var n=[g.YIELD,e,{}];if(t instanceof l){var r=Object.keys(t.kwargs).length;(t.args.length||r)&&(n.push(t.args),r&&n.push(t.kwargs))}else n.push([t]);s._send_wamp(n)},function(t){var n=[g.ERROR,g.INVOCATION,e,{}];if(t instanceof h){n.push(t.error);var r=Object.keys(t.kwargs).length;(t.args.length||r)&&(n.push(t.args),r&&n.push(t.kwargs))}else n.push("wamp.error.runtime_error"),n.push([t]);s._send_wamp(n)})}else s._protocol_violation("INVOCATION received for non-registered registration ID "+e)},s._MESSAGE_MAP[g.INVOCATION]=s._process_INVOCATION,s._socket.onmessage=function(t){var e=t[0];if(s._id)if(e===g.GOODBYE){if(!s._goodbye_sent){var n=[g.GOODBYE,{},"wamp.error.goodbye_and_out"];s._send_wamp(n)}s._id=null,s._realm=null,s._features=null;var r=t[1],u=t[2];s.onleave&&s.onleave(u,r)}else if(e===g.ERROR){var c=t[1];c in s._MESSAGE_MAP[g.ERROR]?s._MESSAGE_MAP[e][c](t):s._protocol_violation("unexpected ERROR message with request_type "+c)}else e in s._MESSAGE_MAP?s._MESSAGE_MAP[e](t):s._protocol_violation("unexpected message type "+e);else if(e===g.WELCOME){s._id=t[1];var l=t[2];if(s._features={},l.roles.broker&&(s._features.subscriber={},s._features.publisher={},l.roles.broker.features)){for(var h in a.publisher.features)s._features.publisher[h]=a.publisher.features[h]&&l.roles.broker.features[h];for(var h in a.subscriber.features)s._features.subscriber[h]=a.subscriber.features[h]&&l.roles.broker.features[h]}if(l.roles.dealer&&(s._features.caller={},s._features.callee={},l.roles.dealer.features)){for(var h in a.caller.features)s._features.caller[h]=a.caller.features[h]&&l.roles.dealer.features[h];for(var h in a.callee.features)s._features.callee[h]=a.callee.features[h]&&l.roles.dealer.features[h]}s.onjoin&&s.onjoin(t[2])}else if(e===g.ABORT){var r=t[1],u=t[2];s.onleave&&s.onleave(u,r)}else if(e===g.CHALLENGE)if(s._onchallenge){var f=t[1],d=t[2];i.call(s._onchallenge,s,f,d).then(function(t){var e=[g.AUTHENTICATE,t,{}];s._send_wamp(e)},function(t){o.debug("onchallenge() raised:",t);var e=[g.ABORT,{message:"sorry, I cannot authenticate (onchallenge handler raised an exception)"},"wamp.error.cannot_authenticate"];s._send_wamp(e),s._socket.close(1e3)})}else{o.debug("received WAMP challenge, but no onchallenge() handler set");var t=[g.ABORT,{message:"sorry, I cannot authenticate (no onchallenge handler set)"},"wamp.error.cannot_authenticate"];s._send_wamp(t),s._socket.close(1e3)}else s._protocol_violation("unexpected message type "+e)},"performance"in e&&"now"in performance?s._created=performance.now():s._created=Date.now()};Object.defineProperty(v.prototype,"defer",{get:function(){return this._defer}}),Object.defineProperty(v.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(v.prototype,"realm",{get:function(){return this._realm}}),Object.defineProperty(v.prototype,"isOpen",{get:function(){return null!==this.id}}),Object.defineProperty(v.prototype,"features",{get:function(){return this._features}}),Object.defineProperty(v.prototype,"caller_disclose_me",{get:function(){return this._caller_disclose_me},set:function(t){this._caller_disclose_me=t}}),Object.defineProperty(v.prototype,"publisher_disclose_me",{get:function(){return this._publisher_disclose_me},set:function(t){this._publisher_disclose_me=t}}),Object.defineProperty(v.prototype,"subscriptions",{get:function(){for(var t=Object.keys(this._subscriptions),e=[],n=0;n<t.length;++n)e.push(this._subscriptions[t[n]]);return e}}),Object.defineProperty(v.prototype,"registrations",{get:function(){for(var t=Object.keys(this._registrations),e=[],n=0;n<t.length;++n)e.push(this._registrations[t[n]]);return e}}),v.prototype.log=function(){var t=this;if("console"in e){var n=null;if(t._id&&t._created){var r=null;r="performance"in e&&"now"in performance?performance.now()-t._created:Date.now()-t._created,n="WAMP session "+t._id+" on '"+t._realm+"' at "+Math.round(1e3*r)/1e3+" ms"}else n="WAMP session";if("group"in console){console.group(n);for(var i=0;i<arguments.length;i+=1)console.log(arguments[i]);console.groupEnd()}else{for(var o=[n+": "],i=0;i<arguments.length;i+=1)o.push(arguments[i]);console.log.apply(console,o)}}},v.prototype.join=function(t,e,n){s.assert("string"==typeof t,"Session.join: <realm> must be a string"),s.assert(!e||Array.isArray(e),"Session.join: <authmethods> must be an array []"),s.assert(!n||"string"==typeof n,"Session.join: <authid> must be a string");var r=this;if(r.isOpen)throw"session already open";r._goodbye_sent=!1,r._realm=t;var i={};i.roles=a,e&&(i.authmethods=e),n&&(i.authid=n);var o=[g.HELLO,t,i];r._send_wamp(o)},v.prototype.leave=function(t,e){s.assert(!t||"string"==typeof t,"Session.leave: <reason> must be a string"),s.assert(!e||"string"==typeof e,"Session.leave: <message> must be a string");var n=this;if(!n.isOpen)throw"session not open";t||(t="wamp.close.normal");var r={};e&&(r.message=e);var i=[g.GOODBYE,r,t];n._send_wamp(i),n._goodbye_sent=!0},v.prototype.call=function(t,e,n,i){s.assert("string"==typeof t,"Session.call: <procedure> must be a string"),s.assert(!e||Array.isArray(e),"Session.call: <args> must be an array []"),s.assert(!n||n instanceof Object,"Session.call: <kwargs> must be an object {}"),s.assert(!i||i instanceof Object,"Session.call: <options> must be an object {}");var o=this;if(!o.isOpen)throw"session not open";i=i||{},void 0===i.disclose_me&&o._caller_disclose_me&&(i.disclose_me=!0);var a=o._defer(),u=r();o._call_reqs[u]=[a,i];var c=[g.CALL,u,i,o.resolve(t)];return e?(c.push(e),n&&c.push(n)):n&&(c.push([]),c.push(n)),o._send_wamp(c),a.promise.then?a.promise:a},v.prototype.publish=function(t,e,n,i){s.assert("string"==typeof t,"Session.publish: <topic> must be a string"),s.assert(!e||Array.isArray(e),"Session.publish: <args> must be an array []"),s.assert(!n||n instanceof Object,"Session.publish: <kwargs> must be an object {}"),s.assert(!i||i instanceof Object,"Session.publish: <options> must be an object {}");var o=this;if(!o.isOpen)throw"session not open";i=i||{},void 0===i.disclose_me&&o._publisher_disclose_me&&(i.disclose_me=!0);var a=null,u=r();i.acknowledge&&(a=o._defer(),o._publish_reqs[u]=[a,i]);var c=[g.PUBLISH,u,i,o.resolve(t)];return e?(c.push(e),n&&c.push(n)):n&&(c.push([]),c.push(n)),o._send_wamp(c),a?a.promise.then?a.promise:a:void 0},v.prototype.subscribe=function(t,e,n){s.assert("string"==typeof t,"Session.subscribe: <topic> must be a string"),s.assert("function"==typeof e,"Session.subscribe: <handler> must be a function"),s.assert(!n||n instanceof Object,"Session.subscribe: <options> must be an object {}");var i=this;if(!i.isOpen)throw"session not open";var o=r(),a=i._defer();i._subscribe_reqs[o]=[a,t,e,n];var u=[g.SUBSCRIBE,o];return n?u.push(n):u.push({}),u.push(i.resolve(t)),i._send_wamp(u),a.promise.then?a.promise:a},v.prototype.register=function(t,e,n){s.assert("string"==typeof t,"Session.register: <procedure> must be a string"),s.assert("function"==typeof e,"Session.register: <endpoint> must be a function"),s.assert(!n||n instanceof Object,"Session.register: <options> must be an object {}");var i=this;if(!i.isOpen)throw"session not open";var o=r(),a=i._defer();i._register_reqs[o]=[a,t,e,n];var u=[g.REGISTER,o];return n?u.push(n):u.push({}),u.push(i.resolve(t)),i._send_wamp(u),a.promise.then?a.promise:a},v.prototype.unsubscribe=function(t){s.assert(t instanceof f,"Session.unsubscribe: <subscription> must be an instance of class autobahn.Subscription");var e=this;if(!e.isOpen)throw"session not open";if(!(t.active&&t.id in e._subscriptions))throw"subscription not active";var n=e._subscriptions[t.id],i=n.indexOf(t);if(-1===i)throw"subscription not active";n.splice(i,1),t.active=!1;var o=e._defer();if(n.length)o.resolve(!1);else{var a=r();e._unsubscribe_reqs[a]=[o,t.id];var u=[g.UNSUBSCRIBE,a,t.id];e._send_wamp(u)}return o.promise.then?o.promise:o},v.prototype.unregister=function(t){s.assert(t instanceof d,"Session.unregister: <registration> must be an instance of class autobahn.Registration");var e=this;if(!e.isOpen)throw"session not open";if(!(t.active&&t.id in e._registrations))throw"registration not active";var n=r(),i=e._defer();e._unregister_reqs[n]=[i,t];var o=[g.UNREGISTER,n,t.id];return e._send_wamp(o),i.promise.then?i.promise:i},v.prototype.prefix=function(t,e){s.assert("string"==typeof t,"Session.prefix: <prefix> must be a string"),s.assert(!e||"string"==typeof e,"Session.prefix: <uri> must be a string or falsy");var n=this;e?n._prefixes[t]=e:t in n._prefixes&&delete n._prefixes[t]},v.prototype.resolve=function(t){s.assert("string"==typeof t,"Session.resolve: <curie> must be a string");var e=this,n=t.indexOf(":");if(n>=0){var r=t.substring(0,n);if(r in e._prefixes)return e._prefixes[r]+"."+t.substring(n+1);throw"cannot resolve CURIE prefix '"+r+"'"}return t},n.Session=v,n.Invocation=u,n.Event=c,n.Result=l,n.Error=h,n.Subscription=f,n.Registration=d,n.Publication=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":6,"./util.js":19,when:78,"when/function":54}],16:[function(t,e,n){function r(t){var e=this;i.assert(void 0!==t.url,"options.url missing"),i.assert("string"==typeof t.url,"options.url must be a string"),e._options=t}
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var i=t("../util.js"),o=t("../log.js");t("when");r.prototype.type="longpoll",r.prototype.create=function(){var t=this;o.debug("longpoll.Factory.create");var e={};return e.protocol=void 0,e.send=void 0,e.close=void 0,e.onmessage=function(){},e.onopen=function(){},e.onclose=function(){},e.info={type:"longpoll",url:null,protocol:"wamp.2.json"},e._run=function(){var n=null,r=!1,s=0,a=0,u={protocols:["wamp.2.json"]},c=t._options.request_timeout||12e3;i.http_post(t._options.url+"/open",JSON.stringify(u),c).then(function(u){function l(){a+=1,o.debug("longpoll.Transport: polling for message ..."),i.http_post(h+"/receive",null,c).then(function(t){if(t){var n=JSON.parse(t);o.debug("longpoll.Transport: message received",n),e.onmessage(n)}r||l()},function(t){o.debug("longpoll.Transport: could not receive message",t.code,t.text),r=!0;var n={code:1001,reason:"transport receive failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};e.onclose(n)})}n=JSON.parse(u);var h=t._options.url+"/"+n.transport;e.info.url=h,o.debug("longpoll.Transport: open",n),e.close=function(t,n){if(r)throw"transport is already closing";r=!0,i.http_post(h+"/close",null,c).then(function(){o.debug("longpoll.Transport: transport closed");var t={code:1e3,reason:"transport closed",wasClean:!0};e.onclose(t)},function(t){o.debug("longpoll.Transport: could not close transport",t.code,t.text)})},e.send=function(t){if(r)throw"transport is closing or closed already";s+=1,o.debug("longpoll.Transport: sending message ...",t);var n=JSON.stringify(t);i.http_post(h+"/send",n,c).then(function(){o.debug("longpoll.Transport: message sent")},function(t){o.debug("longpoll.Transport: could not send message",t.code,t.text),r=!0;var n={code:1001,reason:"transport send failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};e.onclose(n)})},l(),e.onopen()},function(t){o.debug("longpoll.Transport: could not open transport",t.code,t.text),r=!0;var n={code:1001,reason:"transport open failure (HTTP/POST status "+t.code+" - '"+t.text+"')",wasClean:!1};e.onclose(n)})},e._run(),e},n.Factory=r},{"../log.js":6,"../util.js":19,when:78}],17:[function(t,e,n){(function(e,r){function i(t){var e=this;t.protocols?s.assert(Array.isArray(t.protocols),"options.protocols must be an array"):t.protocols=["wamp.2.json"],t.rawsocket_max_len_exp=t.rawsocket_max_len_exp||24,e._options=t}function o(t,e){this._options={_peer_serializer:null,_peer_max_len_exp:0},this._options=s.defaults(this._options,e,this.DEFAULT_OPTIONS),s.assert(this._options.serializer in this.SERIALIZERS,"Unsupported serializer: "+this._options.serializer),s.assert(this._options.max_len_exp>=9&&this._options.max_len_exp<=36,"Message length out of bounds [9, 36]: "+this._options.max_len_exp),s.assert(!this._options.autoping||Number.isInteger(this._options.autoping)&&this._options.autoping>=0,"Autoping interval must be positive"),s.assert(!this._options.ping_timeout||Number.isInteger(this._options.ping_timeout)&&this._options.ping_timeout>=0,"Ping timeout duration must be positive"),s.assert(!this._options.packet_timeout||Number.isInteger(this._options.packet_timeout)&&this._options.packet_timeout>=0,"Packet timeout duration must be positive"),s.assert(!this._options.autoping||!this._options.ping_timeout||this._options.autoping>this._options.ping_timeout,"Autoping interval ("+this._options.autoping+") must be lower than ping timeout ("+this._options.ping_timeout+")"),this._ping_timeout=null,this._ping_payload=null,this._ping_interval=null,this._status=this.STATUS.UNINITIATED,this._stream=t,this._emitter=new u,this._buffer=new r(4),this._bufferLen=0,this._msgLen=0;var n=this;this._stream.on("data",function(t){n._read(t)}),this._stream.on("connect",function(){n._handshake()});var i=["close","drain","end","error","timeout"];i.forEach(function(t){n._stream.on(t,function(e){n._emitter.emit(t,e)})})}
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var s=t("../util.js"),a=t("../log.js"),u=t("events").EventEmitter;i.prototype.type="rawsocket",i.prototype.create=function(){var n=this,r={};if(r.protocol=void 0,r.send=void 0,r.close=void 0,r.onmessage=function(){},r.onopen=function(){},r.onclose=function(){},r.info={type:"rawsocket",url:null,protocol:"wamp.2.json"},!e.process||!e.process.versions.node)throw"No RawSocket support in browser";return!function(){var e,i,s=t("net");if(n._options.path)connectionOptions={path:n._options.path,allowHalfOpen:!0};else{if(!n._options.port)throw"You must specify a host/port combination or a unix socket path to connect to";connectionOptions={port:n._options.port||8e3,host:n._options.host||"localhost",allowHalfOpen:!0}}e=s.connect(connectionOptions),i=new o(e,{serializer:"json",max_len_exp:n._options.rawsocket_max_len_exp}),i.on("connect",function(t){a.debug("RawSocket transport negociated"),r.onopen(t)}),i.on("data",function(t){a.debug("RawSocket transport received",t),r.onmessage(t)}),i.on("close",function(t){a.debug("RawSocket transport closed"),r.onclose({code:999,reason:"",wasClean:!t})}),i.on("error",function(t){a.debug("RawSocket transport error",t)}),r.close=function(t,e){a.debug("RawSocket transport closing",t,e),i.close()},r.send=function(t){a.debug("RawSocket transport sending",t),i.write(t)}}(),r},o.prototype._MAGIC_BYTE=127,o.prototype.SERIALIZERS={json:1},o.prototype.STATUS={CLOSED:-1,UNINITIATED:0,NEGOCIATING:1,NEGOCIATED:2,RXHEAD:3,RXDATA:4,RXPING:5,RXPONG:6},o.prototype.ERRORS={0:"illegal (must not be used)",1:"serializer unsupported",2:"maximum message length unacceptable",3:"use of reserved bits (unsupported feature)",4:"maximum connection count reached"},o.prototype.MSGTYPES={WAMP:0,PING:1,PONG:2},o.prototype.DEFAULT_OPTIONS={fail_on_ping_timeout:!0,strict_pong:!0,ping_timeout:2e3,autoping:0,max_len_exp:24,serializer:"json",packet_timeout:2e3},o.prototype.close=function(){return this._status=this.STATUS.CLOSED,this._stream.close(),this.STATUS.CLOSED},o.prototype.write=function(t,e,n){e=void 0===e?0:e,e===this.MSGTYPES.WAMP&&(t=JSON.stringify(t));var i=r.byteLength(t,"utf8");if(i>Math.pow(2,this._options._peer_max_len_exp))return void this._emitter.emit("error",new c("Frame too big"));var o=new r(i+4);o.writeUInt8(e,0),o.writeUIntBE(i,1,3),o.write(t,4),this._stream.write(o,n)},o.prototype.ping=function(t){if(t=t||255,Number.isInteger(t))for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&~\"#'{([-|`_\\^@)]=},?;.:/!*$<>",n=Math.max(1,t),r=0;n>r;r++)t+=e.charAt(Math.random()*e.length|0);return this._ping_payload=t,this.write(t,this.MSGTYPES.PING,this._setupPingTimeout.bind(this))},o.prototype._setupPingTimeout=function(){this._options.ping_timeout&&(this._ping_timeout=setTimeout(this._onPingTimeout.bind(this),this._options.ping_timeout))},o.prototype._clearPingTimeout=function(){this._ping_timeout&&(clearTimeout(this._ping_timeout),this._ping_timeout=null)},o.prototype._setupAutoPing=function(){this._clearAutoPing(),this._options.autoping&&(this._autoping_interval=setInterval(this.ping.bind(this),this._options.autoping))},o.prototype._clearAutoPing=function(){this._autoping_interval&&(clearInterval(this._autoping_interval),this._autoping_interval=null)},o.prototype._onPingTimeout=function(){this._emitter.emit("error",new c("PING timeout")),this._options.fail_on_ping_timeout&&this.close()},o.prototype._read=function(t){var e,n;switch(this._status){case this.STATUS.CLOSED:case this.STATUS.UNINITIATED:this._emitter.emit("error",c("Unexpected packet"));break;case this.STATUS.NEGOCIATING:e=this._handleHandshake,n=4;break;case this.STATUS.NEGOCIATED:case this.STATUS.RXHEAD:this._status=this.STATUS.RXHEAD,e=this._handleHeaderPacket,n=4;break;case this.STATUS.RXDATA:e=this._handleDataPacket,n=this._msgLen;break;case this.STATUS.RXPING:e=this._handlePingPacket,n=this._msgLen;break;case this.STATUS.RXPONG:e=this._handlePongPacket,n=this._msgLen}var r=this._splitBytes(t,n);r&&(this._status=e.call(this,r[0]),r[1].length>0&&this._read(r[1]))},o.prototype._handshake=function(){if(this._status!==this.STATUS.UNINITIATED)throw"Handshake packet already sent";var t=new r(4);t.writeUInt8(this._MAGIC_BYTE,0),t.writeUInt8(this._options.max_len_exp-9<<4|this.SERIALIZERS[this._options.serializer],1),t.writeUInt8(0,2),t.writeUInt8(0,3),this._stream.write(t),this._status=this.STATUS.NEGOCIATING},o.prototype._splitBytes=function(t,e){if(e!==this._buffer.length&&(this._buffer=new r(e),this._bufferLen=0),t.copy(this._buffer,this._bufferLen),this._bufferLen+t.length<e)return this._bufferLen+=t.length,null;var n=this._buffer.slice(),i=t.slice(e-this._bufferLen);return this._bufferLen=0,[n,i]},o.prototype._handleHandshake=function(t){if(t[0]!==this._MAGIC_BYTE)return this._emitter.emit("error",new c("Invalid magic byte. Expected 0x"+this._MAGIC_BYTE.toString(16)+", got 0x"+t[0].toString(16))),this.close();if(0===(15&t[1])){var e=t[1]>>4;return this._emitter.emit("error",new c("Peer failed handshake: "+(this.ERRORS[e]||"0x"+e.toString(16)))),this.close()}return this._options._peer_max_len_exp=(t[1]>>4)+9,this._options._peer_serializer=15&t[1],this._options._peer_serializer!==this.SERIALIZERS.json?(this._emitter.emit("error",new c("Unsupported serializer: 0x"+this._options._peer_serializer.toString(16))),this.close()):(this._emitter.emit("connect"),this._setupAutoPing(),this.STATUS.NEGOCIATED)},o.prototype._handleHeaderPacket=function(t){var e=15&t[0];switch(this._msgLen=t.readUIntBE(1,3),e){case this.MSGTYPES.WAMP:return this.STATUS.RXDATA;case this.MSGTYPES.PING:return this.STATUS.RXPING;case this.MSGTYPES.PONG:return this.STATUS.RXPONG;default:return this._emitter.emit("error",new c("Invalid frame type: 0x"+status.toString(16))),this.close()}},o.prototype._handleDataPacket=function(t){var e;try{e=JSON.parse(t.toString("utf8"))}catch(n){return this._emitter.emit("error",new c("Invalid JSON frame")),this.STATUS.RXHEAD}return this._emitter.emit("data",e),this.STATUS.RXHEAD},o.prototype._handlePingPacket=function(t){return this.write(t.toString("utf8"),this.MSGTYPES.PONG),this.STATUS.RXHEAD},o.prototype._handlePongPacket=function(t){return this._clearPingTimeout(),this._options.strict_pong&&this._ping_payload!==t.toString("utf8")?(this._emitter.emit("error",new c("PONG response payload doesn't match PING.")),this.close()):this.STATUS.RXHEAD},o.prototype.on=function(t,e){return this._emitter.on(t,e)},o.prototype.once=function(t,e){return this._emitter.once(t,e)},o.prototype.removeListener=function(t,e){return this._emitter.removeListener(t,e)};var c=n.ProtocolError=function(t){Error.apply(this,Array.prototype.splice.call(arguments)),Error.captureStackTrace(this,this.constructor),this.message=t,this.name="ProtocolError"};c.prototype=Object.create(Error.prototype),n.Factory=i,n.Protocol=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"../log.js":6,"../util.js":19,buffer:82,events:86,net:81}],18:[function(t,e,n){(function(e){function r(t){var e=this;i.assert(void 0!==t.url,"options.url missing"),i.assert("string"==typeof t.url,"options.url must be a string"),t.protocols?i.assert(Array.isArray(t.protocols),"options.protocols must be an array"):t.protocols=["wamp.2.json"],e._options=t}
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var i=t("../util.js"),o=t("../log.js");r.prototype.type="websocket",r.prototype.create=function(){var n=this,r={};return r.protocol=void 0,r.send=void 0,r.close=void 0,r.onmessage=function(){},r.onopen=function(){},r.onclose=function(){},r.info={type:"websocket",url:null,protocol:"wamp.2.json"},e.process&&e.process.versions.node?!function(){var e,i,o=t("ws");n._options.protocols?(i=n._options.protocols,Array.isArray(i)&&(i=i.join(",")),e=new o(n._options.url,{protocol:i})):e=new o(n._options.url),r.send=function(t){var n=JSON.stringify(t);e.send(n,{binary:!1})},r.close=function(t,n){e.close()},e.on("open",function(){r.onopen()}),e.on("message",function(t,e){if(e.binary);else{var n=JSON.parse(t);r.onmessage(n)}}),e.on("close",function(t,e){var n={code:t,reason:e,wasClean:1e3===t};r.onclose(n)}),e.on("error",function(t){var e={code:1006,reason:"",wasClean:!1};r.onclose(e)})}():!function(){var t;if("WebSocket"in e)t=n._options.protocols?new e.WebSocket(n._options.url,n._options.protocols):new e.WebSocket(n._options.url);else{if(!("MozWebSocket"in e))throw"browser does not support WebSocket or WebSocket in Web workers";t=n._options.protocols?new e.MozWebSocket(n._options.url,n._options.protocols):new e.MozWebSocket(n._options.url)}t.onmessage=function(t){o.debug("WebSocket transport receive",t.data);var e=JSON.parse(t.data);r.onmessage(e)},t.onopen=function(){r.info.url=n._options.url,r.onopen()},t.onclose=function(t){var e={code:t.code,reason:t.message,wasClean:t.wasClean};r.onclose(e)},r.send=function(e){var n=JSON.stringify(e);o.debug("WebSocket transport send",n),t.send(n)},r.close=function(e,n){t.close(e,n)}}(),r},n.Factory=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../log.js":6,"../util.js":19,ws:79}],19:[function(t,e,n){(function(e){
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////
var r=t("./log.js"),i=t("when"),o=function(t,e){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(i>=1||0==i);var o=Math.sqrt(-2*Math.log(i)/i);return(t||0)+n*o*(e||1)},s=function(t,n){if(!t)throw s.useDebugger||"AUTOBAHN_DEBUG"in e&&AUTOBAHN_DEBUG,new Error(n||"Assertion failed!")},a=function(t,e,n){r.debug("new http_post request",t,e,n);var o=i.defer(),s=new XMLHttpRequest;return s.onreadystatechange=function(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(200===t&&o.resolve(s.responseText),204===t)o.resolve();else{var e=null;try{e=s.statusText}catch(n){}o.reject({code:t,text:e})}}},s.open("POST",t,!0),s.setRequestHeader("Content-type","application/json; charset=utf-8"),n>0&&(s.timeout=n,s.ontimeout=function(){o.reject({code:501,text:"request timeout"})}),e?s.send(e):s.send(),o.promise.then?o.promise:o},u=function(){if(0===arguments.length)return{};var t=arguments[0],e=!1,n=arguments.length;"boolean"==typeof arguments[n-1]&&(e=arguments[n-1],n-=1);for(var r=(function(n){var r=o[n];n in t?e&&"object"==typeof r&&"object"==typeof t[n]&&u(t[n],r):t[n]=r}),i=1;n>i;i++){var o=arguments[i];if(o){if("object"!=typeof o)throw new Error("Expected argument at index "+i+" to be an object");Object.keys(o).forEach(r)}}return t};n.rand_normal=o,n.assert=s,n.http_post=a,n.defaults=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":6,when:78}],20:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.BlockCipher,i=e.algo,o=[],s=[],a=[],u=[],c=[],l=[],h=[],f=[],d=[],p=[];!function(){for(var t=[],e=0;256>e;e++)128>e?t[e]=e<<1:t[e]=e<<1^283;for(var n=0,r=0,e=0;256>e;e++){var i=r^r<<1^r<<2^r<<3^r<<4;i=i>>>8^255&i^99,o[n]=i,s[i]=n;var g=t[n],v=t[g],_=t[v],m=257*t[i]^16843008*i;a[n]=m<<24|m>>>8,u[n]=m<<16|m>>>16,c[n]=m<<8|m>>>24,l[n]=m;var m=16843009*_^65537*v^257*g^16843008*n;h[i]=m<<24|m>>>8,f[i]=m<<16|m>>>16,d[i]=m<<8|m>>>24,p[i]=m,n?(n=g^t[t[t[_^g]]],r^=t[t[r]]):n=r=1}}();var g=[0,1,2,4,8,16,32,64,128,27,54],v=i.AES=r.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes/4,r=this._nRounds=n+6,i=4*(r+1),s=this._keySchedule=[],a=0;i>a;a++)if(n>a)s[a]=e[a];else{var u=s[a-1];a%n?n>6&&a%n==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=u<<8|u>>>24,u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=g[a/n|0]<<24),s[a]=s[a-n]^u}for(var c=this._invKeySchedule=[],l=0;i>l;l++){var a=i-l;if(l%4)var u=s[a];else var u=s[a-4];4>l||4>=a?c[l]=u:c[l]=h[o[u>>>24]]^f[o[u>>>16&255]]^d[o[u>>>8&255]]^p[o[255&u]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,u,c,l,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,h,f,d,p,s);var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var u=this._nRounds,c=t[e]^n[0],l=t[e+1]^n[1],h=t[e+2]^n[2],f=t[e+3]^n[3],d=4,p=1;u>p;p++){var g=r[c>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&f]^n[d++],v=r[l>>>24]^i[h>>>16&255]^o[f>>>8&255]^s[255&c]^n[d++],_=r[h>>>24]^i[f>>>16&255]^o[c>>>8&255]^s[255&l]^n[d++],m=r[f>>>24]^i[c>>>16&255]^o[l>>>8&255]^s[255&h]^n[d++];c=g,l=v,h=_,f=m}var g=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^n[d++],v=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^n[d++],_=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^n[d++],m=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[d++];t[e]=g,t[e+1]=v,t[e+2]=_,t[e+3]=m},keySize:8});e.AES=r._createHelper(v)}(),t.AES})},{"./cipher-core":21,"./core":22,"./enc-base64":23,"./evpkdf":25,"./md5":30}],21:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){t.lib.Cipher||function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=n.enc,u=(a.Utf8,a.Base64),c=n.algo,l=c.EvpKDF,h=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?$:w}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),f=(r.StreamCipher=h.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),n.mode={}),d=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=f.CBC=function(){function t(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else var o=this._prevBlock;for(var s=0;r>s;s++)t[n+s]^=o[s]}var n=d.extend();return n.Encryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),n.Decryptor=n.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),n}(),g=n.pad={},v=g.Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;r>a;a+=4)s.push(i);var u=o.create(s,r);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},_=(r.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:v}),reset:function(){h.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),m=n.format={},y=m.OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(e);else var r=e;return r.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return _.create({ciphertext:e,salt:r})}},w=r.SerializableCipher=i.extend({cfg:i.extend({format:y}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),s=i.cfg;return _.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=t.createDecryptor(n,r).finalize(e.ciphertext);return i},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),b=n.kdf={},x=b.OpenSSL={execute:function(t,e,n,r){r||(r=o.random(8));var i=l.create({keySize:e+n}).compute(t,r),s=o.create(i.words.slice(e),4*n);return i.sigBytes=4*e,_.create({key:i,iv:s,salt:r})}},$=r.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:x}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=w.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);r.iv=i.iv;var o=w.decrypt.call(this,t,e,i.key,r);return o}})}()})},{"./core":22}],22:[function(t,e,n){!function(t,r){"object"==typeof n?e.exports=n=r():"function"==typeof define&&define.amd?define([],r):t.CryptoJS=r()}(this,function(){var t=t||function(t,e){var n={},r=n.lib={},i=r.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(t,n){t=this.words=t||[],n!=e?this.sigBytes=n:this.sigBytes=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;i>o;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;i>o;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){var e=e,n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,e=18e3*(65535&e)+(e>>16)&r;var i=(n<<16)+e&r;return i/=4294967296,i+=.5,i*(t.random()>.5?1:-1)}},s=0;e>s;s+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new o.init(r,e)}}),s=n.enc={},a=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;n>i;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;n>i;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(n,e)}},c=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,a=4*s,u=i/a;u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0);var c=u*s,l=t.min(4*c,i);if(c){for(var h=0;c>h;h+=s)this._doProcessBlock(r,h);var f=r.splice(0,c);n.sigBytes-=l}return new o.init(f,l)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(r.Hasher=l.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),n.algo={});return n}(Math);return t})},{}],23:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.enc;i.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;n>o;o+=3)for(var s=e[o>>>2]>>>24-o%4*8&255,a=e[o+1>>>2]>>>24-(o+1)%4*8&255,u=e[o+2>>>2]>>>24-(o+2)%4*8&255,c=s<<16|a<<8|u,l=0;4>l&&n>o+.75*l;l++)i.push(r.charAt(c>>>6*(3-l)&63));var h=r.charAt(64);if(h)for(;i.length%4;)i.push(h);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=n.charAt(64);if(i){var o=t.indexOf(i);-1!=o&&(e=o)}for(var s=[],a=0,u=0;e>u;u++)if(u%4){var c=n.indexOf(t.charAt(u-1))<<u%4*2,l=n.indexOf(t.charAt(u))>>>6-u%4*2;s[a>>>2]|=(c|l)<<24-a%4*8,a++}return r.create(s,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64})},{"./core":22}],24:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(t){return t<<8&4278255360|t>>>8&16711935}var n=t,r=n.lib,i=r.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;n>i;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r++)n[r>>>1]|=t.charCodeAt(r)<<16-r%2*16;return i.create(n,2*e)}};o.Utf16LE={stringify:function(t){for(var n=t.words,r=t.sigBytes,i=[],o=0;r>o;o+=2){var s=e(n[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(t){for(var n=t.length,r=[],o=0;n>o;o++)r[o>>>1]|=e(t.charCodeAt(o)<<16-o%2*16);return i.create(r,2*n)}}}(),t.enc.Utf16})},{"./core":22}],25:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),s=o.words,a=n.keySize,u=n.iterations;s.length<a;){c&&r.update(c);var c=r.update(t).finalize(e);r.reset();for(var l=1;u>l;l++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*a,o}});e.EvpKDF=function(t,e,n){return a.create(n).compute(t,e)}}(),t.EvpKDF})},{"./core":22,"./hmac":27,"./sha1":46}],26:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return function(e){var n=t,r=n.lib,i=r.CipherParams,o=n.enc,s=o.Hex,a=n.format;a.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return i.create({ciphertext:e})}}}(),t.format.Hex})},{"./cipher-core":21,"./core":22}],27:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){!function(){var e=t,n=e.lib,r=n.Base,i=e.enc,o=i.Utf8,s=e.algo;s.HMAC=r.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),a=i.words,u=s.words,c=0;n>c;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);e.reset();var r=e.finalize(this._oKey.clone().concat(n));return r}})}()})},{"./core":22}],28:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./x64-core"),t("./lib-typedarrays"),t("./enc-utf16"),t("./enc-base64"),t("./md5"),t("./sha1"),t("./sha256"),t("./sha224"),t("./sha512"),t("./sha384"),t("./sha3"),t("./ripemd160"),t("./hmac"),t("./pbkdf2"),t("./evpkdf"),t("./cipher-core"),t("./mode-cfb"),t("./mode-ctr"),t("./mode-ctr-gladman"),t("./mode-ofb"),t("./mode-ecb"),t("./pad-ansix923"),t("./pad-iso10126"),t("./pad-iso97971"),t("./pad-zeropadding"),t("./pad-nopadding"),t("./format-hex"),t("./aes"),t("./tripledes"),t("./rc4"),t("./rabbit"),t("./rabbit-legacy")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],i):r.CryptoJS=i(r.CryptoJS)}(this,function(t){return t})},{"./aes":20,"./cipher-core":21,"./core":22,"./enc-base64":23,"./enc-utf16":24,"./evpkdf":25,"./format-hex":26,"./hmac":27,"./lib-typedarrays":29,"./md5":30,"./mode-cfb":31,"./mode-ctr":33,"./mode-ctr-gladman":32,"./mode-ecb":34,"./mode-ofb":35,"./pad-ansix923":36,"./pad-iso10126":37,"./pad-iso97971":38,"./pad-nopadding":39,"./pad-zeropadding":40,"./pbkdf2":41,"./rabbit":43,"./rabbit-legacy":42,"./rc4":44,"./ripemd160":45,"./sha1":46,"./sha224":47,"./sha256":48,"./sha3":49,"./sha384":50,"./sha512":51,"./tripledes":52,"./x64-core":53}],29:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(){if("function"==typeof ArrayBuffer){var e=t,n=e.lib,r=n.WordArray,i=r.init,o=r.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],r=0;e>r;r++)n[r>>>2]|=t[r]<<24-r%4*8;i.call(this,n,e)}else i.apply(this,arguments)};o.prototype=r}}(),t.lib.WordArray})},{"./core":22}],30:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(e){function n(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function r(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function i(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function o(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}var s=t,a=s.lib,u=a.WordArray,c=a.Hasher,l=s.algo,h=[];!function(){for(var t=0;64>t;t++)h[t]=4294967296*e.abs(e.sin(t+1))|0}();var f=l.MD5=c.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var s=0;16>s;s++){var a=e+s,u=t[a];t[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var c=this._hash.words,l=t[e+0],f=t[e+1],d=t[e+2],p=t[e+3],g=t[e+4],v=t[e+5],_=t[e+6],m=t[e+7],y=t[e+8],w=t[e+9],b=t[e+10],x=t[e+11],$=t[e+12],S=t[e+13],C=t[e+14],E=t[e+15],A=c[0],k=c[1],O=c[2],T=c[3];A=n(A,k,O,T,l,7,h[0]),T=n(T,A,k,O,f,12,h[1]),O=n(O,T,A,k,d,17,h[2]),k=n(k,O,T,A,p,22,h[3]),A=n(A,k,O,T,g,7,h[4]),T=n(T,A,k,O,v,12,h[5]),O=n(O,T,A,k,_,17,h[6]),k=n(k,O,T,A,m,22,h[7]),A=n(A,k,O,T,y,7,h[8]),T=n(T,A,k,O,w,12,h[9]),O=n(O,T,A,k,b,17,h[10]),k=n(k,O,T,A,x,22,h[11]),A=n(A,k,O,T,$,7,h[12]),T=n(T,A,k,O,S,12,h[13]),O=n(O,T,A,k,C,17,h[14]),k=n(k,O,T,A,E,22,h[15]),A=r(A,k,O,T,f,5,h[16]),T=r(T,A,k,O,_,9,h[17]),O=r(O,T,A,k,x,14,h[18]),k=r(k,O,T,A,l,20,h[19]),A=r(A,k,O,T,v,5,h[20]),T=r(T,A,k,O,b,9,h[21]),O=r(O,T,A,k,E,14,h[22]),k=r(k,O,T,A,g,20,h[23]),A=r(A,k,O,T,w,5,h[24]),T=r(T,A,k,O,C,9,h[25]),O=r(O,T,A,k,p,14,h[26]),k=r(k,O,T,A,y,20,h[27]),A=r(A,k,O,T,S,5,h[28]),T=r(T,A,k,O,d,9,h[29]),O=r(O,T,A,k,m,14,h[30]),k=r(k,O,T,A,$,20,h[31]),A=i(A,k,O,T,v,4,h[32]),T=i(T,A,k,O,y,11,h[33]),O=i(O,T,A,k,x,16,h[34]),k=i(k,O,T,A,C,23,h[35]),A=i(A,k,O,T,f,4,h[36]),T=i(T,A,k,O,g,11,h[37]),O=i(O,T,A,k,m,16,h[38]),k=i(k,O,T,A,b,23,h[39]),A=i(A,k,O,T,S,4,h[40]),T=i(T,A,k,O,l,11,h[41]),O=i(O,T,A,k,p,16,h[42]),k=i(k,O,T,A,_,23,h[43]),A=i(A,k,O,T,w,4,h[44]),T=i(T,A,k,O,$,11,h[45]),O=i(O,T,A,k,E,16,h[46]),k=i(k,O,T,A,d,23,h[47]),A=o(A,k,O,T,l,6,h[48]),T=o(T,A,k,O,m,10,h[49]),O=o(O,T,A,k,C,15,h[50]),k=o(k,O,T,A,v,21,h[51]),A=o(A,k,O,T,$,6,h[52]),T=o(T,A,k,O,p,10,h[53]),O=o(O,T,A,k,b,15,h[54]),k=o(k,O,T,A,f,21,h[55]),A=o(A,k,O,T,y,6,h[56]),T=o(T,A,k,O,E,10,h[57]),O=o(O,T,A,k,_,15,h[58]),k=o(k,O,T,A,S,21,h[59]),A=o(A,k,O,T,g,6,h[60]),T=o(T,A,k,O,x,10,h[61]),O=o(O,T,A,k,d,15,h[62]),k=o(k,O,T,A,w,21,h[63]),c[0]=c[0]+A|0,c[1]=c[1]+k|0,c[2]=c[2]+O|0,c[3]=c[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[(i+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(i+64>>>9<<4)+14]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,u=a.words,c=0;4>c;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}});s.MD5=c._createHelper(f),s.HmacMD5=c._createHmacHelper(f)}(Math),t.MD5})},{"./core":22}],31:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.mode.CFB=function(){function e(t,e,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else var o=this._prevBlock;r.encryptBlock(o,0);for(var s=0;n>s;s++)t[e+s]^=o[s]}var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),n.Decryptor=n.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),n}(),t.mode.CFB})},{"./cipher-core":21,"./core":22}],32:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
return t.mode.CTRGladman=function(){function e(t){if(255===(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}function n(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),n(s);var a=s.slice(0);r.encryptBlock(a,0);for(var u=0;i>u;u++)t[e+u]^=a[u]}});return r.Decryptor=i,r}(),t.mode.CTRGladman})},{"./cipher-core":21,"./core":22}],33:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.mode.CTR=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;r>a;a++)t[e+a]^=s[a]}});return e.Decryptor=n,e}(),t.mode.CTR})},{"./cipher-core":21,"./core":22}],34:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.mode.ECB=function(){var e=t.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),e.Decryptor=e.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),e}(),t.mode.ECB})},{"./cipher-core":21,"./core":22}],35:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.mode.OFB=function(){var e=t.lib.BlockCipherMode.extend(),n=e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;r>s;s++)t[e+s]^=o[s]}});return e.Decryptor=n,e}(),t.mode.OFB})},{"./cipher-core":21,"./core":22}],36:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Ansix923})},{"./cipher-core":21,"./core":22}],37:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.pad.Iso10126={pad:function(e,n){var r=4*n,i=r-e.sigBytes%r;e.concat(t.lib.WordArray.random(i-1)).concat(t.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},t.pad.Iso10126})},{"./cipher-core":21,"./core":22}],38:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.pad.Iso97971={pad:function(e,n){e.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(e,n)},unpad:function(e){t.pad.ZeroPadding.unpad(e),e.sigBytes--}},t.pad.Iso97971})},{"./cipher-core":21,"./core":22}],39:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})},{"./cipher-core":21,"./core":22}],40:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return t.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},t.pad.ZeroPadding})},{"./cipher-core":21,"./core":22}],41:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./sha1"),t("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.SHA1,a=o.HMAC,u=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=a.create(n.hasher,t),o=i.create(),s=i.create([1]),u=o.words,c=s.words,l=n.keySize,h=n.iterations;u.length<l;){var f=r.update(e).finalize(s);r.reset();for(var d=f.words,p=d.length,g=f,v=1;h>v;v++){g=r.finalize(g),r.reset();for(var _=g.words,m=0;p>m;m++)d[m]^=_[m]}o.concat(f),c[0]++}return o.sigBytes=4*l,o}});e.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)}}(),t.PBKDF2})},{"./core":22,"./hmac":27,"./sha1":46}],42:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(){for(var t=this._X,e=this._C,n=0;8>n;n++)a[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0;for(var n=0;8>n;n++){var r=t[n]+e[n],i=65535&r,o=r>>>16,s=((i*i>>>17)+i*o>>>15)+o*o,c=((4294901760&r)*r|0)+((65535&r)*r|0);u[n]=s^c}t[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,t[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,t[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,t[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,t[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,t[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,t[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,t[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var n=t,r=n.lib,i=r.StreamCipher,o=n.algo,s=[],a=[],u=[],c=o.RabbitLegacy=i.extend({_doReset:function(){var t=this._key.words,n=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var o=0;4>o;o++)e.call(this);for(var o=0;8>o;o++)i[o]^=r[o+4&7];if(n){var s=n.words,a=s[0],u=s[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=c>>>16|4294901760&l,f=l<<16|65535&c;i[0]^=c,i[1]^=h,i[2]^=l,i[3]^=f,i[4]^=c,i[5]^=h,i[6]^=l,i[7]^=f;for(var o=0;4>o;o++)e.call(this)}},_doProcessBlock:function(t,n){var r=this._X;e.call(this),s[0]=r[0]^r[5]>>>16^r[3]<<16,s[1]=r[2]^r[7]>>>16^r[5]<<16,s[2]=r[4]^r[1]>>>16^r[7]<<16,s[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;4>i;i++)s[i]=16711935&(s[i]<<8|s[i]>>>24)|4278255360&(s[i]<<24|s[i]>>>8),t[n+i]^=s[i]},blockSize:4,ivSize:2});n.RabbitLegacy=i._createHelper(c)}(),t.RabbitLegacy})},{"./cipher-core":21,"./core":22,"./enc-base64":23,"./evpkdf":25,"./md5":30}],43:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(){for(var t=this._X,e=this._C,n=0;8>n;n++)a[n]=e[n];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0;for(var n=0;8>n;n++){var r=t[n]+e[n],i=65535&r,o=r>>>16,s=((i*i>>>17)+i*o>>>15)+o*o,c=((4294901760&r)*r|0)+((65535&r)*r|0);u[n]=s^c}t[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,t[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,t[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,t[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,t[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,t[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,t[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,t[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var n=t,r=n.lib,i=r.StreamCipher,o=n.algo,s=[],a=[],u=[],c=o.Rabbit=i.extend({_doReset:function(){for(var t=this._key.words,n=this.cfg.iv,r=0;4>r;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],o=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var r=0;4>r;r++)e.call(this);for(var r=0;8>r;r++)o[r]^=i[r+4&7];if(n){var s=n.words,a=s[0],u=s[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=c>>>16|4294901760&l,f=l<<16|65535&c;o[0]^=c,o[1]^=h,o[2]^=l,o[3]^=f,o[4]^=c,o[5]^=h,o[6]^=l,o[7]^=f;for(var r=0;4>r;r++)e.call(this)}},_doProcessBlock:function(t,n){var r=this._X;e.call(this),s[0]=r[0]^r[5]>>>16^r[3]<<16,s[1]=r[2]^r[7]>>>16^r[5]<<16,s[2]=r[4]^r[1]>>>16^r[7]<<16,s[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;4>i;i++)s[i]=16711935&(s[i]<<8|s[i]>>>24)|4278255360&(s[i]<<24|s[i]>>>8),t[n+i]^=s[i]},blockSize:4,ivSize:2});n.Rabbit=i._createHelper(c)}(),t.Rabbit})},{"./cipher-core":21,"./core":22,"./enc-base64":23,"./evpkdf":25,"./md5":30}],44:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;4>i;i++){e=(e+1)%256,n=(n+t[e])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}var n=t,r=n.lib,i=r.StreamCipher,o=n.algo,s=o.RC4=i.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;256>i;i++)r[i]=i;for(var i=0,o=0;256>i;i++){var s=i%n,a=e[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var u=r[i];r[i]=r[o],r[o]=u}this._i=this._j=0},_doProcessBlock:function(t,n){t[n]^=e.call(this)},keySize:8,ivSize:0});n.RC4=i._createHelper(s);var a=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)e.call(this)}});n.RC4Drop=i._createHelper(a)}(),t.RC4})},{"./cipher-core":21,"./core":22,"./enc-base64":23,"./evpkdf":25,"./md5":30}],45:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
return function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function s(t,e,n){return t^(e|~n)}function a(t,e){return t<<e|t>>>32-e}var u=t,c=u.lib,l=c.WordArray,h=c.Hasher,f=u.algo,d=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),g=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_=l.create([0,1518500249,1859775393,2400959708,2840853838]),m=l.create([1352829926,1548603684,1836072691,2053994217,0]),y=f.RIPEMD160=h.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var u=0;16>u;u++){var c=e+u,l=t[c];t[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var h,f,y,w,b,x,$,S,C,E,A=this._hash.words,k=_.words,O=m.words,T=d.words,P=p.words,M=g.words,I=v.words;x=h=A[0],$=f=A[1],S=y=A[2],C=w=A[3],E=b=A[4];for(var j,u=0;80>u;u+=1)j=h+t[e+T[u]]|0,j+=16>u?n(f,y,w)+k[0]:32>u?r(f,y,w)+k[1]:48>u?i(f,y,w)+k[2]:64>u?o(f,y,w)+k[3]:s(f,y,w)+k[4],j=0|j,j=a(j,M[u]),j=j+b|0,h=b,b=w,w=a(y,10),y=f,f=j,j=x+t[e+P[u]]|0,j+=16>u?s($,S,C)+O[0]:32>u?o($,S,C)+O[1]:48>u?i($,S,C)+O[2]:64>u?r($,S,C)+O[3]:n($,S,C)+O[4],j=0|j,j=a(j,I[u]),j=j+E|0,x=E,E=C,C=a(S,10),S=$,$=j;j=A[1]+y+C|0,A[1]=A[2]+w+E|0,A[2]=A[3]+b+x|0,A[3]=A[4]+h+$|0,A[4]=A[0]+f+S|0,A[0]=j},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;5>s;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=h.clone.call(this);return t._hash=this._hash.clone(),t}});u.RIPEMD160=h._createHelper(y),u.HmacRIPEMD160=h._createHmacHelper(y)}(Math),t.RIPEMD160})},{"./core":22}],46:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=0;80>c;c++){if(16>c)s[c]=0|t[e+c];else{var l=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=l<<1|l>>>31}var h=(r<<5|r>>>27)+u+s[c];h+=20>c?(i&o|~i&a)+1518500249:40>c?(i^o^a)+1859775393:60>c?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),e[(r+64>>>9<<4)+15]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a)}(),t.SHA1})},{"./core":22}],47:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./sha256")):"function"==typeof define&&define.amd?define(["./core","./sha256"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.lib,r=n.WordArray,i=e.algo,o=i.SHA256,s=i.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=4,t}});e.SHA224=o._createHelper(s),e.HmacSHA224=o._createHmacHelper(s)}(),t.SHA224})},{"./core":22,"./sha256":48}],48:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;n>=r;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;64>i;)t(r)&&(8>i&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],h=n[6],f=n[7],d=0;64>d;d++){if(16>d)c[d]=0|t[e+d];else{var p=c[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[d-2],_=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[d]=g+c[d-7]+_+c[d-16]}var m=a&l^~a&h,y=r&i^r&o^i&o,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),x=f+b+m+u[d]+c[d],$=w+y;f=h,h=l,l=a,a=s+x|0,s=o,o=i,i=r,r=x+$|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),t.SHA256})},{"./core":22}],49:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(r.CryptoJS)}(this,function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.x64,a=s.Word,u=n.algo,c=[],l=[],h=[];!function(){for(var t=1,e=0,n=0;24>n;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=e%5,i=(2*t+3*e)%5;t=r,e=i}for(var t=0;5>t;t++)for(var e=0;5>e;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var o=1,s=0;24>s;s++){for(var u=0,f=0,d=0;7>d;d++){if(1&o){var p=(1<<d)-1;32>p?f^=1<<p:u^=1<<p-32}128&o?o=o<<1^113:o<<=1}h[s]=a.create(u,f)}}();var f=[];!function(){for(var t=0;25>t;t++)f[t]=a.create()}();var d=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;25>e;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;r>i;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);var a=n[i];a.high^=s,a.low^=o}for(var u=0;24>u;u++){for(var d=0;5>d;d++){for(var p=0,g=0,v=0;5>v;v++){var a=n[d+5*v];p^=a.high,g^=a.low}var _=f[d];_.high=p,_.low=g}for(var d=0;5>d;d++)for(var m=f[(d+4)%5],y=f[(d+1)%5],w=y.high,b=y.low,p=m.high^(w<<1|b>>>31),g=m.low^(b<<1|w>>>31),v=0;5>v;v++){var a=n[d+5*v];a.high^=p,a.low^=g}for(var x=1;25>x;x++){var a=n[x],$=a.high,S=a.low,C=c[x];if(32>C)var p=$<<C|S>>>32-C,g=S<<C|$>>>32-C;else var p=S<<C-32|$>>>64-C,g=$<<C-32|S>>>64-C;var E=f[l[x]];E.high=p,E.low=g}var A=f[0],k=n[0];A.high=k.high,A.low=k.low;for(var d=0;5>d;d++)for(var v=0;5>v;v++){var x=d+5*v,a=n[x],O=f[x],T=f[(d+1)%5+5*v],P=f[(d+2)%5+5*v];a.high=O.high^~T.high&P.high,a.low=O.low^~T.low&P.low}var a=n[0],M=h[u];a.high^=M.high,a.low^=M.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(8*this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,c=[],l=0;u>l;l++){var h=s[l],f=h.high,d=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(d),c.push(f)}return new i.init(c,a)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;25>n;n++)e[n]=e[n].clone();return t}});n.SHA3=o._createHelper(d),n.HmacSHA3=o._createHmacHelper(d)}(Math),t.SHA3})},{"./core":22,"./x64-core":53}],50:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./x64-core"),t("./sha512")):"function"==typeof define&&define.amd?define(["./core","./x64-core","./sha512"],i):i(r.CryptoJS)}(this,function(t){return function(){var e=t,n=e.x64,r=n.Word,i=n.WordArray,o=e.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=16,t}});e.SHA384=s._createHelper(a),e.HmacSHA384=s._createHmacHelper(a)}(),t.SHA384})},{"./core":22,"./sha512":51,"./x64-core":53}],51:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./x64-core")):"function"==typeof define&&define.amd?define(["./core","./x64-core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(){return s.create.apply(s,arguments)}var n=t,r=n.lib,i=r.Hasher,o=n.x64,s=o.Word,a=o.WordArray,u=n.algo,c=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],l=[];!function(){for(var t=0;80>t;t++)l[t]=e()}();var h=u.SHA512=i.extend({_doReset:function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],h=n[6],f=n[7],d=r.high,p=r.low,g=i.high,v=i.low,_=o.high,m=o.low,y=s.high,w=s.low,b=a.high,x=a.low,$=u.high,S=u.low,C=h.high,E=h.low,A=f.high,k=f.low,O=d,T=p,P=g,M=v,I=_,j=m,R=y,D=w,B=b,N=x,L=$,U=S,z=C,F=E,H=A,q=k,V=0;80>V;V++){var Y=l[V];if(16>V)var G=Y.high=0|t[e+2*V],W=Y.low=0|t[e+2*V+1];else{var J=l[V-15],Z=J.high,X=J.low,K=(Z>>>1|X<<31)^(Z>>>8|X<<24)^Z>>>7,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^(X>>>7|Z<<25),tt=l[V-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=l[V-7],st=ot.high,at=ot.low,ut=l[V-16],ct=ut.high,lt=ut.low,W=Q+at,G=K+st+(Q>>>0>W>>>0?1:0),W=W+it,G=G+rt+(it>>>0>W>>>0?1:0),W=W+lt,G=G+ct+(lt>>>0>W>>>0?1:0);Y.high=G,Y.low=W}var ht=B&L^~B&z,ft=N&U^~N&F,dt=O&P^O&I^P&I,pt=T&M^T&j^M&j,gt=(O>>>28|T<<4)^(O<<30|T>>>2)^(O<<25|T>>>7),vt=(T>>>28|O<<4)^(T<<30|O>>>2)^(T<<25|O>>>7),_t=(B>>>14|N<<18)^(B>>>18|N<<14)^(B<<23|N>>>9),mt=(N>>>14|B<<18)^(N>>>18|B<<14)^(N<<23|B>>>9),yt=c[V],wt=yt.high,bt=yt.low,xt=q+mt,$t=H+_t+(q>>>0>xt>>>0?1:0),xt=xt+ft,$t=$t+ht+(ft>>>0>xt>>>0?1:0),xt=xt+bt,$t=$t+wt+(bt>>>0>xt>>>0?1:0),xt=xt+W,$t=$t+G+(W>>>0>xt>>>0?1:0),St=vt+pt,Ct=gt+dt+(vt>>>0>St>>>0?1:0);H=z,q=F,z=L,F=U,L=B,U=N,N=D+xt|0,B=R+$t+(D>>>0>N>>>0?1:0)|0,R=I,D=j,I=P,j=M,P=O,M=T,T=xt+St|0,O=$t+Ct+(xt>>>0>T>>>0?1:0)|0}p=r.low=p+T,r.high=d+O+(T>>>0>p>>>0?1:0),v=i.low=v+M,i.high=g+P+(M>>>0>v>>>0?1:0),m=o.low=m+j,o.high=_+I+(j>>>0>m>>>0?1:0),w=s.low=w+D,s.high=y+R+(D>>>0>w>>>0?1:0),x=a.low=x+N,a.high=b+B+(N>>>0>x>>>0?1:0),S=u.low=S+U,u.high=$+L+(U>>>0>S>>>0?1:0),E=h.low=E+F,h.high=C+z+(F>>>0>E>>>0?1:0),k=f.low=k+q,f.high=A+H+(q>>>0>k>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[(r+128>>>10<<5)+30]=Math.floor(n/4294967296),e[(r+128>>>10<<5)+31]=n,t.sigBytes=4*e.length,this._process();var i=this._hash.toX32();return i},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});n.SHA512=i._createHelper(h),n.HmacSHA512=i._createHmacHelper(h)}(),t.SHA512})},{"./core":22,"./x64-core":53}],52:[function(t,e,n){!function(r,i,o){"object"==typeof n?e.exports=n=i(t("./core"),t("./enc-base64"),t("./md5"),t("./evpkdf"),t("./cipher-core")):"function"==typeof define&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(r.CryptoJS)}(this,function(t){return function(){function e(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function n(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var r=t,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=s.extend({_doReset:function(){for(var t=this._key,e=t.words,n=[],r=0;56>r;r++){var i=u[r]-1;n[r]=e[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],s=0;16>s;s++){for(var a=o[s]=[],h=l[s],r=0;24>r;r++)a[r/6|0]|=n[(c[r]-1+h)%28]<<31-r%6,a[4+(r/6|0)]|=n[28+(c[r+24]-1+h)%28]<<31-r%6;a[0]=a[0]<<1|a[0]>>>31;for(var r=1;7>r;r++)a[r]=a[r]>>>4*(r-1)+3;a[7]=a[7]<<5|a[7]>>>27}for(var f=this._invSubKeys=[],r=0;16>r;r++)f[r]=o[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,r,i){this._lBlock=t[r],this._rBlock=t[r+1],e.call(this,4,252645135),e.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),e.call(this,1,1431655765);for(var o=0;16>o;o++){for(var s=i[o],a=this._lBlock,u=this._rBlock,c=0,l=0;8>l;l++)c|=h[l][((u^s[l])&f[l])>>>0];this._lBlock=u,this._rBlock=a^c}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,e.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),t[r]=this._lBlock,t[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=s._createHelper(d);var p=a.TripleDES=s.extend({_doReset:function(){var t=this._key,e=t.words;this._des1=d.createEncryptor(o.create(e.slice(0,2))),this._des2=d.createEncryptor(o.create(e.slice(2,4))),this._des3=d.createEncryptor(o.create(e.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});r.TripleDES=s._createHelper(p)}(),t.TripleDES})},{"./cipher-core":21,"./core":22,"./enc-base64":23,"./evpkdf":25,"./md5":30}],53:[function(t,e,n){!function(r,i){"object"==typeof n?e.exports=n=i(t("./core")):"function"==typeof define&&define.amd?define(["./core"],i):i(r.CryptoJS)}(this,function(t){return function(e){var n=t,r=n.lib,i=r.Base,o=r.WordArray,s=n.x64={};s.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=i.extend({init:function(t,n){t=this.words=t||[],n!=e?this.sigBytes=n:this.sigBytes=8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;e>r;r++){var i=t[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;n>r;r++)e[r]=e[r].clone();return t}})}(),t})},{"./core":22}],54:[function(t,e,n){/** @license MIT License (c) copyright 2013-2014 original author or authors */
!function(t){t(function(t){function e(t,e){return u(t,this,null==e?[]:c.call(e))}function n(t){var e=arguments.length>1?c.call(arguments,1):[];return function(){return u(t,this,e.concat(c.call(arguments)))}}function r(t,e,r){return a(n,e,r,t)}function i(t){var e=c.call(arguments,1);return function(){var n=this,r=c.call(arguments),i=s.apply(n,[t].concat(r));return o.reduce(e,function(t,e){return e.call(n,t)},i)}}var o=t("./when"),s=o["try"],a=t("./lib/liftAll"),u=t("./lib/apply")(o.Promise),c=Array.prototype.slice;return{lift:n,liftAll:r,call:s,apply:e,compose:i}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./lib/apply":58,"./lib/liftAll":70,"./when":78}],55:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){var e=t("./makePromise"),n=t("./Scheduler"),r=t("./env").asap;return e({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./Scheduler":56,"./env":68,"./makePromise":71}],56:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],57:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],58:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(t,n){function r(e,r,o){var s=t._defer(),a=o.length,u=new Array(a);return i({f:e,thisArg:r,args:o,params:u,i:a-1,call:n},s._handler),s}function i(e,r){if(e.i<0)return n(e.f,e.thisArg,e.params,r);var i=t._handler(e.args[e.i]);i.fold(o,e,void 0,r)}function o(t,e,n){t.params[t.i]=e,t.i-=1,i(t,n)}return arguments.length<2&&(n=e),r}function e(t,e,n,r){try{r.resolve(t.apply(e,n))}catch(i){r.reject(i)}}return t.tryCatchResolve=e,t})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],59:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){var e=t("../state"),n=t("../apply");return function(t){function r(e){function n(t){l=null,this.resolve(t)}function r(t){this.resolved||(l.push(t),0===--c&&this.reject(l))}for(var i,o,s=t._defer(),a=s._handler,u=e.length>>>0,c=u,l=[],h=0;u>h;++h)if(o=e[h],void 0!==o||h in e){if(i=t._handler(o),i.state()>0){a.become(i),t._visitRemaining(e,h,i);break}i.visit(a,n,r)}else--c;return 0===c&&a.reject(new RangeError("any(): array must not be empty")),s}function i(e,n){function r(t){this.resolved||(l.push(t),0===--d&&(h=null,this.resolve(l)))}function i(t){this.resolved||(h.push(t),0===--o&&(l=null,this.reject(h)))}var o,s,a,u=t._defer(),c=u._handler,l=[],h=[],f=e.length>>>0,d=0;for(a=0;f>a;++a)s=e[a],(void 0!==s||a in e)&&++d;for(n=Math.max(n,0),o=d-n+1,d=Math.min(n,d),n>d?c.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+d)):0===d&&c.resolve(l),a=0;f>a;++a)s=e[a],(void 0!==s||a in e)&&t._handler(s).visit(c,r,i,c.notify);return u}function o(e,n){return t._traverse(n,e)}function s(e,n){var r=m.call(e);return t._traverse(n,r).then(function(t){return a(r,t)})}function a(e,n){for(var r=n.length,i=new Array(r),o=0,s=0;r>o;++o)n[o]&&(i[s++]=t._handler(e[o]).value);return i.length=s,i}function u(t){return g(t.map(c))}function c(n){var r=t._handler(n);return 0===r.state()?p(n).then(e.fulfilled,e.rejected):(r._unreport(),e.inspect(r))}function l(t,e){return arguments.length>2?v.call(t,f(e),arguments[2]):v.call(t,f(e))}function h(t,e){return arguments.length>2?_.call(t,f(e),arguments[2]):_.call(t,f(e))}function f(t){return function(e,n,r){return d(t,void 0,[e,n,r])}}var d=n(t),p=t.resolve,g=t.all,v=Array.prototype.reduce,_=Array.prototype.reduceRight,m=Array.prototype.slice;return t.any=r,t.some=i,t.settle=u,t.map=o,t.filter=s,t.reduce=l,t.reduceRight=h,t.prototype.spread=function(t){return this.then(g).then(function(e){return t.apply(this,e)})},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../apply":58,"../state":72}],60:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(){throw new TypeError("catch predicate must be a function")}function e(t,e){return n(e)?t instanceof e:e(t)}function n(t){return t===Error||null!=t&&t.prototype instanceof Error}function r(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function i(t){return t}return function(n){function o(t,n){return function(r){return e(r,n)?t.call(this,r):c(r)}}function s(t,e,n,i){var o=t.call(e);return r(o)?a(o,n,i):n(i)}function a(t,e,n){return u(t).then(function(){return e(n)})}var u=n.resolve,c=n.reject,l=n.prototype["catch"];return n.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},n.prototype["catch"]=n.prototype.otherwise=function(e){return arguments.length<2?l.call(this,e):"function"!=typeof e?this.ensure(t):l.call(this,o(arguments[1],e))},n.prototype["finally"]=n.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(e){return s(t,this,i,e)},function(e){return s(t,this,c,e)})},n.prototype["else"]=n.prototype.orElse=function(t){return this.then(void 0,function(){return t})},n.prototype["yield"]=function(t){return this.then(function(){return t})},n.prototype.tap=function(t){return this.then(t)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],61:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
/** @author Jeff Escalante */
!function(t){"use strict";t(function(){return function(t){return t.prototype.fold=function(e,n){var r=this._beget();return this._handler.fold(function(n,r,i){t._handler(n).fold(function(t,n,r){r.resolve(e.call(this,n,t))},r,this,i)},n,r._handler.receiver,r._handler),r},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],62:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){var e=t("../state").inspect;return function(t){return t.prototype.inspect=function(){return e(t._handler(this))},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../state":72}],63:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){return function(t){function e(t,e,r,i){return n(function(e){return[e,t(e)]},e,r,i)}function n(t,e,i,o){function s(o,s){return r(i(o)).then(function(){return n(t,e,i,s)})}return r(o).then(function(n){return r(e(n)).then(function(e){return e?n:r(t(n)).spread(s)})})}var r=t.resolve;return t.iterate=e,t.unfold=n,t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],64:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],65:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){function e(t,e,r,i){return n.setTimer(function(){t(r,i,e)},e)}var n=t("../env"),r=t("../TimeoutError");return function(t){function i(t,n,r){e(o,t,n,r)}function o(t,e){e.resolve(t)}function s(t,e,n){var i="undefined"==typeof t?new r("timed out after "+n+"ms"):t;e.reject(i)}return t.prototype.delay=function(t){var e=this._beget();return this._handler.fold(i,t,void 0,e._handler),e},t.prototype.timeout=function(t,r){var i=this._beget(),o=i._handler,a=e(s,t,r,i._handler);return this._handler.visit(o,function(t){n.clearTimer(a),this.resolve(t)},function(t){n.clearTimer(a),this.reject(t)},o.notify),i},t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../TimeoutError":57,"../env":68}],66:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){function e(t){throw t}function n(){}var r=t("../env").setTimer,i=t("../format");return function(t){function o(t){t.handled||(d.push(t),l("Potentially unhandled rejection ["+t.id+"] "+i.formatError(t.value)))}function s(t){var e=d.indexOf(t);e>=0&&(d.splice(e,1),h("Handled previous rejection ["+t.id+"] "+i.formatObject(t.value)))}function a(t,e){f.push(t,e),null===p&&(p=r(u,0))}function u(){for(p=null;f.length>0;)f.shift()(f.shift())}var c,l=n,h=n;"undefined"!=typeof console&&(c=console,l="undefined"!=typeof c.error?function(t){c.error(t)}:function(t){c.log(t)},h="undefined"!=typeof c.info?function(t){c.info(t)}:function(t){c.log(t)}),t.onPotentiallyUnhandledRejection=function(t){a(o,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){a(s,t)},t.onFatalRejection=function(t){a(e,t.value)};var f=[],d=[],p=null;return t}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../env":68,"../format":69}],67:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var e=this._beget(),n=e._handler;return n.receiver=t,this._handler.chain(n,t),e},t}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],68:[function(t,e,n){(function(n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){function e(){return"undefined"!=typeof n&&"[object process]"===Object.prototype.toString.call(n)}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function i(t){function e(){var t=n;n=void 0,t()}var n,r=document.createTextNode(""),i=new t(e);i.observe(r,{characterData:!0});var o=0;return function(t){n=t,r.data=o^=1}}var o,s="undefined"!=typeof setTimeout&&setTimeout,a=function(t,e){return setTimeout(t,e)},u=function(t){return clearTimeout(t)},c=function(t){return s(t,0)};if(e())c=function(t){return n.nextTick(t)};else if(o=r())c=i(o);else if(!s){var l=t,h=l("vertx");a=function(t,e){return h.setTimer(e,t)},u=h.cancelTimer,c=h.runOnLoop||h.runOnContext}return{setTimer:a,clearTimer:u,asap:c}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})}).call(this,t("_process"))},{_process:87}],69:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(t){var n="object"==typeof t&&null!==t&&t.stack?t.stack:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=n(t,e)),e}function n(t,e){try{return JSON.stringify(t)}catch(n){return e}}return{formatError:t,formatObject:e,tryStringify:n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],70:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(t,e,n){return t[n]=e,t}function e(t){return"function"==typeof t?t.bind():Object.create(t)}return function(n,r,i,o){return"undefined"==typeof r&&(r=t),Object.keys(o).reduce(function(t,e){var i=o[e];return"function"==typeof i?r(t,n(i),e):t},"undefined"==typeof i?e(o):i)}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],71:[function(t,e,n){(function(t){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(e){"use strict";e(function(){return function(e){function n(t,e){this._handler=t===w?e:r(t)}function r(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}function r(t){i.notify(t)}var i=new x;try{t(e,n,r)}catch(o){n(o)}return i}function i(t){return R(t)?t:new n(w,new $(_(t)))}function o(t){return new n(w,new $(new E(t)))}function s(){return tt}function a(){return new n(w,new x)}function u(t,e){var n=new x(t.receiver,t.join().context);return new e(w,n)}function c(t){return h(V,null,t)}function l(t,e){return h(U,t,e)}function h(t,e,r){function i(n,i,s){s.resolved||f(r,o,n,t(e,i,n),s)}function o(t,e,n){l[t]=e,0===--c&&n.become(new C(l))}for(var s,a="function"==typeof e?i:o,u=new x,c=r.length>>>0,l=new Array(c),h=0;h<r.length&&!u.resolved;++h)s=r[h],void 0!==s||h in r?f(r,a,h,s,u):--c;return 0===c&&u.become(new C(l)),new n(w,u)}function f(t,e,n,r,i){if(D(r)){var o=m(r),s=o.state();0===s?o.fold(e,n,void 0,i):s>0?e(n,o.value,i):(i.become(o),d(t,n+1,o))}else e(n,r,i)}function d(t,e,n){for(var r=e;r<t.length;++r)p(_(t[r]),n)}function p(t,e){if(t!==e){var n=t.state();0===n?t.visit(t,void 0,t._unreport):0>n&&t._unreport()}}function g(t){return"object"!=typeof t||null===t?o(new TypeError("non-iterable passed to race()")):0===t.length?s():1===t.length?i(t[0]):v(t)}function v(t){var e,r,i,o=new x;for(e=0;e<t.length;++e)if(r=t[e],void 0!==r||e in t){if(i=_(r),0!==i.state()){o.become(i),d(t,e+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(w,o)}function _(t){return R(t)?t._handler.join():D(t)?y(t):new C(t)}function m(t){return R(t)?t._handler.join():y(t)}function y(t){try{var e=t.then;return"function"==typeof e?new S(e,t):new C(t)}catch(n){return new E(n)}}function w(){}function b(){}function x(t,e){n.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function $(t){this.handler=t}function S(t,e){x.call(this),W.enqueue(new M(t,e,this))}function C(t){n.createContext(this),this.value=t}function E(t){n.createContext(this),this.id=++K,this.value=t,this.handled=!1,this.reported=!1,this._report()}function A(t,e){this.rejection=t,this.context=e}function k(t){this.rejection=t}function O(){return new E(new TypeError("Promise cycle"))}function T(t,e){this.continuation=t,this.handler=e}function P(t,e){this.handler=e,this.value=t}function M(t,e,n){this._then=t,this.thenable=e,this.resolver=n}function I(t,e,n,r,i){try{t.call(e,n,r,i)}catch(o){r(o)}}function j(t,e,n,r){this.f=t,this.z=e,this.c=n,this.to=r,this.resolver=X,this.receiver=this}function R(t){return t instanceof n}function D(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function B(t,e,r,i){return"function"!=typeof t?i.become(e):(n.enterContext(e),z(t,e.value,r,i),void n.exitContext())}function N(t,e,r,i,o){return"function"!=typeof t?o.become(r):(n.enterContext(r),F(t,e,r.value,i,o),void n.exitContext())}function L(t,e,r,i,o){return"function"!=typeof t?o.notify(e):(n.enterContext(r),H(t,e,i,o),void n.exitContext())}function U(t,e,n){try{return t(e,n)}catch(r){return o(r)}}function z(t,e,n,r){try{r.become(_(t.call(n,e)))}catch(i){r.become(new E(i))}}function F(t,e,n,r,i){try{t.call(r,e,n,i)}catch(o){i.become(new E(o))}}function H(t,e,n,r){try{r.notify(t.call(n,e))}catch(i){r.notify(i)}}function q(t,e){e.prototype=Z(t.prototype),e.prototype.constructor=e}function V(t,e){return e}function Y(){}function G(){return"undefined"!=typeof t&&null!==t&&"function"==typeof t.emit?function(e,n){return"unhandledRejection"===e?t.emit(e,n.value,n):t.emit(e,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(o){}return r?function(t,r){var i=new n(t,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(i)}:t}(Y,self,CustomEvent):Y}var W=e.scheduler,J=G(),Z=Object.create||function(t){function e(){}return e.prototype=t,new e};n.resolve=i,n.reject=o,n.never=s,n._defer=a,n._handler=_,n.prototype.then=function(t,e,n){var r=this._handler,i=r.join().state();if("function"!=typeof t&&i>0||"function"!=typeof e&&0>i)return new this.constructor(w,r);var o=this._beget(),s=o._handler;return r.chain(s,r.receiver,t,e,n),o},n.prototype["catch"]=function(t){return this.then(void 0,t)},n.prototype._beget=function(){return u(this._handler,this.constructor)},n.all=c,n.race=g,n._traverse=l,n._visitRemaining=d,w.prototype.when=w.prototype.become=w.prototype.notify=w.prototype.fail=w.prototype._unreport=w.prototype._report=Y,w.prototype._state=0,w.prototype.state=function(){return this._state},w.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},w.prototype.chain=function(t,e,n,r,i){this.when({resolver:t,receiver:e,fulfilled:n,rejected:r,progress:i})},w.prototype.visit=function(t,e,n,r){this.chain(X,t,e,n,r)},w.prototype.fold=function(t,e,n,r){this.when(new j(t,e,n,r))},q(w,b),b.prototype.become=function(t){t.fail()};var X=new b;q(w,x),x.prototype._state=0,x.prototype.resolve=function(t){this.become(_(t))},x.prototype.reject=function(t){this.resolved||this.become(new E(t))},x.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=O();return t},x.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<t.length;++n)e.when(t[n])},x.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&W.enqueue(this),void 0!==this.context&&t._report(this.context))},x.prototype.when=function(t){this.resolved?W.enqueue(new T(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},x.prototype.notify=function(t){this.resolved||W.enqueue(new P(t,this))},x.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},x.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},x.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},q(w,$),$.prototype.when=function(t){W.enqueue(new T(t,this))},$.prototype._report=function(t){this.join()._report(t)},$.prototype._unreport=function(){this.join()._unreport()},q(x,S),q(w,C),C.prototype._state=1,C.prototype.fold=function(t,e,n,r){N(t,e,this,n,r)},C.prototype.when=function(t){B(t.fulfilled,this,t.receiver,t.resolver)};var K=0;q(w,E),E.prototype._state=-1,E.prototype.fold=function(t,e,n,r){r.become(this)},E.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),B(t.rejected,this,t.receiver,t.resolver)},E.prototype._report=function(t){W.afterQueue(new A(this,t))},E.prototype._unreport=function(){this.handled||(this.handled=!0,W.afterQueue(new k(this)))},E.prototype.fail=function(t){this.reported=!0,J("unhandledRejection",this),n.onFatalRejection(this,void 0===t?this.context:t)},A.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,J("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},k.prototype.run=function(){this.rejection.reported&&(J("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=Y;var Q=new w,tt=new n(w,Q);return T.prototype.run=function(){this.handler.join().when(this.continuation)},P.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,n=0;n<t.length;++n)e=t[n],L(e.progress,this.value,this.handler,e.receiver,e.resolver)},M.prototype.run=function(){function t(t){r.resolve(t)}function e(t){r.reject(t)}function n(t){r.notify(t)}var r=this.resolver;I(this._then,this.thenable,t,e,n)},j.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},j.prototype.rejected=function(t){this.to.reject(t)},j.prototype.progress=function(t){this.to.notify(t)},n}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})}).call(this,t("_process"))},{_process:87}],72:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function n(t){return{state:"fulfilled",value:t}}function r(r){var i=r.state();return 0===i?t():i>0?n(r.value):e(r.value)}return{pending:t,fulfilled:n,rejected:e,inspect:r}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],73:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){var e=t("./monitor/PromiseMonitor"),n=t("./monitor/ConsoleReporter"),r=new e(new n);return function(t){return r.monitor(t)}})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./monitor/ConsoleReporter":74,"./monitor/PromiseMonitor":75}],74:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){function e(){this._previouslyReported=!1}function n(){var t,e,n,i;if("undefined"==typeof console)t=e=r;else{var o=console;"function"==typeof o.error&&"function"==typeof o.dir?(e=function(t){o.error(t)},t=function(t){o.log(t)},"function"==typeof o.groupCollapsed&&(n=function(t){o.groupCollapsed(t)},i=function(){o.groupEnd()})):t=e="undefined"!=typeof o.log&&"undefined"!=typeof JSON?function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){}o.log(t)}:r}return{msg:t,warn:e,groupStart:n||e,groupEnd:i||r}}function r(){}var i=t("./error"),o="[promises] Unhandled rejections: ",s="[promises] All previously unhandled rejections have now been handled";return e.prototype=n(),e.prototype.log=function(t){if(0===t.length)return void(this._previouslyReported&&(this._previouslyReported=!1,this.msg(s)));this._previouslyReported=!0,this.groupStart(o+t.length);try{this._log(t)}finally{this.groupEnd()}},e.prototype._log=function(t){for(var e=0;e<t.length;++e)this.warn(i.format(t[e]))},e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./error":77}],75:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){function e(t){this.logDelay=0,this.stackFilter=s,this.stackJumpSeparator=o,this.filterDuplicateFrames=!0,this._reporter=t,"function"==typeof t.configurePromiseMonitor&&t.configurePromiseMonitor(this),this._traces=[],this._traceTask=0;var e=this;this._doLogTraces=function(){e._logTraces()}}function n(t,e,n){e.length>1&&(e[0]=n,t.push.apply(t,e))}function r(t,e){return e.filter(function(e){return!t.test(e)})}function i(t){return!t.handler.handled}var o="from execution context:",s=/[\s\(\/\\](node|module|timers)\.js:|when([\/\\]{1,2}(lib|monitor|es6-shim)[\/\\]{1,2}|\.js)|(new\sPromise)\b|(\b(PromiseMonitor|ConsoleReporter|Scheduler|RunHandlerTask|ProgressTask|Promise|.*Handler)\.[\w_]\w\w+\b)|\b(tryCatch\w+|getHandler\w*)\b/i,a=t("../lib/env").setTimer,u=t("./error"),c=[];return e.prototype.monitor=function(t){var e=this;return t.createContext=function(t,n){t.context=e.createContext(t,n)},t.enterContext=function(t){c.push(t.context)},t.exitContext=function(){c.pop()},t.onPotentiallyUnhandledRejection=function(t,n){return e.addTrace(t,n)},t.onPotentiallyUnhandledRejectionHandled=function(t){return e.removeTrace(t)},t.onFatalRejection=function(t,n){return e.fatal(t,n)},this},e.prototype.createContext=function(t,e){var n={parent:e||c[c.length-1],stack:void 0};return u.captureStack(n,t.constructor),n},e.prototype.addTrace=function(t,e){var n,r;for(r=this._traces.length-1;r>=0&&(n=this._traces[r],n.handler!==t);--r);r>=0?n.extraContext=e:this._traces.push({handler:t,extraContext:e}),this.logTraces()},e.prototype.removeTrace=function(){this.logTraces()},e.prototype.fatal=function(t,e){var n=new Error;n.stack=this._createLongTrace(t.value,t.context,e).join("\n"),a(function(){throw n},0)},e.prototype.logTraces=function(){this._traceTask||(this._traceTask=a(this._doLogTraces,this.logDelay))},e.prototype._logTraces=function(){this._traceTask=void 0,this._traces=this._traces.filter(i),this._reporter.log(this.formatTraces(this._traces))},e.prototype.formatTraces=function(t){return t.map(function(t){return this._createLongTrace(t.handler.value,t.handler.context,t.extraContext)},this)},e.prototype._createLongTrace=function(t,e,n){var i=u.parse(t)||[String(t)+" (WARNING: non-Error used)"];return i=r(this.stackFilter,i,0),this._appendContext(i,e),this._appendContext(i,n),this.filterDuplicateFrames?this._removeDuplicates(i):i},e.prototype._removeDuplicates=function(t){var e={},n=this.stackJumpSeparator,r=0;return t.reduceRight(function(t,i,o){return 0===o?t.unshift(i):i===n?r>0&&(t.unshift(i),r=0):e[i]||(e[i]=!0,t.unshift(i),++r),t},[])},e.prototype._appendContext=function(t,e){t.push.apply(t,this._createTrace(e))},e.prototype._createTrace=function(t){for(var e,i=[];t;)e=u.parse(t),e&&(e=r(this.stackFilter,e),n(i,e,this.stackJumpSeparator)),t=t.parent;return i},e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../lib/env":68,"./error":77}],76:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(t){var e=t("../monitor"),n=t("../when").Promise;return e(n)})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"../monitor":73,"../when":78}],77:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
/** @author Brian Cavalier */
/** @author John Hann */
!function(t){"use strict";t(function(){function t(t){try{throw new Error}catch(e){t.stack=e.stack}}function e(t){t.stack=(new Error).stack}function n(t){return i(t)}function r(t){var e=new Error;return e.stack=n(t),e}function i(t){for(var e=!1,n="",r=0;r<t.length;++r)e?n+="\n"+t[r]:(n+=t[r],e=!0);return n}var o,s,a;return Error.captureStackTrace?(o=function(t){return t&&t.stack&&t.stack.split("\n")},a=n,s=Error.captureStackTrace):(o=function(t){var e=t&&t.stack&&t.stack.split("\n");return e&&t.message&&e.unshift(t.message),e},function(){var i=new Error;"string"!=typeof i.stack?(a=n,s=t):(a=r,s=e)}()),{parse:o,format:a,captureStack:s}})}("function"==typeof define&&define.amd?define:function(t){e.exports=t()})},{}],78:[function(t,e,n){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(t){"use strict";t(function(t){function e(t,e,n,r){var i=$.resolve(t);return arguments.length<2?i:i.then(e,n,r)}function n(t){return new $(t)}function r(t){return function(){for(var e=0,n=arguments.length,r=new Array(n);n>e;++e)r[e]=arguments[e];return S(t,this,r)}}function i(t){for(var e=0,n=arguments.length-1,r=new Array(n);n>e;++e)r[e]=arguments[e+1];return S(t,this,r)}function o(){return new s}function s(){function t(t){r._handler.resolve(t)}function e(t){r._handler.reject(t)}function n(t){r._handler.notify(t)}var r=$._defer();this.promise=r,this.resolve=t,this.reject=e,this.notify=n,this.resolver={resolve:t,reject:e,notify:n}}function a(t){return t&&"function"==typeof t.then}function u(){return $.all(arguments)}function c(t){return e(t,$.all)}function l(t){return e(t,$.settle)}function h(t,n){return e(t,function(t){return $.map(t,n)})}function f(t,n){return e(t,function(t){return $.filter(t,n)})}var d=t("./lib/decorators/timed"),p=t("./lib/decorators/array"),g=t("./lib/decorators/flow"),v=t("./lib/decorators/fold"),_=t("./lib/decorators/inspect"),m=t("./lib/decorators/iterate"),y=t("./lib/decorators/progress"),w=t("./lib/decorators/with"),b=t("./lib/decorators/unhandledRejection"),x=t("./lib/TimeoutError"),$=[p,g,v,m,y,_,w,d,b].reduce(function(t,e){return e(t)},t("./lib/Promise")),S=t("./lib/apply")($);return e.promise=n,e.resolve=$.resolve,e.reject=$.reject,e.lift=r,e["try"]=i,e.attempt=i,e.iterate=$.iterate,e.unfold=$.unfold,e.join=u,e.all=c,e.settle=l,e.any=r($.any),e.some=r($.some),e.race=r($.race),e.map=h,e.filter=f,e.reduce=r($.reduce),e.reduceRight=r($.reduceRight),e.isPromiseLike=a,e.Promise=$,e.defer=o,e.TimeoutError=x,e})}("function"==typeof define&&define.amd?define:function(n){e.exports=n(t)})},{"./lib/Promise":55,"./lib/TimeoutError":57,"./lib/apply":58,"./lib/decorators/array":59,"./lib/decorators/flow":60,"./lib/decorators/fold":61,"./lib/decorators/inspect":62,"./lib/decorators/iterate":63,"./lib/decorators/progress":64,"./lib/decorators/timed":65,"./lib/decorators/unhandledRejection":66,"./lib/decorators/with":67}],79:[function(t,e,n){function r(t,e,n){var r;return r=e?new o(t,e):new o(t)}var i=function(){return this}(),o=i.WebSocket||i.MozWebSocket;e.exports=o?r:null,o&&(r.prototype=o.prototype)},{}],80:[function(t,e,n){e.exports={name:"autobahn",version:"0.9.9",description:"An implementation of The Web Application Messaging Protocol (WAMP).",main:"index.js",browser:{"lib/transport/rawsocket.js":!1},scripts:{test:"nodeunit test/test.js"},dependencies:{"crypto-js":">= 3.1.5",when:">= 3.7.3",ws:">= 0.8.0"},devDependencies:{browserify:">= 11.0.1",nodeunit:">= 0.9.1"},repository:{type:"git",url:"git://github.com/crossbario/autobahn-js.git"},keywords:["WAMP","WebSocket","RPC","PubSub"],author:"Tavendo GmbH",license:"MIT"}},{}],81:[function(t,e,n){},{}],82:[function(t,e,n){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof t?o(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):a(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function o(t,e){if(t=p(t,0>e?0:0|g(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|_(e,n);return t=p(t,r),t.write(e,n),t}function a(t,e){if(i.isBuffer(e))return u(t,e);if(J(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return l(t,e);if(e instanceof ArrayBuffer)return h(t,e)}return e.length?f(t,e):d(t,e)}function u(t,e){var n=0|g(e.length);return t=p(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|g(e.length);t=p(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function l(t,e){var n=0|g(e.length);t=p(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(t,e){return i.TYPED_ARRAY_SUPPORT?(e.byteLength,t=i._augment(new Uint8Array(e))):t=l(t,new Uint8Array(e)),t}function f(t,e){var n=0|g(e.length);t=p(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function d(t,e){var n,r=0;"Buffer"===e.type&&J(e.data)&&(n=e.data,r=0|g(n.length)),t=p(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function p(t,e){i.TYPED_ARRAY_SUPPORT?t=i._augment(new Uint8Array(e)):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=i.poolSize>>>1;return n&&(t.parent=Z),t}function g(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t,e){if(!(this instanceof v))return new v(t,e);var n=new i(t,e);return delete n.parent,n}function _(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return k(this,e,n);case"binary":return O(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function w(t,e,n,r){return Y(F(e,t.length-n),t,n,r)}function b(t,e,n,r){return Y(H(e),t,n,r)}function x(t,e,n,r){return b(t,e,n,r)}function $(t,e,n,r){return Y(V(e),t,n,r)}function S(t,e,n,r){return Y(q(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?G.fromByteArray(t):G.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;n>i;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(n>=i+a){var u,c,l,h;switch(a){case 1:128>o&&(s=o);break;case 2:u=t[i+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(s=h));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c,h>2047&&(55296>h||h>57343)&&(s=h));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,h>65535&&1114112>h&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return A(r)}function A(t){var e=t.length;if(X>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=X));return n}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=z(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,o,s){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||s>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function j(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function B(t,e,n,r,i){return i||D(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,i){return i||D(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(t,e,n,r,52,8),n+8}function L(t){if(t=U(t).replace(Q,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function F(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(t){return G.toByteArray(L(t))}function Y(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var G=t("base64-js"),W=t("ieee754"),J=t("is-array");n.Buffer=i,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var Z={};i.TYPED_ARRAY_SUPPORT=function(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,s=Math.min(n,r);s>o&&t[o]===e[o];)++o;return o!==s&&(n=t[o],r=e[o]),r>n?-1:n>r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!J(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new i(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(r,o),o+=s.length}return r},i.byteLength=_,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):m.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return n(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return b(this,t,e,n);case"binary":return x(this,t,e,n);case"base64":return $(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(t,e));else{var o=e-t;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+t]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},i.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},i.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),W.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),W.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),W.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),W.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||I(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||I(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):j(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):R(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):R(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,s=1,a=0>t?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):j(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||I(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):R(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,s=r-n;if(this===t&&e>n&&r>e)for(o=s-1;o>=0;o--)t[o+e]=this[o+n];else if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(o=0;s>o;o++)t[o+e]=this[o+n];else t._set(this.subarray(n,n+s),e);return s},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=F(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var K=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._set=t.set,t.get=K.get,t.set=K.set,t.write=K.write,t.toString=K.toString,t.toLocaleString=K.toString,t.toJSON=K.toJSON,t.equals=K.equals,t.compare=K.compare,t.indexOf=K.indexOf,t.copy=K.copy,t.slice=K.slice,t.readUIntLE=K.readUIntLE,t.readUIntBE=K.readUIntBE,t.readUInt8=K.readUInt8,t.readUInt16LE=K.readUInt16LE,t.readUInt16BE=K.readUInt16BE,t.readUInt32LE=K.readUInt32LE,t.readUInt32BE=K.readUInt32BE,t.readIntLE=K.readIntLE,t.readIntBE=K.readIntBE,t.readInt8=K.readInt8,t.readInt16LE=K.readInt16LE,t.readInt16BE=K.readInt16BE,t.readInt32LE=K.readInt32LE,t.readInt32BE=K.readInt32BE,t.readFloatLE=K.readFloatLE,t.readFloatBE=K.readFloatBE,t.readDoubleLE=K.readDoubleLE,t.readDoubleBE=K.readDoubleBE,t.writeUInt8=K.writeUInt8,t.writeUIntLE=K.writeUIntLE,t.writeUIntBE=K.writeUIntBE,t.writeUInt16LE=K.writeUInt16LE,t.writeUInt16BE=K.writeUInt16BE,t.writeUInt32LE=K.writeUInt32LE,t.writeUInt32BE=K.writeUInt32BE,t.writeIntLE=K.writeIntLE,t.writeIntBE=K.writeIntBE,t.writeInt8=K.writeInt8,t.writeInt16LE=K.writeInt16LE,t.writeInt16BE=K.writeInt16BE,t.writeInt32LE=K.writeInt32LE,t.writeInt32BE=K.writeInt32BE,t.writeFloatLE=K.writeFloatLE,t.writeFloatBE=K.writeFloatBE,t.writeDoubleLE=K.writeDoubleLE,t.writeDoubleBE=K.writeDoubleBE,t.fill=K.fill,t.inspect=K.inspect,t.toArrayBuffer=K.toArrayBuffer,t};var Q=/[^+\/0-9A-Za-z-_]/g},{"base64-js":83,ieee754:84,"is-array":85}],83:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===h?62:e===a||e===f?63:u>e?-1:u+10>e?e-u+26+26:l+26>e?e-l:c+26>e?e-c+26:void 0}function n(t){function n(t){c[h++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(r=0,i=0;s>r;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;s>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),h="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],84:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}},{}],85:[function(t,e,n){var r=Array.isArray,i=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],86:[function(t,e,n){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],87:[function(t,e,n){function r(){l=!1,a.length?c=a.concat(c):h=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(r);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a[h].run();h=-1,e=c.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},c=[],l=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}]},{},[3])(3)});/*!
 * Paper.js v0.9.25 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2014, Juerg Lehni & Jonathan Puckey
 * http://scratchdisk.com/ & http://jonathanpuckey.com/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Sun Oct 25 11:23:38 2015 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2013 Juerg Lehni
 * http://scratchdisk.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * http://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
var paper=new function(t){var e=new function(){function n(t,n,r,i,s){function a(o,a){a=a||(a=c(n,o))&&(a.get?a:a.value),"string"==typeof a&&"#"===a[0]&&(a=t[a.substring(1)]||a);var l,f="function"==typeof a,d=a,p=s||f&&!a.base?a&&a.get?o in t:t[o]:null;s&&p||(f&&p&&(a.base=p),f&&i!==!1&&(l=o.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(u[l[3].toLowerCase()+l[4]]=l[2]),d&&!f&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(c(t,o)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=r),h(t,o,d))}var u={};if(n){for(var l in n)n.hasOwnProperty(l)&&!o.test(l)&&a(l);for(var l in u){var f=u[l],d=t["set"+f],p=t["get"+f]||d&&t["is"+f];!p||i!==!0&&0!==p.length||a(l,{get:p,set:d})}}return t}function r(t,e,n){return t&&("length"in t&&!t.getLength&&"number"==typeof t.length?s:a).call(t,e,n=n||t),n}function i(t,e,n){for(var r in e)!e.hasOwnProperty(r)||n&&n[r]||(t[r]=e[r]);return t}var o=/^(statics|enumerable|beans|preserve)$/,s=[].forEach||function(t,e){for(var n=0,r=this.length;r>n;n++)t.call(e,this[n],n,this)},a=function(t,e){for(var n in this)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)},u=Object.create||function(t){return{__proto__:t}},c=Object.getOwnPropertyDescriptor||function(t,e){var n=t.__lookupGetter__&&t.__lookupGetter__(e);return n?{get:n,set:t.__lookupSetter__(e),enumerable:!0,configurable:!0}:t.hasOwnProperty(e)?{value:t[e],enumerable:!0,configurable:!0,writable:!0}:null},l=Object.defineProperty||function(t,e,n){return(n.get||n.set)&&t.__defineGetter__?(n.get&&t.__defineGetter__(e,n.get),n.set&&t.__defineSetter__(e,n.set)):t[e]=n.value,t},h=function(t,e,n){return delete t[e],l(t,e,n)};return n(function(){for(var t=0,e=arguments.length;e>t;t++)i(this,arguments[t])},{inject:function(t){if(t){var e=t.statics===!0?t:t.statics,r=t.beans,i=t.preserve;e!==t&&n(this.prototype,t,t.enumerable,r,i),n(this,e,!0,r,i)}for(var o=1,s=arguments.length;s>o;o++)this.inject(arguments[o]);return this},extend:function(){for(var t,e,r=this,i=0,o=arguments.length;o>i&&!(t=arguments[i].initialize);i++);return t=t||function(){r.apply(this,arguments)},e=t.prototype=u(this.prototype),h(e,"constructor",{value:t,writable:!0,configurable:!0}),n(t,this,!0),arguments.length&&this.inject.apply(t,arguments),t.base=r,t}},!0).inject({inject:function(){for(var t=0,e=arguments.length;e>t;t++){var r=arguments[t];r&&n(this,r,r.enumerable,r.beans,r.preserve)}return this},extend:function(){var t=u(this);return t.inject.apply(t,arguments)},each:function(t,e){return r(this,t,e)},set:function(t){return i(this,t)},clone:function(){return new this.constructor(this)},statics:{each:r,create:u,define:h,describe:c,set:i,clone:function(t){return i(new t.constructor,t)},isPlainObject:function(t){var n=null!=t&&t.constructor;return n&&(n===Object||n===e||"Object"===n.name)},pick:function(e,n){return e!==t?e:n}}})};"undefined"!=typeof module&&(module.exports=e),e.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+e.each(this,function(t,e){if(!/^_/.test(e)){var n=typeof t;this.push(e+": "+("number"===n?o.instance.number(t):"string"===n?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},exportJSON:function(t){return e.exportJSON(this,t)},toJSON:function(){return e.serialize(this)},_set:function(n,r,i){if(n&&(i||e.isPlainObject(n))){for(var o=Object.keys(n._filtering||n),s=0,a=o.length;a>s;s++){var u=o[s];if(!r||!r[u]){var c=n[u];c!==t&&(this[u]=c)}}return!0}},statics:{exports:{enumerable:!0},extend:function et(){var t=et.base.apply(this,arguments),n=t.prototype._class;return n&&!e.exports[n]&&(e.exports[n]=t),t},equals:function(t,n){if(t===n)return!0;if(t&&t.equals)return t.equals(n);if(n&&n.equals)return n.equals(t);if(t&&n&&"object"==typeof t&&"object"==typeof n){if(Array.isArray(t)&&Array.isArray(n)){var r=t.length;if(r!==n.length)return!1;for(;r--;)if(!e.equals(t[r],n[r]))return!1}else{var i=Object.keys(t),r=i.length;if(r!==Object.keys(n).length)return!1;for(;r--;){var o=i[r];if(!n.hasOwnProperty(o)||!e.equals(t[o],n[o]))return!1}}return!0}return!1},read:function(n,r,i,o){if(this===e){var s=this.peek(n,r);return n.__index++,s}var a=this.prototype,u=a._readIndex,c=r||u&&n.__index||0;o||(o=n.length-c);var l=n[c];return l instanceof this||i&&i.readNull&&null==l&&1>=o?(u&&(n.__index=c+1),l&&i&&i.clone?l.clone():l):(l=e.create(this.prototype),u&&(l.__read=!0),l=l.initialize.apply(l,c>0||o<n.length?Array.prototype.slice.call(n,c,c+o):n)||l,u&&(n.__index=c+l.__read,l.__read=t),l)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readAll:function(t,e,n){for(var r,i=[],o=e||0,s=t.length;s>o;o++)i.push(Array.isArray(r=t[o])?this.read(r,0,n):this.read(t,o,n,1));return i},readNamed:function(n,r,i,o,s){var a=this.getNamed(n,r),u=a!==t;if(u){var c=n._filtered;c||(c=n._filtered=e.create(n[0]),c._filtering=n[0]),c[r]=t}return this.read(u?[a]:n,i,o,s)},getNamed:function(n,r){var i=n[0];return n._hasObject===t&&(n._hasObject=1===n.length&&e.isPlainObject(i)),n._hasObject?r?i[r]:n._filtered||i:void 0},hasNamed:function(t,e){return!!this.getNamed(t,e)},isPlainValue:function(t,e){return this.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,n,r,i){n=n||{};var s,a=!i;if(a&&(n.formatter=new o(n.precision),i={length:0,definitions:{},references:{},add:function(t,e){var n="#"+t._id,r=this.references[n];if(!r){this.length++;var i=e.call(t),o=t._class;o&&i[0]!==o&&i.unshift(o),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),t&&t._serialize){s=t._serialize(n,i);var u=t._class;!u||r||s._compact||s[0]===u||s.unshift(u)}else if(Array.isArray(t)){s=[];for(var c=0,l=t.length;l>c;c++)s[c]=e.serialize(t[c],n,r,i);r&&(s._compact=!0)}else if(e.isPlainObject(t)){s={};for(var h=Object.keys(t),c=0,l=h.length;l>c;c++){var f=h[c];s[f]=e.serialize(t[f],n,r,i)}}else s="number"==typeof t?n.formatter.number(t,n.precision):t;return a&&i.length>0?[["dictionary",i.definitions],s]:s},deserialize:function(t,n,r,i){var o=t,s=!r;if(r=r||{},Array.isArray(t)){var a=t[0],u="dictionary"===a;if(1==t.length&&/^#/.test(a))return r.dictionary[a];a=e.exports[a],o=[],i&&(r.dictionary=o);for(var c=a?1:0,l=t.length;l>c;c++)o.push(e.deserialize(t[c],n,r,u));if(a){var h=o;n?o=n(a,h):(o=e.create(a.prototype),a.apply(o,h))}}else if(e.isPlainObject(t)){o={},i&&(r.dictionary=o);for(var f in t)o[f]=e.deserialize(t[f],n,r)}return s&&t&&t.length&&"dictionary"===t[0][0]?o[1]:o},exportJSON:function(t,n){var r=e.serialize(t,n);return n&&n.asString===!1?r:JSON.stringify(r)},importJSON:function(t,n){return e.deserialize("string"==typeof t?JSON.parse(t):t,function(t,r){var i=n&&n.constructor===t?n:e.create(t.prototype),o=i===n;if(1===r.length&&i instanceof m&&(o||!(i instanceof w))){var s=r[0];e.isPlainObject(s)&&(s.insert=!1)}return t.apply(i,r),o&&(n=null),i})},splice:function(e,n,r,i){var o=n&&n.length,s=r===t;r=s?e.length:r,r>e.length&&(r=e.length);for(var a=0;o>a;a++)n[a]._index=r+a;if(s)return e.push.apply(e,n),[];var u=[r,i];n&&u.push.apply(u,n);for(var c=e.splice.apply(e,u),a=0,l=c.length;l>a;a++)c[a]._index=t;for(var a=r+o,l=e.length;l>a;a++)e[a]._index=a;return c},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var n={on:function(t,n){if("string"!=typeof t)e.each(t,function(t,e){this.on(e,t)},this);else{var r=this._eventTypes,i=r&&r[t],o=this._callbacks=this._callbacks||{};o=o[t]=o[t]||[],-1===o.indexOf(n)&&(o.push(n),i&&i.install&&1===o.length&&i.install.call(this,t))}return this},off:function(t,n){if("string"!=typeof t)return void e.each(t,function(t,e){this.off(e,t)},this);var r,i=this._eventTypes,o=i&&i[t],s=this._callbacks&&this._callbacks[t];return s&&(!n||-1!==(r=s.indexOf(n))&&1===s.length?(o&&o.uninstall&&o.uninstall.call(this,t),delete this._callbacks[t]):-1!==r&&s.splice(r,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var n=this._callbacks&&this._callbacks[t];if(!n)return!1;var r=[].slice.call(arguments,1);n=n.slice();for(var i=0,o=n.length;o>i;i++)if(n[i].apply(this,r)===!1){e&&e.stop&&e.stop();break}return!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._callbacks,n=t?"install":"uninstall";for(var r in e)if(e[r].length>0){var i=this._eventTypes,o=i&&i[r],s=o&&o[n];s&&s.call(this,r)}},statics:{inject:function nt(t){var n=t._events;if(n){var r={};e.each(n,function(n,i){var o="string"==typeof n,s=o?n:i,a=e.capitalize(s),u=s.substring(2).toLowerCase();r[u]=o?{}:n,s="_"+s,t["get"+a]=function(){return this[s]},t["set"+a]=function(t){var e=this[s];e&&this.off(u,e),t&&this.on(u,t),this[s]=t}}),t._eventTypes=r}return nt.base.apply(this,arguments)}}},r=e.extend({_class:"PaperScope",initialize:function rt(){paper=this,this.settings=new e({applyMatrix:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=rt._id++,rt._scopes[this._id]=this;var t=rt.prototype;if(!this.support){var n=X.getContext(1,1);t.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:K.nativeModes},X.release(n)}if(!this.browser){var r=navigator.userAgent.toLowerCase(),i=(/(win)/.exec(r)||/(mac)/.exec(r)||/(linux)/.exec(r)||[])[0],o=t.browser={platform:i};i&&(o[i]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:([.\d]+))?/g,function(t,e,n,r,i){if(!o.chrome){var s="opera"===e?r:n;"trident"===e&&(s=i,e="msie"),o.version=s,o.versionNumber=parseFloat(s),o.name=e,o[e]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.9.25",getView:function(){return this.project&&this.project.getView()},getPaper:function(){return this},execute:function(t,e,n){paper.PaperScript.execute(t,this,e,n),F.updateFocus()},install:function(t){var n=this;e.each(["project","view","tool"],function(r){e.define(t,r,{configurable:!0,get:function(){return n[r]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(t[r]=this[r])},setup:function(t){return paper=this,this.project=new v(t),this},activate:function(){paper=this},clear:function(){for(var t=this.projects.length-1;t>=0;t--)this.projects[t].remove();for(var t=this.tools.length-1;t>=0;t--)this.tools[t].remove();for(var t=this.palettes.length-1;t>=0;t--)this.palettes[t].remove()},remove:function(){this.clear(),delete r._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,n){return e[t](n)||e[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),i=e.extend(n,{initialize:function(t){this._scope=paper,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null==this._index?!1:(e.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)}}),o=e.extend({initialize:function(t){this.precision=t||5,this.multiplier=Math.pow(10,this.precision)},number:function(t){return Math.round(t*this.multiplier)/this.multiplier},pair:function(t,e,n){return this.number(t)+(n||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});o.instance=new o;var s=new function(){function t(t,e,n){return e>t?e:t>n?n:t}var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],n=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,i=Math.sqrt,o=Math.pow,a=1e-12,u=1.12e-16;return{TOLERANCE:1e-6,EPSILON:a,MACHINE_EPSILON:u,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:2e-7,WINDING_EPSILON:2e-7,TRIGONOMETRIC_EPSILON:1e-7,CLIPPING_EPSILON:1e-7,KAPPA:4*(i(2)-1)/3,isZero:function(t){return t>=-a&&a>=t},integrate:function(t,r,i,o){for(var s=e[o-2],a=n[o-2],u=.5*(i-r),c=u+r,l=0,h=o+1>>1,f=1&o?a[l++]*t(c):0;h>l;){var d=u*s[l];f+=a[l++]*(t(c+d)+t(c-d))}return u*f},findRoot:function(t,e,n,i,o,s,a){for(var u=0;s>u;u++){var c=t(n),l=c/e(n),h=n-l;if(r(l)<a)return h;c>0?(o=n,n=i>=h?.5*(i+o):h):(i=n,n=h>=o?.5*(i+o):h)}return n},solveQuadratic:function(e,n,s,c,l,h){var f,d,p=0,g=l-a,v=h+a,_=1/0,m=n;if(n/=-2,d=n*n-e*s,0!==d&&r(d)<u){var y=o(r(e*n*s),1/3);if(1e-8>y){var w=o(10,r(Math.floor(Math.log(y)*Math.LOG10E)));isFinite(w)||(w=0),e*=w,n*=w,s*=w,d=n*n-e*s}}if(r(e)<a){if(r(m)<a)return r(s)<a?-1:0;f=-s/m}else if(d>=-u){var b=0>d?0:i(d),x=n+(0>n?-b:b);0===x?(f=s/e,_=-f):(f=x/e,_=s/x)}return isFinite(f)&&(null==l||f>g&&v>f)&&(c[p++]=null==l?f:t(f,l,h)),_!==f&&isFinite(_)&&(null==l||_>g&&v>_)&&(c[p++]=null==l?_:t(_,l,h)),p},solveCubic:function(e,n,c,l,h,f,d){var p,g,v,_=0;if(r(e)<a)e=n,g=c,v=l,p=1/0;else if(r(l)<a)g=n,v=c,p=0;else{var m,y,w,b,x,$,S,C=1+u;if(p=-(n/e)/3,S=e*p,g=S+n,v=g*p+c,w=(S+g)*p+v,y=v*p+l,b=y/e,x=o(r(b),1/3),$=0>b?-1:1,b=-w/e,x=b>0?1.3247179572*Math.max(x,i(b)):x,m=p-$*x,m!==p){do if(p=m,S=e*p,g=S+n,v=g*p+c,w=(S+g)*p+v,y=v*p+l,m=0===w?p:p-y/w/C,m===p){p=m;break}while($*m>$*p);r(e)*p*p>r(l/p)&&(v=-l/p,g=(v-c)/p)}}var _=s.solveQuadratic(e,g,v,h,f,d);return isFinite(p)&&(0===_||p!==h[_-1])&&(null==f||p>f-a&&d+a>p)&&(h[_++]=null==f?p:t(p,f,d)),_}}},a={_id:1,_pools:{},get:function(t){if(t){var e=t._class,n=this._pools[e];return n||(n=this._pools[e]={_id:1}),n._id++}return this._id++}},u=e.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var n=typeof t;if("number"===n){var r="number"==typeof e;this.x=t,this.y=r?e:t,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===t?(this.x=this.y=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.x=t[0],this.y=t.length>1?t[1]:t[0]):null!=t.x?(this.x=t.x,this.y=t.y):null!=t.width?(this.x=t.width,this.y=t.height):null!=t.angle?(this.x=t.length,this.y=0,this.setAngle(t.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new u(this.x,this.y)},toString:function(){var t=o.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this.set(Math.cos(e)*t,Math.sin(e)*t)}else{var n=t/this.getLength();s.isZero(n)&&this.getAngle(),this.set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=u.read(arguments),e=this.getLength()*t.getLength();if(s.isZero(e))return NaN;var n=this.dot(t)/e;return Math.acos(-1>n?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this.set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=u.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=u.read(arguments),n=t.x-this.x,r=t.y-this.y,i=n*n+r*r,o=e.read(arguments);return o?i:Math.sqrt(i)},normalize:function(e){e===t&&(e=1);var n=this.getLength(),r=0!==n?e/n:0,i=new u(this.x*r,this.y*r);return r>=0&&(i._angle=this._angle),i},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var n=e?this.subtract(e):this,r=Math.sin(t),i=Math.cos(t);return n=new u(n.x*i-n.y*r,n.x*r+n.y*i),e?n.add(e):n},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=u.read(arguments);return new u(this.x+t.x,this.y+t.y)},subtract:function(){var t=u.read(arguments);return new u(this.x-t.x,this.y-t.y)},multiply:function(){var t=u.read(arguments);return new u(this.x*t.x,this.y*t.y)},divide:function(){var t=u.read(arguments);return new u(this.x/t.x,this.y/t.y)},modulo:function(){var t=u.read(arguments);return new u(this.x%t.x,this.y%t.y)},negate:function(){return new u(-this.x,-this.y)},isInside:function(){return f.read(arguments).contains(this)},isClose:function(){var t=u.read(arguments),n=e.read(arguments);return this.getDistance(t)<n},isCollinear:function(){var t=u.read(arguments);return u.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=u.read(arguments);return u.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){return s.isZero(this.x)&&s.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},dot:function(){var t=u.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=u.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=u.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new u(t.x*e,t.y*e)},statics:{min:function(){var t=u.read(arguments),e=u.read(arguments);return new u(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=u.read(arguments),e=u.read(arguments);return new u(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new u(Math.random(),Math.random())},isCollinear:function(t,e,n,r){return Math.abs(t*r-e*n)<=1e-7*Math.sqrt((t*t+e*e)*(n*n+r*r))},isOrthogonal:function(t,e,n,r){return Math.abs(t*n+e*r)<=1e-7*Math.sqrt((t*t+e*e)*(n*n+r*r))}}},e.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new u(e(this.x),e(this.y))}},{})),c=u.extend({initialize:function(t,e,n,r){this._x=t,this._y=e,this._owner=n,this._setter=r},set:function(t,e,n){return this._x=t,this._y=e,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)}}),l=e.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var n=typeof t;if("number"===n){var r="number"==typeof e;this.width=t,this.height=r?e:t,this.__read&&(this.__read=r?2:1)}else"undefined"===n||null===t?(this.width=this.height=0,this.__read&&(this.__read=null===t?1:0)):(Array.isArray(t)?(this.width=t[0],this.height=t.length>1?t[1]:t[0]):null!=t.width?(this.width=t.width,this.height=t.height):null!=t.x?(this.width=t.x,this.height=t.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new l(this.width,this.height)},toString:function(){var t=o.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=l.read(arguments);return new l(this.width+t.width,this.height+t.height)},subtract:function(){var t=l.read(arguments);return new l(this.width-t.width,this.height-t.height)},multiply:function(){var t=l.read(arguments);return new l(this.width*t.width,this.height*t.height)},divide:function(){var t=l.read(arguments);return new l(this.width/t.width,this.height/t.height)},modulo:function(){var t=l.read(arguments);return new l(this.width%t.width,this.height%t.height)},negate:function(){return new l(-this.width,-this.height)},isZero:function(){return s.isZero(this.width)&&s.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new l(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new l(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new l(Math.random(),Math.random())}}},e.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new l(e(this.width),e(this.height))}},{})),h=l.extend({initialize:function(t,e,n,r){this._width=t,this._height=e,this._owner=n,this._setter=r},set:function(t,e,n){return this._width=t,this._height=e,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),f=e.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(n,r,i,o){var s=typeof n,a=0;if("number"===s?(this.x=n,this.y=r,this.width=i,this.height=o,a=4):"undefined"===s||null===n?(this.x=this.y=this.width=this.height=0,a=null===n?1:0):1===arguments.length&&(Array.isArray(n)?(this.x=n[0],this.y=n[1],this.width=n[2],this.height=n[3],a=1):n.x!==t||n.width!==t?(this.x=n.x||0,this.y=n.y||0,this.width=n.width||0,this.height=n.height||0,a=1):n.from===t&&n.to===t&&(this.x=this.y=this.width=this.height=0,this._set(n),a=1)),!a){var c=u.readNamed(arguments,"from"),h=e.peek(arguments);if(this.x=c.x,this.y=c.y,h&&h.x!==t||e.hasNamed(arguments,"to")){var f=u.readNamed(arguments,"to");this.width=f.x-c.x,this.height=f.y-c.y,this.width<0&&(this.x=f.x,this.width=-this.width),this.height<0&&(this.y=f.y,this.height=-this.height)}else{var d=l.read(arguments);this.width=d.width,this.height=d.height}a=arguments.__index}this.__read&&(this.__read=a)},set:function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},clone:function(){return new f(this.x,this.y,this.width,this.height)},equals:function(t){var n=e.isPlainValue(t)?f.read(arguments):t;return n===this||n&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height||!1},toString:function(){var t=o.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?u:c;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=u.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?l:h;return new e(this.width,this.height,this,"setSize")},setSize:function(){var t=l.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(e){this._fixX!==t&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=e-this.width:this.width=e-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(e){this._fixY!==t&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=e-this.height:this.height=e-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){var e=t?u:c;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=u.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==t||4==(Array.isArray(e)?e:arguments).length?this._containsRectangle(f.read(arguments)):this._containsPoint(u.read(arguments))},_containsPoint:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(t){var e=t.x,n=t.y;return e>=this.x&&n>=this.y&&e+t.width<=this.x+this.width&&n+t.height<=this.y+this.height},intersects:function(){var t=f.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=f.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=f.read(arguments),e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),i=Math.min(this.y+this.height,t.y+t.height);return new f(e,n,r-e,i-n)},unite:function(){var t=f.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),i=Math.max(this.y+this.height,t.y+t.height);return new f(e,n,r-e,i-n)},include:function(){var t=u.read(arguments),e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),i=Math.max(this.y+this.height,t.y);return new f(e,n,r-e,i-n)},expand:function(){var t=l.read(arguments),e=t.width,n=t.height;return new f(this.x-e/2,this.y-n/2,this.width+e,this.height+n)},scale:function(e,n){return this.expand(this.width*e-this.width,this.height*(n===t?e:n)-this.height)}},e.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var n=t.join(""),r=/^[RL]/.test(n);e>=4&&(t[1]+=r?"Y":"X");var i=t[r?0:1],o=t[r?1:0],s="get"+i,a="get"+o,l="set"+i,h="set"+o,f="get"+n,d="set"+n;this[f]=function(t){var e=t?u:c;return new e(this[s](),this[a](),this,d)},this[d]=function(){var t=u.read(arguments);this[l](t.x),this[h](t.y)}},{beans:!0})),d=f.extend({initialize:function(t,e,n,r,i,o){this.set(t,e,n,r,!0),this._owner=i,this._setter=o},set:function(t,e,n,r,i){return this._x=t,this._y=e,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var t=f.prototype;return e.each(["x","y","width","height"],function(t){var n=e.capitalize(t),r="_"+t;this["get"+n]=function(){return this[r]},this["set"+n]=function(t){this[r]=t,this._dontNotify||this._owner[this._setter](this)}},e.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var n="set"+e;this[n]=function(){this._dontNotify=!0,t[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected},setSelected:function(t){var e=this._owner;e.setSelected&&(e._boundsSelected=t,e.setSelected(t||e._selectedSegmentState>0))}}))}),p=e.extend({_class:"Matrix",initialize:function it(t){var e=arguments.length,n=!0;if(6===e?this.set.apply(this,arguments):1===e?t instanceof it?this.set(t._a,t._c,t._b,t._d,t._tx,t._ty):Array.isArray(t)?this.set.apply(this,t):n=!1:0===e?this.reset():n=!1,!n)throw new Error("Unsupported matrix parameters")},set:function(t,e,n,r,i,o,s){return this._a=t,this._c=e,this._b=n,this._d=r,this._tx=i,this._ty=o,s||this._changed(),this},_serialize:function(t){return e.serialize(this.getValues(),t)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new p(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty||!1},toString:function(){var t=o.instance;return"[["+[t.number(this._a),t.number(this._b),t.number(this._tx)].join(", ")+"], ["+[t.number(this._c),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,n){var r=this._owner;return r?(r.transform(null,!0,e.pick(t,!0),n),this.isIdentity()):!1},translate:function(){var t=u.read(arguments),e=t.x,n=t.y;return this._tx+=e*this._a+n*this._b,this._ty+=e*this._c+n*this._d,this._changed(),this},scale:function(){var t=u.read(arguments),e=u.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._c*=t.x,this._b*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=u.read(arguments,1),n=e.x,r=e.y,i=Math.cos(t),o=Math.sin(t),s=n-n*i+r*o,a=r-n*o-r*i,c=this._a,l=this._b,h=this._c,f=this._d;return this._a=i*c+o*l,this._b=-o*c+i*l,this._c=i*h+o*f,this._d=-o*h+i*f,this._tx+=s*c+a*l,this._ty+=s*h+a*f,this._changed(),this},shear:function(){var t=u.read(arguments),e=u.read(arguments,0,{readNull:!0});e&&this.translate(e);var n=this._a,r=this._c;return this._a+=t.y*this._b,this._c+=t.y*this._d,this._b+=t.x*n,this._d+=t.x*r,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=u.read(arguments),e=u.read(arguments,0,{readNull:!0}),n=Math.PI/180,r=new u(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(r,e)},concatenate:function(t){var e=this._a,n=this._b,r=this._c,i=this._d,o=t._a,s=t._b,a=t._c,u=t._d,c=t._tx,l=t._ty;
return this._a=o*e+a*n,this._b=s*e+u*n,this._c=o*r+a*i,this._d=s*r+u*i,this._tx+=c*e+l*n,this._ty+=c*r+l*i,this._changed(),this},preConcatenate:function(t){var e=this._a,n=this._b,r=this._c,i=this._d,o=this._tx,s=this._ty,a=t._a,u=t._b,c=t._c,l=t._d,h=t._tx,f=t._ty;return this._a=a*e+u*r,this._b=a*n+u*i,this._c=c*e+l*r,this._d=c*n+l*i,this._tx=a*o+u*s+h,this._ty=c*o+l*s+f,this._changed(),this},chain:function(t){var e=this._a,n=this._b,r=this._c,i=this._d,o=this._tx,s=this._ty,a=t._a,u=t._b,c=t._c,l=t._d,h=t._tx,f=t._ty;return new p(a*e+c*n,a*r+c*i,u*e+l*n,u*r+l*i,o+h*e+f*n,s+h*r+f*i)},isIdentity:function(){return 1===this._a&&0===this._c&&0===this._b&&1===this._d&&0===this._tx&&0===this._ty},orNullIfIdentity:function(){return this.isIdentity()?null:this},isInvertible:function(){return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant()},transform:function(t,e,n){return arguments.length<3?this._transformPoint(u.read(arguments)):this._transformCoordinates(t,e,n)},_transformPoint:function(t,e,n){var r=t.x,i=t.y;return e||(e=new u),e.set(r*this._a+i*this._b+this._tx,r*this._c+i*this._d+this._ty,n)},_transformCoordinates:function(t,e,n){for(var r=0,i=0,o=2*n;o>r;){var s=t[r++],a=t[r++];e[i++]=s*this._a+a*this._b+this._tx,e[i++]=s*this._c+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,n=t.y,r=e+t.width,i=n+t.height,o=[e,n,r,n,r,i,e,i];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,n){for(var r=this._transformCorners(t),i=r.slice(0,2),o=i.slice(),s=2;8>s;s++){var a=r[s],u=1&s;a<i[u]?i[u]=a:a>o[u]&&(o[u]=a)}return e||(e=new f),e.set(i[0],i[1],o[0]-i[0],o[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(u.read(arguments))},_getDeterminant:function(){var t=this._a*this._d-this._b*this._c;return isFinite(t)&&!s.isZero(t)&&isFinite(this._tx)&&isFinite(this._ty)?t:null},_inverseTransform:function(t,e,n){var r=this._getDeterminant();if(!r)return null;var i=t.x-this._tx,o=t.y-this._ty;return e||(e=new u),e.set((i*this._d-o*this._b)/r,(o*this._a-i*this._c)/r,n)},decompose:function(){var t=this._a,e=this._b,n=this._c,r=this._d;if(s.isZero(t*r-e*n))return null;var i=Math.sqrt(t*t+e*e);t/=i,e/=i;var o=t*n+e*r;n-=t*o,r-=e*o;var a=Math.sqrt(n*n+r*r);return n/=a,r/=a,o/=a,e*n>t*r&&(t=-t,e=-e,o=-o,i=-i),{scaling:new u(i,a),rotation:180*-Math.atan2(e,t)/Math.PI,shearing:o}},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty]},getTranslation:function(){return new u(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},inverted:function(){var t=this._getDeterminant();return t&&new p(this._d/t,-this._c/t,-this._b/t,this._a/t,(this._b*this._ty-this._d*this._tx)/t,(this._c*this._tx-this._a*this._ty)/t)},shiftless:function(){return new p(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(t){t.transform(this._a,this._c,this._b,this._d,this._tx,this._ty)}},e.each(["a","c","b","d","tx","ty"],function(t){var n=e.capitalize(t),r="_"+t;this["get"+n]=function(){return this[r]},this["set"+n]=function(t){this[r]=t,this._changed()}},{})),g=e.extend({_class:"Line",initialize:function(t,e,n,r,i){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=n,this._vy=r,o=i):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new u(this._px,this._py)},getVector:function(){return new u(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return g.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return g.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(g.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return u.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return u.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,n,r,i,o,a,c,l,h){l||(n-=t,r-=e,a-=i,c-=o);var f=n*c-r*a;if(!s.isZero(f)){var d=t-i,p=e-o,g=(a*p-c*d)/f,v=(n*p-r*d)/f,_=1e-12,m=-_,y=1+_;if(h||g>m&&y>g&&v>m&&y>v)return h||(g=0>=g?0:g>=1?1:g),new u(t+g*n,e+g*r)}},getSide:function(t,e,n,r,i,o,s,a){s||(n-=t,r-=e);var u=i-t,c=o-e,l=u*r-c*n;return 0!==l||a||(l=(u*n+u*n)/(n*n+r*r),l>=0&&1>=l&&(l=0)),0>l?-1:l>0?1:0},getSignedDistance:function(t,e,n,r,i,o,s){return s||(n-=t,r-=e),0===n?r>0?i-t:t-i:0===r?0>n?o-e:e-o:((i-t)*r-(o-e)*n)/Math.sqrt(n*n+r*r)}}}),v=i.extend({_class:"Project",_list:"projects",_reference:"project",initialize:function(t){i.call(this,!0),this.layers=[],this._activeLayer=null,this.symbols=[],this._currentStyle=new L(null,null,this),this._view=F.create(this,t||X.getCanvas(1,1)),this._selectedItems={},this._selectedItemCount=0,this._updateVersion=0},_serialize:function(t,n){return e.serialize(this.layers,t,!0,n)},clear:function(){for(var t=this.layers.length-1;t>=0;t--)this.layers[t].remove();this.symbols=[]},isEmpty:function(){return 0===this.layers.length},remove:function ot(){return ot.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.initialize(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getActiveLayer:function(){return this._activeLayer||new w({project:this})},getSelectedItems:function(){var t=[];for(var e in this._selectedItems){var n=this._selectedItems[e];n.isInserted()&&t.push(n)}return t},insertChild:function(t,n,r){return n instanceof w?(n._remove(!1,!0),e.splice(this.layers,[n],t,0),n._setProject(this,!0),this._changes&&n._changed(5),this._activeLayer||(this._activeLayer=n)):n instanceof m?(this._activeLayer||this.insertChild(t,new w(m.NO_INSERT))).insertChild(t,n,r):n=null,n},addChild:function(e,n){return this.insertChild(t,e,n)},_updateSelection:function(t){var e=t._id,n=this._selectedItems;t._selected?n[e]!==t&&(this._selectedItemCount++,n[e]=t):n[e]===t&&(this._selectedItemCount--,delete n[e])},selectAll:function(){for(var t=this.layers,e=0,n=t.length;n>e;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectedItems;for(var e in t)t[e].setFullySelected(!1)},hitTest:function(){for(var t=u.read(arguments),n=S.getOptions(e.read(arguments)),r=this.layers.length-1;r>=0;r--){var i=this.layers[r]._hitTest(t,n);if(i)return i}return null},getItems:function(t){return m._getItems(this.layers,t)},getItem:function(t){return m._getItems(this.layers,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var n=this._activeLayer;return e.importJSON(t,n&&n.isEmpty()&&n)},draw:function(t,n,r){this._updateVersion++,t.save(),n.applyToContext(t);for(var i=new e({offset:new u(0,0),pixelRatio:r,viewMatrix:n.isIdentity()?null:n,matrices:[new p],updateMatrix:!0}),o=0,s=this.layers,a=s.length;a>o;o++)s[o].draw(t,i);if(t.restore(),this._selectedItemCount>0){t.save(),t.strokeWidth=1;var c=this._selectedItems,l=this._scope.settings.handleSize,h=this._updateVersion;for(var f in c)c[f]._drawSelection(t,n,l,c,h);t.restore()}}}),_=e.extend({_class:"Symbol",initialize:function(t,e){this._id=a.get(),this.project=paper.project,this.project.symbols.push(this),t&&this.setDefinition(t,e)},_serialize:function(t,n){return n.add(this,function(){return e.serialize([this._class,this._definition],t,!1,n)})},_changed:function(t){8&t&&m._clearBoundsCache(this),1&t&&(this.project._needsUpdate=!0)},getDefinition:function(){return this._definition},setDefinition:function(t,e){t._parentSymbol&&(t=t.clone()),this._definition&&(this._definition._parentSymbol=null),this._definition=t,t.remove(),t.setSelected(!1),e||t.setPosition(new u),t._parentSymbol=this,this._changed(9)},place:function(t){return new $(this,t)},clone:function(){return new _(this._definition.clone(!1))},equals:function(t){return t===this||t&&this.definition.equals(t.definition)||!1}}),m=e.extend(n,{statics:{extend:function st(t){return t._serializeFields&&(t._serializeFields=new e(this.prototype._serializeFields,t._serializeFields)),st.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_applyMatrix:!0,_canApplyMatrix:!0,_boundsSelected:!1,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new p,pivot:null,locked:!1,visible:!0,blendMode:"normal",opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(t,n){var r=t&&e.isPlainObject(t),i=r&&t.internal===!0,o=this._matrix=new p,s=r&&t.project||paper.project;return i||(this._id=a.get()),this._applyMatrix=this._canApplyMatrix&&paper.settings.applyMatrix,n&&o.translate(n),o._owner=this,this._style=new L(s._currentStyle,this,s),this._project||(i||r&&t.insert===!1?this._setProject(s):r&&t.parent?this.setParent(t.parent):(s._activeLayer||new w).addChild(this)),r&&t!==m.NO_INSERT&&this._set(t,{insert:!0,project:!0,parent:!0},!0),r},_events:e.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(t){this[t]={install:function(t){this.getView()._installEvent(t)},uninstall:function(t){this.getView()._uninstallEvent(t)}}},{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{}}),_serialize:function(t,n){function r(r){for(var s in r){var a=o[s];e.equals(a,"leading"===s?1.2*r.fontSize:r[s])||(i[s]=e.serialize(a,t,"data"!==s,n))}}var i={},o=this;return r(this._serializeFields),this instanceof y||r(this._style._defaults),[this._class,i]},_changed:function(e){var n=this._parentSymbol,r=this._parent||n,i=this._project;if(8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=this._currentPath=t),r&&40&e&&m._clearBoundsCache(r),2&e&&m._clearBoundsCache(this),i&&(1&e&&(i._needsUpdate=!0),i._changes)){var o=i._changesById[this._id];o?o.flags|=e:(o={item:this,flags:e},i._changesById[this._id]=o,i._changes.push(o))}n&&n._changed(e)},set:function(t){return t&&this._set(t),this},getId:function(){return this._id},getName:function(){return this._name},setName:function(e,n){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._parent;if(e&&r){for(var i=r._children,o=r._namedChildren,s=e,a=1;n&&i[e];)e=s+" "+a++;(o[e]=o[e]||[]).push(this),i[e]=this}this._name=e||t,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},e.each(["locked","visible","blendMode","opacity","guide"],function(t){var n=e.capitalize(t),t="_"+t;this["get"+n]=function(){return this[t]},this["set"+n]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,_locked:!1,_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,n=t.length;n>e;e++)if(t[e].isSelected())return!0;return this._selected},setSelected:function(t,e){if(!e&&this._selectChildren)for(var n=this._children,r=0,i=n.length;i>r;r++)n[r].setSelected(t);(t=!!t)^this._selected&&(this._selected=t,this._project._updateSelection(this),this._changed(129))},_selected:!1,isFullySelected:function(){var t=this._children;if(t&&this._selected){for(var e=0,n=t.length;n>e;e++)if(!t[e].isFullySelected())return!1;return!0}return this._selected},setFullySelected:function(t){var e=this._children;if(e)for(var n=0,r=e.length;r>n;n++)e[n].setFullySelected(t);this.setSelected(t,!0)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,n=t?u:c;if(!e){var r=this._pivot;e=this._position=r?this._matrix._transformPoint(r):this.getBounds().getCenter(!0)}return new n(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(u.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(t){var e=this._pivot;if(e){var n=t?u:c;e=new n(e.x,e.y,this,"setPivot")}return e},setPivot:function(){this._pivot=u.read(arguments,0,{clone:!0,readNull:!0}),this._position=t},_pivot:null},e.each(["bounds","strokeBounds","handleBounds","roughBounds","internalBounds","internalRoughBounds"],function(t){var n="get"+e.capitalize(t),r=t.match(/^internal(.*)$/),i=r?"get"+r[1]:null;this[n]=function(e){var r=this._boundsGetter,o=!i&&("string"==typeof r?r:r&&r[n])||n,s=this._getCachedBounds(o,e,this,i);return"bounds"===t?new d(s.x,s.y,s.width,s.height,this,"setBounds"):s}},{beans:!0,_getBounds:function(t,e,n){var r=this._children;if(!r||0==r.length)return new f;m._updateBoundsCache(this,n);for(var i=1/0,o=-i,s=i,a=o,u=0,c=r.length;c>u;u++){var l=r[u];if(l._visible&&!l.isEmpty()){var h=l._getCachedBounds(t,e&&e.chain(l._matrix),n);i=Math.min(h.x,i),s=Math.min(h.y,s),o=Math.max(h.x+h.width,o),a=Math.max(h.y+h.height,a)}}return isFinite(i)?new f(i,s,o-i,a-s):new f},setBounds:function(){var t=f.read(arguments),e=this.getBounds(),n=new p,r=t.getCenter();n.translate(r),(t.width!=e.width||t.height!=e.height)&&n.scale(0!=e.width?t.width/e.width:1,0!=e.height?t.height/e.height:1),r=e.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getCachedBounds:function(t,e,n,r){e=e&&e.orNullIfIdentity();var i=r?null:this._matrix.orNullIfIdentity(),o=(!e||e.equals(i))&&t;if(m._updateBoundsCache(this._parent||this._parentSymbol,n),o&&this._bounds&&this._bounds[o])return this._bounds[o].clone();var s=this._getBounds(r||t,e||i,n);if(o){this._bounds||(this._bounds={});var a=this._bounds[o]=s.clone();a._internal=!!r}return s},statics:{_updateBoundsCache:function(t,e){if(t){var n=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(e),r.ids[n]=e)}},_clearBoundsCache:function(e){var n=e._boundsCache;if(n){e._bounds=e._position=e._boundsCache=t;for(var r=0,i=n.list,o=i.length;o>r;r++){var s=i[r];s!==e&&(s._bounds=s._position=t,s._boundsCache&&m._clearBoundsCache(s))}}}}}),{beans:!0,_decompose:function(){return this._decomposed=this._matrix.decompose()},getRotation:function(){var t=this._decomposed||this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var n=this._decomposed;this.rotate(t-e),n.rotation=t,this._decomposed=n}},getScaling:function(t){var e=this._decomposed||this._decompose(),n=e&&e.scaling,r=t?u:c;return n&&new r(n.x,n.y,this,"setScaling")},setScaling:function(){var t=this.getScaling();if(t){var e=u.read(arguments,0,{clone:!0}),n=this._decomposed;this.scale(e.x/t.x,e.y/t.y),n.scaling=e,this._decomposed=n}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments),this._applyMatrix?this.transform(null,!0):this._changed(9)},getGlobalMatrix:function(t){var e=this._globalMatrix,n=this._project._updateVersion;if(e&&e._updateVersion!==n&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&e.preConcatenate(r.getGlobalMatrix(!0)),e._updateVersion=n}return t?e:e.clone()},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var n=this._children,r=0,i=n&&n.length;i>r;r++)n[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project.getView()},_installEvents:function at(t){at.base.call(this,t);for(var e=this._children,n=0,r=e&&e.length;r>n;n++)e[n]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof w)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){return this._parent&&this._parent._children[this._index+1]||null},getPreviousSibling:function(){return this._parent&&this._parent._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return e.equals(this._children,t._children)},clone:function(t){return this._clone(new this.constructor(m.NO_INSERT),t)},_clone:function(n,r,i){var o=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],s=this._children;n.setStyle(this._style);for(var a=0,u=s&&s.length;u>a;a++)n.addChild(s[a].clone(!1),!0);for(var a=0,u=o.length;u>a;a++){var c=o[a];this.hasOwnProperty(c)&&(n[c]=this[c])}return i!==!1&&n._matrix.initialize(this._matrix),n.setApplyMatrix(this._applyMatrix),n.setPivot(this._pivot),n.setSelected(this._selected),n._data=this._data?e.clone(this._data):null,(r||r===t)&&n.insertAbove(this),this._name&&n.setName(this._name,!0),n},copyTo:function(t){return t.addChild(this.clone(!1))},rasterize:function(t){var n=this.getStrokeBounds(),r=(t||this.getView().getResolution())/72,i=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),s=new l(o.subtract(i)),a=X.getCanvas(s.multiply(r)),u=a.getContext("2d"),c=(new p).scale(r).translate(i.negate());u.save(),c.applyToContext(u),this.draw(u,new e({matrices:[c]})),u.restore();var h=new x(m.NO_INSERT);return h.setCanvas(a),h.transform((new p).translate(i.add(s.divide(2))).scale(1/r)),h.insertAbove(this),h},contains:function(){return!!this._contains(this._matrix._inverseTransform(u.read(arguments)))},_contains:function(t){if(this._children){for(var e=this._children.length-1;e>=0;e--)if(this._children[e].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return f.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new T.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof m?this._asPathItem().getIntersections(t._asPathItem(),null,e||t._matrix,!0).length>0:!1},hitTest:function(){return this._hitTest(u.read(arguments),S.getOptions(e.read(arguments)))},_hitTest:function(t,n){function r(n,r){var i=d["get"+r]();return t.subtract(i).divide(u).length<=1?new S(n,f,{name:e.hyphenate(r),point:i}):void 0}if(this._locked||!this._visible||this._guide&&!n.guides||this.isEmpty())return null;var i=this._matrix,o=n._totalMatrix,s=this.getView(),a=n._totalMatrix=o?o.chain(i):this.getGlobalMatrix().preConcatenate(s._matrix),u=n._tolerancePadding=new l(T._getPenPadding(1,a.inverted())).multiply(Math.max(n.tolerance,1e-6));if(t=i._inverseTransform(t),!this._children&&!this.getInternalRoughBounds().expand(u.multiply(2))._containsPoint(t))return null;var c,h=!(n.guides&&!this._guide||n.selected&&!this._selected||n.type&&n.type!==e.hyphenate(this._class)||n["class"]&&!(this instanceof n["class"])),f=this;if(h&&(n.center||n.bounds)&&this._parent){var d=this.getInternalBounds();if(n.center&&(c=r("center","Center")),!c&&n.bounds)for(var p=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],g=0;8>g&&!c;g++)c=r("bounds",p[g])}var v=!c&&this._children;if(v)for(var _=this._getChildHitTestOptions(n),g=v.length-1;g>=0&&!c;g--)c=v[g]._hitTest(t,_);return!c&&h&&(c=this._hitTestSelf(t,n)),c&&c.point&&(c.point=i.transform(c.point)),n._totalMatrix=o,c},_getChildHitTestOptions:function(t){return t},_hitTestSelf:function(t,e){return e.fill&&this.hasFill()&&this._contains(t)?new S("fill",this):void 0},matches:function(t,n){function r(t,n){for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],s=n[i];if(e.isPlainObject(o)&&e.isPlainObject(s)){if(!r(o,s))return!1}else if(!e.equals(o,s))return!1}return!0}var i=typeof t;if("object"===i){for(var o in t)if(t.hasOwnProperty(o)&&!this.matches(o,t[o]))return!1}else{if("function"===i)return t(this);var s=/^(empty|editable)$/.test(t)?this["is"+e.capitalize(t)]():"type"===t?e.hyphenate(this._class):this[t];if(/^(constructor|class)$/.test(t)){if(!(this instanceof n))return!1}else if(n instanceof RegExp){if(!n.test(s))return!1}else if("function"==typeof n){if(!n(s))return!1}else if(e.isPlainObject(n)){if(!r(n,s))return!1}else if(!e.equals(s,n))return!1}return!0},getItems:function(t){return m._getItems(this._children,t,this._matrix)},getItem:function(t){return m._getItems(this._children,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function ut(t,n,r,i,o){if(!i&&"object"==typeof n){var s=n.overlapping,a=n.inside,u=s||a,c=u&&f.read([u]);i={items:[],inside:!!a,overlapping:!!s,rect:c,path:s&&new T.Rectangle({rectangle:c,insert:!1})},u&&(n=e.set({},n,{inside:!0,overlapping:!0}))}var l=i&&i.items,c=i&&i.rect;r=c&&(r||new p);for(var h=0,d=t&&t.length;d>h;h++){var g=t[h],v=r&&r.chain(g._matrix),_=!0;if(c){var u=g.getBounds(v);if(!c.intersects(u))continue;i.inside&&c.contains(u)||i.overlapping&&(u.contains(c)||i.path.intersects(g,v))||(_=!1)}if(_&&g.matches(n)&&(l.push(g),o))break;if(ut(g._children,n,v,i,o),o&&l.length>0)break}return l}}},{importJSON:function(t){var n=e.importJSON(t,this);return n!==this?this.addChild(n):n},addChild:function(e,n){return this.insertChild(t,e,n)},insertChild:function(t,e,n){var r=e?this.insertChildren(t,[e],n):null;return r&&r[0]},addChildren:function(t,e){return this.insertChildren(this._children.length,t,e)},insertChildren:function(t,n,r,i){var o=this._children;if(o&&n&&n.length>0){n=Array.prototype.slice.apply(n);for(var s=n.length-1;s>=0;s--){var a=n[s];if(!i||a instanceof i){var u=a._parent===this&&a._index<t;a._remove(!1,!0)&&u&&t--}else n.splice(s,1)}e.splice(o,n,t,0);for(var c=this._project,l=c&&c._changes,s=0,h=n.length;h>s;s++){var a=n[s];a._parent=this,a._setProject(this._project,!0),a._name&&a.setName(a._name),l&&this._changed(5)}this._changed(11)}else n=null;return n},_insertSibling:function(t,e,n){return this._parent?this._parent.insertChild(t,e,n):null},insertAbove:function(t,e){return t._insertSibling(t._index+1,this,e)},insertBelow:function(t,e){return t._insertSibling(t._index,this,e)},sendToBack:function(){return(this._parent||this instanceof w&&this._project).insertChild(0,this)},bringToFront:function(){return(this._parent||this instanceof w&&this._project).addChild(this)},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",reduce:function(){if(this._children&&1===this._children.length){var t=this._children[0].reduce();return t.insertAbove(this),t.setStyle(this._style),this.remove(),t}return this},_removeNamed:function(){var t=this._parent;if(t){var e=t._children,n=t._namedChildren,r=this._name,i=n[r],o=i?i.indexOf(this):-1;-1!==o&&(e[r]==this&&delete e[r],i.splice(o,1),i.length?e[r]=i[i.length-1]:delete n[r])}},_remove:function(t,n){var r=this._parent;if(r){if(this._name&&this._removeNamed(),null!=this._index&&e.splice(r._children,null,this._index,1),this._installEvents(!1),t){var i=this._project;i&&i._changes&&this._changed(5)}return n&&r._changed(11),this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,n){if(!this._children)return null;t=t||0,n=e.pick(n,this._children.length);for(var r=e.splice(this._children,null,t,n-t),i=r.length-1;i>=0;i--)r[i]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;e>t;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var n=e(this),r=e(t),i=0,o=Math.min(n.length,r.length);o>i;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e==t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1},translate:function(){var t=new p;return this.transform(t.translate.apply(t,arguments))},rotate:function(t){return this.transform((new p).rotate(t,u.read(arguments,1,{readNull:!0})||this.getPosition(!0)))}},e.each(["scale","shear","skew"],function(t){this[t]=function(){var e=u.read(arguments),n=u.read(arguments,0,{readNull:!0});return this.transform((new p)[t](e,n||this.getPosition(!0)))}},{}),{transform:function(t,e,n,r){t&&t.isIdentity()&&(t=null);var i=this._matrix,o=(e||this._applyMatrix)&&(!i.isIdentity()||t||e&&n&&this._children);if(!t&&!o)return this;if(t&&i.preConcatenate(t),o=o&&this._transformContent(i,n,r)){var s=this._pivot,a=this._style,u=a.getFillColor(!0),c=a.getStrokeColor(!0);s&&i._transformPoint(s,s,!0),u&&u.transform(i),c&&c.transform(i),i.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var l=this._bounds,h=this._position;this._changed(9);var f=l&&t&&t.decompose();if(f&&!f.shearing&&f.rotation%90===0){for(var d in l){var p=l[d];(o||!p._internal)&&t._transformBounds(p,p)}var g=this._boundsGetter,p=l[g&&g.getBounds||g||"getBounds"];p&&(this._position=p.getCenter(!0)),this._bounds=l}else t&&h&&(this._position=t._transformPoint(h,h));return this},_transformContent:function(t,e,n){var r=this._children;if(r){for(var i=0,o=r.length;o>i;i++)r[i].transform(t,!0,e,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(u.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(u.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(u.read(arguments))},localToParent:function(){return this._matrix._transformPoint(u.read(arguments))},fitBounds:function(t,e){t=f.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=t.height/t.width,o=(e?r>i:i>r)?t.width/n.width:t.height/n.height,s=new f(new u,new l(n.width*o,n.height*o));s.setCenter(t.getCenter()),this.setBounds(s)},_setStyles:function(t){var e=this._style,n=e.getFillColor(),r=e.getStrokeColor(),i=e.getShadowColor();if(n&&(t.fillStyle=n.toCanvasStyle(t)),r){var o=e.getStrokeWidth();if(o>0){t.strokeStyle=r.toCanvasStyle(t),t.lineWidth=o;var s=e.getStrokeJoin(),a=e.getStrokeCap(),u=e.getMiterLimit();if(s&&(t.lineJoin=s),a&&(t.lineCap=a),u&&(t.miterLimit=u),paper.support.nativeDash){var c=e.getDashArray(),l=e.getDashOffset();c&&c.length&&("setLineDash"in t?(t.setLineDash(c),t.lineDashOffset=l):(t.mozDash=c,t.mozDashOffset=l))}}}if(i){var h=e.getShadowBlur();if(h>0){t.shadowColor=i.toCanvasStyle(t),t.shadowBlur=h;var f=this.getShadowOffset();t.shadowOffsetX=f.x,t.shadowOffsetY=f.y}}},draw:function(t,e,n){function r(t){return s?s.chain(t):t}var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var o=e.matrices,s=e.viewMatrix,a=this._matrix,u=o[o.length-1].chain(a);if(u.isInvertible()){o.push(u),e.updateMatrix&&(u._updateVersion=i,this._globalMatrix=u);var c,l,h,f=this._blendMode,d=this._opacity,p="normal"===f,g=K.nativeModes[f],v=p&&1===d||e.dontStart||e.clip||(g||p&&1>d)&&this._canComposite(),_=e.pixelRatio||1;if(!v){var m=this.getStrokeBounds(r(u));if(!m.width||!m.height)return;h=e.offset,l=e.offset=m.getTopLeft().floor(),c=t,t=X.getContext(m.getSize().ceil().add(1).multiply(_)),1!==_&&t.scale(_,_)}t.save();var y=n?n.chain(a):!this.getStrokeScaling(!0)&&r(u),w=!v&&e.clipItem,b=!y||w;if(v?(t.globalAlpha=d,g&&(t.globalCompositeOperation=f)):b&&t.translate(-l.x,-l.y),b&&(v?a:r(u)).applyToContext(t),w&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(_,0,0,_,0,0);var x=e.offset;x&&t.translate(-x.x,-x.y)}this._draw(t,e,y),t.restore(),o.pop(),e.clip&&!e.dontFinish&&t.clip(),v||(K.process(f,t,c,d,l.subtract(h).multiply(_)),X.release(t),e.offset=h)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof P)return e._isUpdated(t);var n=this._updateVersion===t;return!n&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,n=!0),n},_drawSelection:function(t,e,n,r,i){if((this._drawSelected||this._boundsSelected)&&this._isUpdated(i)){var o=this.getSelectedColor(!0)||this.getLayer().getSelectedColor(!0),s=e.chain(this.getGlobalMatrix(!0));if(t.strokeStyle=t.fillStyle=o?o.toCanvasStyle(t):"#009dec",this._drawSelected&&this._drawSelected(t,s,r),this._boundsSelected){var a=n/2,u=s._transformCorners(this.getInternalBounds());t.beginPath();for(var c=0;8>c;c++)t[0===c?"moveTo":"lineTo"](u[c],u[++c]);t.closePath(),t.stroke();for(var c=0;8>c;c++)t.fillRect(u[c]-a,u[++c]-a,n,n)}}},_canComposite:function(){return!1}},e.each(["down","drag","up","move"],function(t){this["removeOn"+e.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var n="mouse"+e,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}})),y=m.extend({_class:"Group",_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function ct(e){ct.base.call(this,e),1026&e&&(this._clipItem=t)},_getClipItem:function(){var e=this._clipItem;if(e===t){e=null;for(var n=0,r=this._children.length;r>n;n++){var i=this._children[n];if(i._clipMask){e=i;break}}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_draw:function(t,e){var n=e.clip,r=!n&&this._getClipItem(),i=!0;if(e=e.extend({clipItem:r,clip:!1}),n?this._currentPath?(t.currentPath=this._currentPath,i=!1):(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0})),i)for(var o=0,s=this._children.length;s>o;o++){var a=this._children[o];a!==r&&a.draw(t,e)}n&&(this._currentPath=t.currentPath)}}),w=y.extend({_class:"Layer",initialize:function(n){var r=e.isPlainObject(n)?new e(n):{children:Array.isArray(n)?n:arguments},i=r.insert;r.insert=!1,y.call(this,r),(i||i===t)&&(this._project.addChild(this),this.activate())},_remove:function lt(t,n){if(this._parent)return lt.base.call(this,t,n);if(null!=this._index){var r=this._project;return r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),e.splice(r.layers,null,this._index,1),this._installEvents(!1),t&&r._changes&&this._changed(5),n&&(r._needsUpdate=!0),!0}return!1},getNextSibling:function ht(){return this._parent?ht.base.call(this):this._project.layers[this._index+1]||null},getPreviousSibling:function ft(){return this._parent?ft.base.call(this):this._project.layers[this._index-1]||null;
},isInserted:function dt(){return this._parent?dt.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_insertSibling:function pt(t,e,n){return this._parent?pt.base.call(this,t,e,n):this._project.insertChild(t,e,n)}}),b=m.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_boundsSelected:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&e.equals(this._radius,t._radius)},clone:function(t){var e=new b(m.NO_INSERT);return e.setType(this._type),e.setSize(this._size),e.setRadius(this._radius),this._clone(e,t)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new h(t.width,t.height,this,"setSize")},setSize:function(){var t=l.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,n=t.width,r=t.height;if("rectangle"===e){var i=l.min(this._radius,t.divide(2));this._radius.set(i.width,i.height)}else"circle"===e?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===e&&this._radius.set(n/2,r/2);this._size.set(n,r),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new h(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var n=2*t;this._radius=t,this._size.set(n,n)}else if(t=l.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t.width,t.height),"rectangle"===e){var n=l.max(this._size,t.multiply(2));this._size.set(n.width,n.height)}else"ellipse"===e&&this._size.set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var n=this._clone(new(T[e.capitalize(this._type)])({center:new u,size:this._size,radius:this._radius,insert:!1}),t);return paper.settings.applyMatrix&&n.setApplyMatrix(!0),n},_draw:function(t,e,n){var r=this._style,i=r.hasFill(),o=r.hasStroke(),s=e.dontFinish||e.clip,a=!n;if(i||o||s){var u=this._type,c=this._radius,l="circle"===u;if(e.dontStart||t.beginPath(),a&&l)t.arc(0,0,c,0,2*Math.PI,!0);else{var h=l?c:c.width,f=l?c:c.height,d=this._size,p=d.width,g=d.height;if(a&&"rectangle"===u&&0===h&&0===f)t.rect(-p/2,-g/2,p,g);else{var v=p/2,_=g/2,m=.44771525016920644,y=h*m,w=f*m,b=[-v,-_+f,-v,-_+w,-v+y,-_,-v+h,-_,v-h,-_,v-y,-_,v,-_+w,v,-_+f,v,_-f,v,_-w,v-y,_,v-h,_,-v+h,_,-v+y,_,-v,_-w,-v,_-f];n&&n.transform(b,b,32),t.moveTo(b[0],b[1]),t.bezierCurveTo(b[2],b[3],b[4],b[5],b[6],b[7]),v!==h&&t.lineTo(b[8],b[9]),t.bezierCurveTo(b[10],b[11],b[12],b[13],b[14],b[15]),_!==f&&t.lineTo(b[16],b[17]),t.bezierCurveTo(b[18],b[19],b[20],b[21],b[22],b[23]),v!==h&&t.lineTo(b[24],b[25]),t.bezierCurveTo(b[26],b[27],b[28],b[29],b[30],b[31])}}t.closePath()}s||!i&&!o||(this._setStyles(t),i&&(t.fill(r.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),o&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var n=new f(this._size).setCenter(0,0);return"getBounds"!==t&&this.hasStroke()&&(n=n.expand(this.getStrokeWidth())),e?e._transformBounds(n):n}},new function(){function t(t,e,n){var r=t._radius;if(!r.isZero())for(var i=t._size.divide(2),o=0;4>o;o++){var s=new u(1&o?1:-1,o>1?1:-1),a=s.multiply(i),c=a.subtract(s.multiply(r)),l=new f(a,c);if((n?l.expand(n):l).contains(e))return c}}function e(t,e){var n=t.getAngleInRadians(),r=2*e.width,i=2*e.height,o=r*Math.sin(n),s=i*Math.cos(n);return r*i/(2*Math.sqrt(o*o+s*s))}return{_contains:function n(e){if("rectangle"===this._type){var r=t(this,e);return r?e.subtract(r).divide(this._radius).getLength()<=1:n.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,i){var o=!1;if(this.hasStroke()){var s=this._type,a=this._radius,u=this.getStrokeWidth()+2*i.tolerance;if("rectangle"===s){var c=t(this,n,u);if(c){var l=n.subtract(c);o=2*Math.abs(l.getLength()-e(l,a))<=u}else{var h=new f(this._size).setCenter(0,0),d=h.expand(u),p=h.expand(-u);o=d._containsPoint(n)&&!p._containsPoint(n)}}else"ellipse"===s&&(a=e(n,a)),o=2*Math.abs(n.getLength()-a)<=u}return o?new S("stroke",this):r.base.apply(this,arguments)}}},{statics:new function(){function t(t,n,r,i,o){var s=new b(e.getNamed(o));return s._type=t,s._size=r,s._radius=i,s.translate(n)}return{Circle:function(){var n=u.readNamed(arguments,"center"),r=e.readNamed(arguments,"radius");return t("circle",n,new l(2*r),r,arguments)},Rectangle:function(){var e=f.readNamed(arguments,"rectangle"),n=l.min(l.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),n,arguments)},Ellipse:function(){var e=b._readEllipse(arguments),n=e.radius;return t("ellipse",e.center,n.multiply(2),n,arguments)},_readEllipse:function(t){var n,r;if(e.hasNamed(t,"radius"))n=u.readNamed(t,"center"),r=l.readNamed(t,"radius");else{var i=f.readNamed(t,"rectangle");n=i.getCenter(!0),r=i.getSize(!0).divide(2)}return{center:n,radius:r}}}}}),x=m.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{crossOrigin:null,source:null},initialize:function(e,n){this._initialize(e,n!==t&&u.read(arguments,1))||("string"==typeof e?this.setSource(e):this.setImage(e)),this._size||(this._size=new l,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},clone:function(t){var e=new x(m.NO_INSERT),n=this._image,r=this._canvas;if(n)e.setImage(n);else if(r){var i=X.getCanvas(this._size);i.getContext("2d").drawImage(r,0,0),e.setImage(i)}return e._crossOrigin=this._crossOrigin,this._clone(e,t)},getSize:function(){var t=this._size;return new h(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=l.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this.setImage(X.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&X.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new u(0,0).transform(t),n=new u(1,0).transform(t).subtract(e),r=new u(0,1).transform(t).subtract(e);return new l(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){this._canvas&&X.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=t&&t.complete),this._size=new l(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=X.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){X.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(t){function e(){var t=r.getView();t&&(paper=t._scope,r.setImage(n),r.emit("load"),t.update())}var n,r=this,i=this._crossOrigin;n=document.getElementById(t)||new Image,i&&(n.crossOrigin=i),n.naturalWidth&&n.naturalHeight?setTimeout(e,0):(z.add(n,{load:e}),n.src||(n.src=t)),this.setImage(n)},getCrossOrigin:function(){return this._image&&this._image.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t,this._image&&(this._image.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=f.read(arguments),e=X.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=f.read(arguments),e=new x(m.NO_INSERT);return e.setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.preConcatenate(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image&&this._image.src;if(/^data:/.test(t))return t;var e=this.getCanvas();return e?e.toDataURL.apply(e,arguments):null},drawImage:function(t){var e=u.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var n,r;t?t instanceof O?(r=t,n=t.getBounds()):t.width?n=new f(t):t.x&&(n=new f(t.x-.5,t.y-.5,1,1)):n=this.getBounds();var i=32,o=Math.min(n.width,i),s=Math.min(n.height,i),a=x._sampleContext;a?a.clearRect(0,0,i+1,i+1):a=x._sampleContext=X.getContext(new l(i)),a.save();var u=(new p).scale(o/n.width,s/n.height).translate(-n.x,-n.y);u.applyToContext(a),r&&r.draw(a,new e({clip:!0,matrices:[u]})),this._matrix.applyToContext(a);var c=this.getElement(),h=this._size;c&&a.drawImage(c,-h.width/2,-h.height/2),a.restore();for(var d=a.getImageData(.5,.5,Math.ceil(o),Math.ceil(s)).data,g=[0,0,0],v=0,_=0,m=d.length;m>_;_+=4){var y=d[_+3];v+=y,y/=255,g[0]+=d[_]*y,g[1]+=d[_+1]*y,g[2]+=d[_+2]*y}for(var _=0;3>_;_++)g[_]/=v;return v?D.read(g):null},getPixel:function(){var t=u.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new D("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=u.read(arguments),e=D.read(arguments),n=e._convert("rgb"),r=e._alpha,i=this.getContext(!0),o=i.createImageData(1,1),s=o.data;s[0]=255*n[0],s[1]=255*n[1],s[2]=255*n[2],s[3]=null!=r?255*r:255,i.putImageData(o,t.x,t.y)},createImageData:function(){var t=l.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=f.read(arguments);return t.isEmpty()&&(t=new f(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=u.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var n=new f(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new S("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),$=m.extend({_class:"PlacedSymbol",_applyMatrix:!1,_canApplyMatrix:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,_serializeFields:{symbol:null},initialize:function(e,n){this._initialize(e,n!==t&&u.read(arguments,1))||this.setSymbol(e instanceof _?e:new _(e))},_equals:function(t){return this._symbol===t._symbol},getSymbol:function(){return this._symbol},setSymbol:function(t){this._symbol=t,this._changed(9)},clone:function(t){var e=new $(m.NO_INSERT);return e.setSymbol(this._symbol),this._clone(e,t)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(t,e,n){var r=this.symbol._definition;return r._getCachedBounds(t,e&&e.chain(r._matrix),n)},_hitTestSelf:function(t,e){var n=this._symbol._definition._hitTest(t,e);return n&&(n.item=this),n},_draw:function(t,e){this.symbol._definition.draw(t,e)}}),S=e.extend({_class:"HitResult",initialize:function(t,e,n){this.type=t,this.item=e,n&&(n.enumerable=!0,this.inject(n))},statics:{getOptions:function(t){return new e({type:null,tolerance:paper.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),C=e.extend({_class:"Segment",beans:!0,initialize:function(e,n,r,i,o,s){var a,u,c,l=arguments.length;0===l||(1===l?"point"in e?(a=e.point,u=e.handleIn,c=e.handleOut):a=e:2===l&&"number"==typeof e?a=arguments:3>=l?(a=e,u=n,c=r):(a=e!==t?[e,n]:null,u=r!==t?[r,i]:null,c=o!==t?[o,s]:null)),new E(a,this,"_point"),new E(u,this,"_handleIn"),new E(c,this,"_handleOut")},_serialize:function(t){return e.serialize(this.hasHandles()?[this._point,this._handleIn,this._handleOut]:this._point,t,!0)},_changed:function(t){var e=this._path;if(e){var n,r=e._curves,i=this._index;r&&(t&&t!==this._point&&t!==this._handleIn||!(n=i>0?r[i-1]:e._closed?r[r.length-1]:null)||n._changed(),t&&t!==this._point&&t!==this._handleOut||!(n=r[i])||n._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){var t=u.read(arguments);this._point.set(t.x,t.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){var t=u.read(arguments);this._handleIn.set(t.x,t.y)},getHandleOut:function(){return this._handleOut},setHandleOut:function(){var t=u.read(arguments);this._handleOut.set(t.x,t.y)},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){this._handleIn.set(0,0),this._handleOut.set(0,0)},_selectionState:0,isSelected:function(t){var e=this._selectionState;return t?t===this._point?!!(4&e):t===this._handleIn?!!(1&e):t===this._handleOut?!!(2&e):!1:!!(7&e)},setSelected:function(t,e){var n=this._path,t=!!t,r=this._selectionState,i=r,o=e?e===this._point?4:e===this._handleIn?1:e===this._handleOut?2:0:7;t?r|=o:r&=~o,this._selectionState=r,n&&r!==i&&(n._updateSelection(this,i,r),n._changed(129))},getIndex:function(){return this._index!==t?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new k(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return 0===this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,n=t._x,r=t._y;t.set(e._x,e._y),e.set(n,r)},reversed:function(){return new C(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new C(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},_transformCoordinates:function(t,e,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,s=r._x,a=r._y,u=2;return e[0]=s,e[1]=a,i&&(e[u++]=i._x+s,e[u++]=i._y+a),o&&(e[u++]=o._x+s,e[u++]=o._y+a),t&&(t._transformCoordinates(e,e,u/2),s=e[0],a=e[1],n?(r._x=s,r._y=a,u=2,i&&(i._x=e[u++]-s,i._y=e[u++]-a),o&&(o._x=e[u++]-s,o._y=e[u++]-a)):(i||(e[u++]=s,e[u++]=a),o||(e[u++]=s,e[u++]=a))),e}}),E=u.extend({initialize:function(e,n,r){var i,o,s;if(e)if((i=e[0])!==t)o=e[1];else{var a=e;(i=a.x)===t&&(a=u.read(arguments),i=a.x),o=a.y,s=a.selected}else i=o=0;this._x=i,this._y=o,this._owner=n,n[r]=this,s&&this.setSelected(!0)},set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},_serialize:function(t){var e=t.formatter,n=e.number(this._x),r=e.number(this._y);return this.isSelected()?{x:n,y:r,selected:!0}:[n,r]},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){return s.isZero(this._x)&&s.isZero(this._y)},setSelected:function(t){this._owner.setSelected(t,this)},isSelected:function(){return this._owner.isSelected(this)}}),A=e.extend({_class:"Curve",initialize:function(t,e,n,r,i,o,s,a){var u,c,l,h,f,d,p=arguments.length;3===p?(this._path=t,u=e,c=n):0===p?(u=new C,c=new C):1===p?"segment1"in t?(u=new C(t.segment1),c=new C(t.segment2)):"point1"in t?(l=t.point1,f=t.handle1,d=t.handle2,h=t.point2):Array.isArray(t)&&(l=[t[0],t[1]],h=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===p?(u=new C(t),c=new C(e)):4===p?(l=t,f=e,d=n,h=r):8===p&&(l=[t,e],h=[s,a],f=[n-t,r-e],d=[i-s,o-a]),this._segment1=u||new C(l,null,f),this._segment2=c||new C(h,d,null)},_serialize:function(t){return e.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0)},_changed:function(){this._length=this._bounds=t},clone:function(){return new A(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},remove:function(){var t=!1;if(this._path){var e=this._segment2,n=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(n.x,n.y)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){var t=u.read(arguments);this._segment1._point.set(t.x,t.y)},getPoint2:function(){return this._segment2._point},setPoint2:function(){var t=u.read(arguments);this._segment2._point.set(t.x,t.y)},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){var t=u.read(arguments);this._segment1._handleOut.set(t.x,t.y)},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var t=u.read(arguments);this._segment2._handleIn.set(t.x,t.y)},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return 0===this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return A.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],n=0;8>n;n+=2)e.push(new u(t[n],t[n+1]));return e},getLength:function(){return null==this._length&&(this._length=A.getLength(this.getValues(),0,1)),this._length},getArea:function(){return A.getArea(this.getValues())},getLine:function(){return new g(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new A(A.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return A.getLength(this.getValues(),t,e)},getIntersections:function(t){return A._getIntersections(this.getValues(),t&&t!==this?t.getValues():null,this,t,[],{})},_getParameter:function(e,n){return n?e:e&&e.curve===this?e.parameter:e===t&&n===t?.5:this.getParameterAt(e,0)},divide:function(t,e,n){var r=this._getParameter(t,e),i=4e-7,o=1-i,s=null;if(r>=i&&o>=r){var a=A.subdivide(this.getValues(),r),c=a[0],l=a[1],h=n||this.hasHandles(),f=this._segment1,d=this._segment2,p=this._path;h&&(f._handleOut.set(c[2]-c[0],c[3]-c[1]),d._handleIn.set(l[4]-l[6],l[5]-l[7]));var g=c[6],v=c[7],_=new C(new u(g,v),h&&new u(c[4]-g,c[5]-v),h&&new u(l[2]-g,l[3]-v));p?(p.insert(f._index+1,_),s=this.getNext()):(this._segment2=_,s=new A(_,d))}return s},split:function(t,e){return this._path?this._path.split(this._segment1._index,this._getParameter(t,e)):null},reversed:function(){return new A(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut.set(0,0),this._segment2._handleIn.set(0,0)},statics:{getValues:function(t,e,n){var r=t._point,i=t._handleOut,o=e._handleIn,s=e._point,a=[r._x,r._y,r._x+i._x,r._y+i._y,s._x+o._x,s._y+o._y,s._x,s._y];return n&&n._transformCoordinates(a,a,4),a},subdivide:function(e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],u=e[5],c=e[6],l=e[7];n===t&&(n=.5);var h=1-n,f=h*r+n*o,d=h*i+n*s,p=h*o+n*a,g=h*s+n*u,v=h*a+n*c,_=h*u+n*l,m=h*f+n*p,y=h*d+n*g,w=h*p+n*v,b=h*g+n*_,x=h*m+n*w,$=h*y+n*b;return[[r,i,f,d,m,y,x,$],[x,$,w,b,v,_,c,l]]},solveCubic:function(t,e,n,r,i,o){var a=t[e],u=t[e+2],c=t[e+4],l=t[e+6],h=3*(u-a),f=3*(c-u)-h,d=l-a-h-f;return s.solveCubic(d,f,h,a-n,r,i,o)},getParameterOf:function(t,e){var n=new u(t[0],t[1]),r=new u(t[6],t[7]),i=1e-12,o=e.isClose(n,i)?0:e.isClose(r,i)?1:null;if(null!==o)return o;for(var s=[e.x,e.y],a=[],c=2e-7,l=0;2>l;l++)for(var h=A.solveCubic(t,l,s[l],a,0,1),f=0;h>f;f++)if(o=a[f],e.isClose(A.getPoint(t,o),c))return o;return e.isClose(n,c)?0:e.isClose(r,c)?1:null},getNearestParameter:function(t,e){function n(n){if(n>=0&&1>=n){var r=e.getDistance(A.getPoint(t,n),!0);if(d>r)return d=r,p=n,!0}}if(A.isStraight(t)){var r=t[0],i=t[1],o=t[6],s=t[7],a=o-r,c=s-i,l=a*a+c*c;if(0===l)return 0;var h=((e.x-r)*a+(e.y-i)*c)/l;return 1e-12>h?0:h>.999999999999?1:A.getParameterOf(t,new u(r+h*a,i+h*c))}for(var f=100,d=1/0,p=0,g=0;f>=g;g++)n(g/f);for(var v=1/(2*f);v>4e-7;)n(p-v)||n(p+v)||(v/=2);return p},getPart:function(t,e,n){var r=e>n;if(r){var i=e;e=n,n=i}return e>0&&(t=A.subdivide(t,e)[1]),1>n&&(t=A.subdivide(t,(n-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},hasHandles:function(t){var e=s.isZero;return!(e(t[0]-t[2])&&e(t[1]-t[3])&&e(t[4]-t[6])&&e(t[5]-t[7]))},isFlatEnough:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=3*i-2*n-u,h=3*o-2*r-c,f=3*s-2*u-n,d=3*a-2*c-r;return Math.max(l*l,f*f)+Math.max(h*h,d*d)<10*e*e},getArea:function(t){var e=t[0],n=t[1],r=t[6],i=t[7],o=(t[2]+e)/2,s=(t[3]+n)/2,a=(t[4]+t[6])/2,u=(t[5]+t[7])/2;return 6*((e-o)*(s+n)+(o-a)*(u+s)+(a-r)*(i+u))/10},getBounds:function(t){for(var e=t.slice(0,2),n=e.slice(),r=[0,0],i=0;2>i;i++)A._addBounds(t[i],t[i+2],t[i+4],t[i+6],i,0,e,n,r);return new f(e[0],e[1],n[0]-e[0],n[1]-e[1])},_addBounds:function(t,e,n,r,i,o,a,u,c){function l(t,e){var n=t-e,r=t+e;n<a[i]&&(a[i]=n),r>u[i]&&(u[i]=r)}var h=3*(e-n)-t+r,f=2*(t+n)-4*e,d=e-t,p=s.solveQuadratic(h,f,d,c),g=4e-7,v=1-g;l(r,0);for(var _=0;p>_;_++){var m=c[_],y=1-m;m>g&&v>m&&l(y*y*y*t+3*y*y*m*e+3*y*m*m*n+m*m*m*r,o)}}}},e.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];if(!e){var n=this._path;e=this._bounds[t]=T[t]([this._segment1,this._segment2],!1,n&&n.getStyle())}return e.clone()}},{}),e.each({isStraight:function(t,e,n){if(e.isZero()&&n.isZero())return!0;if(t.isZero())return!1;if(e.isCollinear(t)&&n.isCollinear(t)){var r=t.dot(t),i=t.dot(e)/r,o=t.dot(n)/r;return i>=0&&1>=i&&0>=o&&o>=-1}return!1},isLinear:function(t,e,n){var r=t.divide(3);return e.equals(r)&&n.negate().equals(r)}},function(t,e){this[e]=function(){var e=this._segment1,n=this._segment2;return t(n._point.subtract(e._point),e._handleOut,n._handleIn)},this.statics[e]=function(e){var n=e[0],r=e[1],i=e[6],o=e[7];return t(new u(i-n,o-r),new u(e[2]-n,e[3]-r),new u(e[4]-i,e[5]-o))}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).y)<1e-7},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAt(.5,!0).x)<1e-7}}),{beans:!1,getParameterAt:function(t,e){return A.getParameterAt(this.getValues(),t,e)},getParameterOf:function(){return A.getParameterOf(this.getValues(),u.read(arguments))},getLocationAt:function(t,e){var n=e?t:this.getParameterAt(t);return null!=n&&n>=0&&1>=n?new k(this,n):null},getLocationOf:function(){return this.getLocationAt(this.getParameterOf(u.read(arguments)),!0)},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getNearestLocation:function(){var t=u.read(arguments),e=this.getValues(),n=A.getNearestParameter(e,t),r=A.getPoint(e,n);return new k(this,n,r,null,t.getDistance(r))},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return e.each(t,function(t){this[t+"At"]=function(e,n){var r=this.getValues();return A[t](r,n?e:A.getParameterAt(r,e,0))}},{statics:{evaluateMethods:t}})},new function(){function e(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],c=9*(r-o)+3*(a-e),l=6*(e+o)-12*r,h=3*(r-e),f=9*(i-s)+3*(u-n),d=6*(n+s)-12*i,p=3*(i-n);return function(t){var e=(c*t+l)*t+h,n=(f*t+d)*t+p;return Math.sqrt(e*e+n*n)}}function n(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function r(t,e,n,r){if(null==e||0>e||e>1)return null;var i,o,s=t[0],a=t[1],c=t[2],l=t[3],h=t[4],f=t[5],d=t[6],p=t[7],g=4e-7,v=1-g;if(0===n&&(g>e||e>v)){var _=g>e;i=_?s:d,o=_?a:p}else{var m=3*(c-s),y=3*(h-c)-m,w=d-s-m-y,b=3*(l-a),x=3*(f-l)-b,$=p-a-b-x;if(0===n)i=((w*e+y)*e+m)*e+s,o=(($*e+x)*e+b)*e+a;else{if(g>e?(i=m,o=b):e>v?(i=3*(d-h),o=3*(p-f)):(i=(3*w*e+2*y)*e+m,o=(3*$*e+2*x)*e+b),r){0===i&&0===o&&(g>e||e>v)&&(i=h-c,o=f-l);var S=Math.sqrt(i*i+o*o);S&&(i/=S,o/=S)}if(3===n){var C=6*w*e+2*y,E=6*$*e+2*x,A=Math.pow(i*i+o*o,1.5);i=0!==A?(i*E-o*C)/A:0,o=0}}}return 2===n?new u(o,-i):new u(i,o)}return{statics:{getLength:function(r,i,o){if(i===t&&(i=0),o===t&&(o=1),0===i&&1===o&&A.isStraight(r)){var a=r[6]-r[0],u=r[7]-r[1];return Math.sqrt(a*a+u*u)}var c=e(r);return s.integrate(c,i,o,n(i,o))},getParameterAt:function(r,i,o){function a(t){return g+=s.integrate(f,o,t,n(o,t)),o=t,g-i}if(o===t&&(o=0>i?1:0),0===i)return o;var u=Math.abs,c=i>0,l=c?o:0,h=c?1:o,f=e(r),d=s.integrate(f,l,h,n(l,h));if(u(i-d)<1e-12)return c?h:l;if(u(i)>d)return null;var p=i/d,g=0;return s.findRoot(a,f,o+p,l,h,32,1e-12)},getPoint:function(t,e){return r(t,e,0,!1)},getTangent:function(t,e){return r(t,e,1,!0)},getWeightedTangent:function(t,e){return r(t,e,1,!1)},getNormal:function(t,e){return r(t,e,2,!0)},getWeightedNormal:function(t,e){return r(t,e,2,!1)},getCurvature:function(t,e){return r(t,e,3,!1).x}}}},new function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=e.startConnected,f=e.endConnected,d=4e-7,p=1-d;if(null==i&&(i=A.getParameterOf(n,o)),null!==i&&i>=(h?d:0)&&(f?p:1)>=i&&(null==u&&(u=A.getParameterOf(s,c)),null!==u&&u>=(f?d:0)&&(h?p:1)>=u)){var g=e.renormalize;if(g){var v=g(i,u);i=v[0],u=v[1]}var _=new k(r,i,o||A.getPoint(n,i),l),m=new k(a,u,c||A.getPoint(s,u),l),y=_.getPath()===m.getPath()&&_.getIndex()>m.getIndex(),w=y?m:_,b=e.include;_._intersection=m,m._intersection=_,(!b||b(w))&&k.insert(t,w,!0)}}function e(i,o,s,a,u,c,l,h,f,d,p,v,_){if(!(++_>=24)){var m,y,w=o[0],b=o[1],x=o[6],$=o[7],S=g.getSignedDistance,C=S(w,b,x,$,o[2],o[3]),E=S(w,b,x,$,o[4],o[5]),k=C*E>0?.75:4/9,O=k*Math.min(0,C,E),T=k*Math.max(0,C,E),P=S(w,b,x,$,i[0],i[1]),M=S(w,b,x,$,i[2],i[3]),I=S(w,b,x,$,i[4],i[5]),j=S(w,b,x,$,i[6],i[7]),R=n(P,M,I,j),D=R[0],B=R[1];if(null!=(m=r(D,B,O,T))&&null!=(y=r(D.reverse(),B.reverse(),O,T))){i=A.getPart(i,m,y);var N=y-m,L=l+(h-l)*m,U=l+(h-l)*y;if(p>.5&&N>.5)if(U-L>d-f){var z=A.subdivide(i,.5),F=L+(U-L)/2;e(o,z[0],a,s,u,c,f,d,L,F,N,!v,_),e(o,z[1],a,s,u,c,f,d,F,U,N,!v,_)}else{var z=A.subdivide(o,.5),F=f+(d-f)/2;e(z[0],i,a,s,u,c,f,F,L,U,N,!v,_),e(z[1],i,a,s,u,c,F,d,L,U,N,!v,_)}else if(Math.max(d-f,U-L)<1e-7){var H=L+(U-L)/2,q=f+(d-f)/2;i=s.getValues(),o=a.getValues(),t(u,c,v?o:i,v?a:s,v?q:H,null,v?i:o,v?s:a,v?H:q,null)}else N>1e-12&&e(o,i,a,s,u,c,f,d,L,U,N,!v,_)}}}function n(t,e,n,r){var i,o=[0,t],s=[1/3,e],a=[2/3,n],u=[1,r],c=e-(2*t+r)/3,l=n-(t+2*r)/3;if(0>c*l)i=[[o,s,u],[o,a,u]];else{var h=c/l;i=[h>=2?[o,s,u]:.5>=h?[o,a,u]:[o,s,a,u],[o,u]]}return 0>(c||l)?i.reverse():i}function r(t,e,n,r){return t[0][1]<n?i(t,!0,n):e[0][1]>r?i(e,!1,r):t[0][0]}function i(t,e,n){for(var r=t[0][0],i=t[0][1],o=1,s=t.length;s>o;o++){var a=t[o][0],u=t[o][1];if(e?u>=n:n>=u)return u===n?a:r+(n-i)*(a-r)/(u-i);r=a,i=u}return null}function o(e,n,r,i,o,a){for(var u=A.isStraight(e),c=u?n:e,l=u?e:n,h=l[0],f=l[1],d=l[6],p=l[7],g=d-h,v=p-f,_=Math.atan2(-v,g),m=Math.sin(_),y=Math.cos(_),w=[],b=0;8>b;b+=2){var x=c[b]-h,$=c[b+1]-f;w.push(x*y-$*m,x*m+$*y)}for(var S=[],C=A.solveCubic(w,1,0,S,0,1),b=0;C>b;b++){var E=S[b],k=A.getPoint(c,E),O=A.getParameterOf(l,k);if(null!==O){var T=A.getPoint(l,O),P=u?O:E,M=u?E:O;(!a.endConnected||M>s.CURVETIME_EPSILON)&&t(o,a,e,r,P,u?T:k,n,i,M,u?k:T)}}}function a(e,n,r,i,o,s){var a=g.intersect(e[0],e[1],e[6],e[7],n[0],n[1],n[6],n[7]);a&&t(o,s,e,r,null,a,n,i,null,a)}return{statics:{_getIntersections:function(n,r,i,s,c,l){if(!r)return A._getSelfIntersection(n,i,c,l);var h=n[0],f=n[1],d=n[6],p=n[7],g=r[0],v=r[1],_=r[6],m=r[7],y=(3*n[2]+h)/4,w=(3*n[3]+f)/4,b=(3*n[4]+d)/4,x=(3*n[5]+p)/4,$=(3*r[2]+g)/4,S=(3*r[3]+v)/4,C=(3*r[4]+_)/4,E=(3*r[5]+m)/4,k=Math.min,O=Math.max;if(!(O(h,y,b,d)>=k(g,$,C,_)&&k(h,y,b,d)<=O(g,$,C,_)&&O(f,w,x,p)>=k(v,S,E,m)&&k(f,w,x,p)<=O(v,S,E,m)))return c;if(!l.startConnected&&!l.endConnected){var T=A.getOverlaps(n,r);if(T){for(var P=0;2>P;P++){var M=T[P];t(c,l,n,i,M[0],null,r,s,M[1],null,!0)}return c}}var I=A.isStraight(n),j=A.isStraight(r),R=I&&j,D=1e-12,B=c.length;if((R?a:I||j?o:e)(n,r,i,s,c,l,0,1,0,1,0,!1,0),R&&c.length>B)return c;var N=new u(h,f),L=new u(d,p),U=new u(g,v),z=new u(_,m);return N.isClose(U,D)&&t(c,l,n,i,0,N,r,s,0,U),!l.startConnected&&N.isClose(z,D)&&t(c,l,n,i,0,N,r,s,1,z),!l.endConnected&&L.isClose(U,D)&&t(c,l,n,i,1,L,r,s,0,U),L.isClose(z,D)&&t(c,l,n,i,1,L,r,s,1,z),c},_getSelfIntersection:function(t,e,n,r){var i=t[0],o=t[1],a=t[2],c=t[3],l=t[4],h=t[5],f=t[6],d=t[7],p=new g(i,o,f,d,!1),v=p.getSide(new u(a,c),!0),_=p.getSide(new u(l,h),!0);if(v===_){var m=(i-l)*(c-d)+(a-f)*(h-o);if(m*v>0)return n}var y=f-3*l+3*a-i,w=l-2*a+i,b=a-i,x=d-3*h+3*c-o,$=h-2*c+o,S=c-o,C=x*b-y*S,E=x*w-y*$,k=$*b-w*S;if(0>C*C-4*E*k){var O,T=[],P=s.solveCubic(y*y+x*x,3*(y*w+x*$),2*(w*w+$*$)+y*b+x*S,w*b+$*S,T,0,1);if(P>0){for(var M=0,I=0;P>M;M++){var j=Math.abs(e.getCurvatureAt(T[M],!0));j>I&&(I=j,O=T[M])}var R=A.subdivide(t,O);r.endConnected=!0,r.renormalize=function(t,e){return[t*O,e*(1-O)+O]},A._getIntersections(R[0],R[1],e,e,n,r)}}return n},getOverlaps:function(t,e){function n(t){var e=t[6]-t[0],n=t[7]-t[1];return e*e+n*n}var r=Math.abs,i=4e-7,o=2e-7,s=A.isStraight(t),a=A.isStraight(e),c=s&&a;if(c){var l=n(t)<n(e),h=l?e:t,f=l?t:e,d=new g(h[0],h[1],h[6],h[7]);if(d.getDistance(new u(f[0],f[1]))>o||d.getDistance(new u(f[6],f[7]))>o)return null}else if(s^a)return null;for(var p=[t,e],v=[],_=0,m=0;2>_&&v.length<2;_+=0===m?0:1,m=1^m){var y=A.getParameterOf(p[1^_],new u(p[_][0===m?0:6],p[_][0===m?1:7]));if(null!=y){var w=0===_?[m,y]:[y,m];(0===v.length||r(w[0]-v[0][0])>i&&r(w[1]-v[0][1])>i)&&v.push(w)}if(1===_&&0===v.length)break}if(2!==v.length)v=null;else if(!c){var b=A.getPart(t,v[0][0],v[1][0]),x=A.getPart(e,v[0][1],v[1][1]);(r(x[2]-b[2])>o||r(x[3]-b[3])>o||r(x[4]-b[4])>o||r(x[5]-b[5])>o)&&(v=null)}return v}}}}),k=e.extend({_class:"CurveLocation",beans:!0,initialize:function gt(t,e,n,r,i){if(e>.9999996){var o=t.getNext();o&&(e=0,t=o)}this._id=a.get(gt),this._setCurve(t),this._parameter=e,this._point=n||t.getPointAt(e,!0),this._overlap=r,this._distance=i,this._intersection=this._next=this._prev=null},_setCurve:function(t){var e=t._path;
this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._parameter=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this.getCurve(),e=this._segment;if(!e){var n=this.getParameter();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){function t(t){var e=t&&t.getCurve();return e&&null!=(r._parameter=e.getParameterOf(r._point))?(r._setCurve(e),r._segment=t,e):void 0}var e=this._curve,n=e&&e._path,r=this;return n&&n._version!==this._version&&(e=this._parameter=this._curve=this._offset=null),e||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getParameter:function(){var t=this.getCurve(),e=this._parameter;return t&&null==e?this._parameter=t.getParameterOf(this._point):e},getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),n=this.getIndex();if(e&&null!=n)for(var r=e.getCurves(),i=0;n>i;i++)t+=r[i].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this.getCurve(),e=this.getParameter();return null!=e&&t&&t.getPartLength(0,e)},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=null;return t&&(e=t.divide(this.getParameter(),!0),e&&this._setSegment(e._segment1)),e},split:function(){var t=this.getCurve();return t?t.split(this.getParameter(),!0):null},equals:function(t,e){var n=this===t,r=2e-7;if(!n&&t instanceof k&&this.getPath()===t.getPath()&&this.getPoint().isClose(t.getPoint(),r)){var i=this.getCurve(),o=t.getCurve(),s=Math.abs,a=s((i.isLast()&&o.isFirst()?-1:i.getIndex())+this.getParameter()-((o.isLast()&&i.isFirst()?-1:o.getIndex())+t.getParameter()));n=(4e-7>a||(a=s(this.getOffset()-t.getOffset()))<r||s(this.getPath().getLength()-a)<r)&&(e||!this._intersection&&!t._intersection||this._intersection&&this._intersection.equals(t._intersection,!0))}return n},toString:function(){var t=[],e=this.getPoint(),n=o.instance;e&&t.push("point: "+e);var r=this.getIndex();null!=r&&t.push("index: "+r);var i=this.getParameter();return null!=i&&t.push("parameter: "+n.number(i)),null!=this._distance&&t.push("distance: "+n.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),n=t.getCurve();return!(e.isStraight()&&n.isStraight()&&e.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){function t(t,e,n){return n>e?t>e&&n>t:t>e&&l>=t||t>=-l&&n>t}var e=this._intersection;if(!e)return!1;var n=this.getParameter(),r=e.getParameter(),i=4e-7,o=1-i;if(n>=i&&o>=n||r>=i&&o>=r)return!this.isTouching();var s=this.getCurve(),a=s.getPrevious(),u=e.getCurve(),c=u.getPrevious(),l=Math.PI;if(!a||!c)return!1;var h=a.getTangentAt(o,!0).negate().getAngleInRadians(),f=s.getTangentAt(i,!0).getAngleInRadians(),d=c.getTangentAt(o,!0).negate().getAngleInRadians(),p=u.getTangentAt(i,!0).getAngleInRadians();return t(d,h,f)^t(p,h,f)&&t(d,f,h)^t(p,f,h)},isOverlap:function(){return!!this._overlap}},e.each(A.evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getParameter(),n=this.getCurve();return null!=t&&n&&n[e](t,!0)}},{preserve:!0}),new function(){function t(t,e,n){function r(n,r){for(var o=n+r;o>=-1&&i>=o;o+=r){var s=t[(o%i+i)%i];if(!e.getPoint().isClose(s.getPoint(),2e-7))break;if(e.equals(s))return s}return null}for(var i=t.length,o=0,s=i-1;s>=o;){var a,u=o+s>>>1,c=t[u];if(n&&(a=e.equals(c)?c:r(u,-1)||r(u,1)))return e._overlap&&(a._overlap=a._intersection._overlap=!0),a;var l=e.getPath(),h=c.getPath(),f=l===h?e.getIndex()+e.getParameter()-(c.getIndex()+c.getParameter()):l._id-h._id;0>f?s=u-1:o=u+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var n=e.slice(),r=0,i=e.length;i>r;r++)t(n,e[r]._intersection,!1);return n}}}}),O=m.extend({_class:"PathItem",initialize:function(){},getIntersections:function(t,e,n,r){var i=this===t||!t,o=this._matrix.orNullIfIdentity(),s=i?o:(n||t._matrix).orNullIfIdentity();if(!i&&!this.getBounds(o).touches(t.getBounds(s)))return[];for(var a,t,u=this.getCurves(),c=i?u:t.getCurves(),l=u.length,h=i?l:c.length,f=[],d=[],p=0;h>p;p++)f[p]=c[p].getValues(s);for(var p=0;l>p;p++){var g=u[p],v=i?f[p]:g.getValues(o),_=g.getPath();_!==t&&(t=_,a=[],d.push(a)),i&&A._getSelfIntersection(v,g,a,{include:e,startConnected:1===l&&g.getPoint1().equals(g.getPoint2())});for(var m=i?p+1:0;h>m;m++){if(r&&a.length)return a;var y=c[m];A._getIntersections(v,f[m],g,y,a,{include:e,startConnected:i&&g.getPrevious()===y,endConnected:i&&g.getNext()===y})}}a=[];for(var p=0,w=d.length;w>p;p++)a.push.apply(a,d[p]);return a},getCrossings:function(t){return this.getIntersections(t,function(t){return t.isCrossing()})},_asPathItem:function(){return this},setPathData:function(t){function e(t,e){var n=+r[t];return a&&(n+=c[e]),n}function n(t){return new u(e(t,"x"),e(t+1,"y"))}var r,i,o,s=t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,c=new u,h=new u;this.clear();for(var f=0,d=s&&s.length;d>f;f++){var p=s[f],g=p[0],v=g.toLowerCase();r=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var _=r&&r.length;switch(a=g===v,"z"!==i||/[mz]/.test(v)||this.moveTo(c=h),v){case"m":case"l":for(var m="m"===v,y=0;_>y;y+=2)this[0===y&&m?"moveTo":"lineTo"](c=n(y));o=c,m&&(h=c);break;case"h":case"v":for(var w="h"===v?"x":"y",y=0;_>y;y++)c[w]=e(y,w),this.lineTo(c);o=c;break;case"c":for(var y=0;_>y;y+=6)this.cubicCurveTo(n(y),o=n(y+2),c=n(y+4));break;case"s":for(var y=0;_>y;y+=4)this.cubicCurveTo(/[cs]/.test(i)?c.multiply(2).subtract(o):c,o=n(y),c=n(y+2)),i=v;break;case"q":for(var y=0;_>y;y+=4)this.quadraticCurveTo(o=n(y),c=n(y+2));break;case"t":for(var y=0;_>y;y+=2)this.quadraticCurveTo(o=/[qt]/.test(i)?c.multiply(2).subtract(o):c,c=n(y)),i=v;break;case"a":for(var y=0;_>y;y+=7)this.arcTo(c=n(y+5),new l(+r[y],+r[y+1]),+r[y+2],+r[y+4],+r[y+3]);break;case"z":this.closePath(!0)}i=v}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=this._getWinding(t,!1,!0);return!!("evenodd"===this.getWindingRule()?1&e:e)}}),T=O.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var n=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==t||e.x===t&&e.point===t?null:arguments;n&&n.length>0?this.setSegments(n):(this._curves=t,this._selectedSegmentState=0,n||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!n&&e)},_equals:function(t){return this._closed===t._closed&&e.equals(this._segments,t._segments)},clone:function(e){var n=new T(m.NO_INSERT);return n.setSegments(this._segments),n._closed=this._closed,this._clockwise!==t&&(n._clockwise=this._clockwise),this._clone(n,e)},_changed:function vt(e){if(vt.base.call(this,e),8&e){var n=this._parent;if(n&&(n._currentPath=t),this._length=this._area=this._clockwise=this._monoCurves=t,16&e)this._version++;else if(this._curves)for(var r=0,i=this._curves.length;i>r;r++)this._curves[r]._changed()}else 32&e&&(this._bounds=t)},getStyle:function(){var t=this._parent;return(t instanceof P?t:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var n=this.isFullySelected();this._segments.length=0,this._selectedSegmentState=0,this._curves=t,e&&e.length>0&&this._add(C.readAll(e)),n&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var n=this._countCurves();t=this._curves=new Array(n);for(var r=0;n>r;r++)t[r]=new A(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new A(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function n(e,n){e._transformCoordinates(t,g,!1),r=g[0],i=g[1],v?(_.push("M"+p.pair(r,i)),v=!1):(u=g[2],c=g[3],u===r&&c===i&&l===s&&h===a?n||_.push("l"+p.pair(r-s,i-a)):_.push("c"+p.pair(l-s,h-a)+" "+p.pair(u-s,c-a)+" "+p.pair(r-s,i-a))),s=r,a=i,l=g[4],h=g[5]}var r,i,s,a,u,c,l,h,f=this._segments,d=f.length,p=new o(e),g=new Array(6),v=!0,_=[];if(0===d)return"";for(var m=0;d>m;m++)n(f[m]);return this._closed&&d>0&&(n(f[0],!0),_.push("z")),_.join("")}},{isEmpty:function(){return 0===this._segments.length},_transformContent:function(t){for(var e=new Array(6),n=0,r=this._segments.length;r>n;n++)this._segments[n]._transformCoordinates(t,e,!0);return!0},_add:function(t,e){for(var n=this._segments,r=this._curves,i=t.length,o=null==e,e=o?n.length:e,s=0;i>s;s++){var a=t[s];a._path&&(a=t[s]=a.clone()),a._path=this,a._index=e+s,a._selectionState&&this._updateSelection(a,0,a._selectionState)}if(o)n.push.apply(n,t);else{n.splice.apply(n,[e,0].concat(t));for(var s=e+i,u=n.length;u>s;s++)n[s]._index=s}if(r){var c=this._countCurves(),l=e+i-1===c?e-1:e,h=l,f=Math.min(l+i,c);t._curves&&(r.splice.apply(r,[l,0].concat(t._curves)),h+=t._curves.length);for(var s=h;f>s;s++)r.splice(s,0,new A(this,null,null));this._adjustCurves(l,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var n,r=this._segments,i=this._curves,o=t;e>o;o++)n=i[o],n._path=this,n._segment1=r[o],n._segment2=r[o+1]||r[0],n._changed();(n=i[this._closed&&0===t?r.length-1:t-1])&&(n._segment2=r[t]||r[0],n._changed()),(n=i[e])&&(n._segment1=r[e],n._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(C.readAll(arguments)):this._add([C.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(C.readAll(arguments,1),t):this._add([C.read(arguments,1)],t)[0]},addSegment:function(){return this._add([C.read(arguments)])[0]},insertSegment:function(t){return this._add([C.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(C.readAll(t))},insertSegments:function(t,e){return this._add(C.readAll(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,n,r){t=t||0,n=e.pick(n,this._segments.length);var i=this._segments,o=this._curves,s=i.length,a=i.splice(t,n-t),u=a.length;if(!u)return a;for(var c=0;u>c;c++){var l=a[c];l._selectionState&&this._updateSelection(l,l._selectionState,0),l._index=l._path=null}for(var c=t,h=i.length;h>c;c++)i[c]._index=c;if(o){var f=t>0&&n===s+(this._closed?1:0)?t-1:t,o=o.splice(f,u);r&&(a._curves=o.slice(1)),this._adjustCurves(f,f)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,n=t.length;n>e;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,n=t.length;n>e;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,n=0,r=t.length;r>n;n++)e+=t[n].getLength();this._length=e}return this._length},getArea:function(){if(null==this._area){for(var t=this._segments,e=t.length,n=e-1,r=0,i=0,o=this._closed?e:n;o>i;i++)r+=A.getArea(A.getValues(t[i],t[n>i?i+1:0]));this._area=r}return this._area},isClockwise:function(){return this._clockwise!==t?this._clockwise:this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse(),this._clockwise=t},isFullySelected:function(){var t=this._segments.length;return this._selected&&t>0&&this._selectedSegmentState===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelected:function _t(t){t||this._selectSegments(!1),_t.base.call(this,t)},_selectSegments:function(t){var e=this._segments.length;this._selectedSegmentState=t?7*e:0;for(var n=0;e>n;n++)this._segments[n]._selectionState=t?7:0},_updateSelection:function(t,e,n){t._selectionState=n;var r=this._selectedSegmentState+=n-e;r>0&&this.setSelected(!0)},flatten:function(t){for(var e=new M(this,64,.1),n=0,r=e.length/Math.ceil(e.length/t),i=e.length+(this._closed?-r:r)/2,o=[];i>=n;)o.push(new C(e.getPointAt(n))),n+=r;this.setSegments(o)},reduce:function(){for(var t=this.getCurves(),e=t.length-1;e>=0;e--){var n=t[e];n.hasHandles()||0!==n.getLength()&&!n.isCollinear(n.getNext())||n.remove()}return this},simplify:function(t){if(this._segments.length>2){var e=new I(this,t||2.5);this.setSegments(e.fit())}},split:function(t,e){if(null===e)return null;if(1===arguments.length){var n=t;if("number"==typeof n&&(n=this.getLocationAt(n)),!n)return null;t=n.index,e=n.parameter}var r=4e-7,i=1-r;e>=i&&(t++,e--);var o=this.getCurves();if(t>=0&&t<o.length){e>=r&&o[t++].divide(e,!0);var s,a=this.removeSegments(t,this._segments.length,!0);return this._closed?(this.setClosed(!1),s=this):(s=new T(m.NO_INSERT),s.insertAbove(this,!0),this._clone(s)),s._add(a,0),this.addSegment(a[0]),s}return null},reverse:function(){this._segments.reverse();for(var e=0,n=this._segments.length;n>e;e++){var r=this._segments[e],i=r._handleIn;r._handleIn=r._handleOut,r._handleOut=i,r._index=e}this._curves=null,this._clockwise!==t&&(this._clockwise=!this._clockwise),this._changed(9)},join:function(t){if(t){var e=t._segments,n=this.getLastSegment(),r=t.getLastSegment();if(!r)return this;n&&n._point.equals(r._point)&&t.reverse();var i=t.getFirstSegment();if(n&&n._point.equals(i._point))n.setHandleOut(i._handleOut),this._add(e.slice(1));else{var o=this.getFirstSegment();o&&o._point.equals(i._point)&&t.reverse(),r=t.getLastSegment(),o&&o._point.equals(r._point)?(o.setHandleIn(r._handleIn),this._add(e.slice(0,e.length-1),0)):this._add(e.slice())}t._closed&&this._add([e[0]]),t.remove()}var s=this.getFirstSegment(),a=this.getLastSegment();return s!==a&&s._point.equals(a._point)&&(s.setHandleIn(a._handleIn),a.remove(),this.setClosed(!0)),this},toShape:function(t){function e(t,e){var n=h[t],r=n.getNext(),i=h[e],o=i.getNext();return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&o._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(o._point.subtract(i._point))}function n(t){var e=h[t],n=e.getPrevious(),r=e.getNext();return n._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&r._handleIn.isZero()&&e._point.subtract(n._point).isOrthogonal(r._point.subtract(e._point))}function r(t){var e=h[t],n=e.getNext(),r=e._handleOut,i=n._handleIn,o=.5522847498307936;if(r.isOrthogonal(i)){var a=e._point,u=n._point,c=new g(a,r,!0).intersect(new g(u,i,!0),!0);return c&&s.isZero(r.getLength()/c.subtract(a).getLength()-o)&&s.isZero(i.getLength()/c.subtract(u).getLength()-o)}return!1}function i(t,e){return h[t]._point.getDistance(h[e]._point)}if(!this._closed)return null;var o,a,u,c,h=this._segments;if(!this.hasHandles()&&4===h.length&&e(0,2)&&e(1,3)&&n(1)?(o=b.Rectangle,a=new l(i(0,3),i(0,1)),c=h[1]._point.add(h[2]._point).divide(2)):8===h.length&&r(0)&&r(2)&&r(4)&&r(6)&&e(1,5)&&e(3,7)?(o=b.Rectangle,a=new l(i(1,6),i(0,3)),u=a.subtract(new l(i(0,7),i(1,2))).divide(2),c=h[3]._point.add(h[4]._point).divide(2)):4===h.length&&r(0)&&r(1)&&r(2)&&r(3)&&(s.isZero(i(0,2)-i(1,3))?(o=b.Circle,u=i(0,2)/2):(o=b.Ellipse,u=new l(i(2,0)/2,i(3,1)/2)),c=h[1]._point),o){var f=this.getPosition(!0),d=this._clone(new o({center:f,size:a,radius:u,insert:!1}),t,!1);return d.rotate(c.subtract(f).getAngle()+90),d}return null},_hitTestSelf:function(t,e){function n(e,n){return t.subtract(e).divide(n).length<=1}function r(t,r,i){if(!e.selected||r.isSelected()){var o=t._point;if(r!==o&&(r=r.add(o)),n(r,w))return new S(i,p,{segment:t,point:r})}}function i(t,n){return(n||e.segments)&&r(t,t._point,"segment")||!n&&e.handles&&(r(t,t._handleIn,"handle-in")||r(t,t._handleOut,"handle-out"))}function o(t){h.add(t)}function s(e){if(("round"!==a||"round"!==c)&&(h=new T({internal:!0,closed:!0}),m||e._index>0&&e._index<_-1?"round"!==a&&(e._handleIn.isZero()||e._handleOut.isZero())&&T._addBevelJoin(e,a,C,l,o,!0):"round"!==c&&T._addSquareCap(e,c,C,o,!0),!h.isEmpty())){var r;return h.contains(t)||(r=h.getNearestLocation(t))&&n(r.getPoint(),y)}return n(e._point,w)}var a,c,l,h,f,d,p=this,g=this.getStyle(),v=this._segments,_=v.length,m=this._closed,y=e._tolerancePadding,w=y,b=e.stroke&&g.hasStroke(),x=e.fill&&g.hasFill(),$=e.curves,C=b?g.getStrokeWidth()/2:x&&e.tolerance>0||$?0:null;if(null!==C&&(C>0?(a=g.getStrokeJoin(),c=g.getStrokeCap(),l=C*g.getMiterLimit(),w=y.add(new u(C,C))):a=c="round"),!e.ends||e.segments||m){if(e.segments||e.handles)for(var E=0;_>E;E++)if(d=i(v[E]))return d}else if(d=i(v[0],!0)||i(v[_-1],!0))return d;if(null!==C){if(f=this.getNearestLocation(t)){var A=f.getParameter();0===A||1===A&&_>1?s(f.getSegment())||(f=null):n(f.getPoint(),w)||(f=null)}if(!f&&"miter"===a&&_>1)for(var E=0;_>E;E++){var k=v[E];if(t.getDistance(k._point)<=l&&s(k)){f=k.getLocation();break}}}return!f&&x&&this._contains(t)||f&&!b&&!$?new S("fill",this):f?new S(b?"stroke":"curve",this,{location:f,point:f.getPoint()}):null}},e.each(A.evaluateMethods,function(t){this[t+"At"]=function(e,n){var r=this.getLocationAt(e,n);return r&&r[t]()}},{beans:!1,getLocationOf:function(){for(var t=u.read(arguments),e=this.getCurves(),n=0,r=e.length;r>n;n++){var i=e[n].getLocationOf(t);if(i)return i}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t,e){var n=this.getCurves(),r=0;if(e){var i=~~t,o=n[i];return o?o.getLocationAt(t-i,!0):null}for(var s=0,a=n.length;a>s;s++){var u=r,o=n[s];if(r+=o.getLength(),r>t)return o.getLocationAt(t-u)}return n.length>0&&t<=this.getLength()?new k(n[n.length-1],1):null},getNearestLocation:function(){for(var t=u.read(arguments),e=this.getCurves(),n=1/0,r=null,i=0,o=e.length;o>i;i++){var s=e[i].getNearestLocation(t);s._distance<n&&(n=s._distance,r=s)}return r},getNearestPoint:function(){return this.getNearestLocation.apply(this,arguments).getPoint()}}),new function(){function t(t,e,n,r){function i(e){var n=s[e],r=s[e+1];(h!=n||f!=r)&&(t.beginPath(),t.moveTo(h,f),t.lineTo(n,r),t.stroke(),t.beginPath(),t.arc(n,r,o,0,2*Math.PI,!0),t.fill())}for(var o=r/2,s=new Array(6),a=0,u=e.length;u>a;a++){var c=e[a];c._transformCoordinates(n,s,!1);var l=c._selectionState,h=s[0],f=s[1];if(1&l&&i(2),2&l&&i(4),t.fillRect(h-o,f-o,r,r),!(4&l)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(h-o+1,f-o+1,r-2,r-2),t.fillStyle=d}}}function e(t,e,n){function r(e){if(n)e._transformCoordinates(n,p,!1),i=p[0],o=p[1];else{var r=e._point;i=r._x,o=r._y}if(g)t.moveTo(i,o),g=!1;else{if(n)u=p[2],c=p[3];else{var f=e._handleIn;u=i+f._x,c=o+f._y}u===i&&c===o&&l===s&&h===a?t.lineTo(i,o):t.bezierCurveTo(l,h,u,c,i,o)}if(s=i,a=o,n)l=p[4],h=p[5];else{var f=e._handleOut;l=s+f._x,h=a+f._y}}for(var i,o,s,a,u,c,l,h,f=e._segments,d=f.length,p=new Array(6),g=!0,v=0;d>v;v++)r(f[v]);e._closed&&d>0&&r(f[0])}return{_draw:function(t,n,r){function i(t){return l[(t%h+h)%h]}var o=n.dontStart,s=n.dontFinish||n.clip,a=this.getStyle(),u=a.hasFill(),c=a.hasStroke(),l=a.getDashArray(),h=!paper.support.nativeDash&&c&&l&&l.length;if(o||t.beginPath(),!o&&this._currentPath?t.currentPath=this._currentPath:(u||c&&!h||s)&&(e(t,this,r),this._closed&&t.closePath(),o||(this._currentPath=t.currentPath)),!s&&(u||c)&&(this._setStyles(t),u&&(t.fill(a.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),c)){if(h){o||t.beginPath();var f,d=new M(this,32,.25,r),p=d.length,g=-a.getDashOffset(),v=0;for(g%=p;g>0;)g-=i(v--)+i(v--);for(;p>g;)f=g+i(v++),(g>0||f>0)&&d.drawPart(t,Math.max(g,0),Math.max(f,0)),g=f+i(v++)}t.stroke()}},_drawSelected:function(n,r){n.beginPath(),e(n,this,r),n.stroke(),t(n,this._segments,r,paper.settings.handleSize)}}},new function(){function t(t){var e=t.length,n=[],r=[],i=2;n[0]=t[0]/i;for(var o=1;e>o;o++)r[o]=1/i,i=(e-1>o?4:2)-r[o],n[o]=(t[o]-n[o-1])/i;for(var o=1;e>o;o++)n[e-o-1]-=r[e-o]*n[e-o];return n}return{smooth:function(){var e=this._segments,n=e.length,r=this._closed,i=n,o=0;if(!(2>=n)){r&&(o=Math.min(n,4),i+=2*Math.min(n,o));for(var s=[],a=0;n>a;a++)s[a+o]=e[a]._point;if(r)for(var a=0;o>a;a++)s[a]=e[a+n-o]._point,s[a+n+o]=e[a]._point;else i--;for(var c=[],a=1;i-1>a;a++)c[a]=4*s[a]._x+2*s[a+1]._x;c[0]=s[0]._x+2*s[1]._x,c[i-1]=3*s[i-1]._x;for(var l=t(c),a=1;i-1>a;a++)c[a]=4*s[a]._y+2*s[a+1]._y;c[0]=s[0]._y+2*s[1]._y,c[i-1]=3*s[i-1]._y;var h=t(c);if(r){for(var a=0,f=n;o>a;a++,f++){var d=a/o,p=1-d,g=a+o,v=f+o;l[f]=l[a]*d+l[f]*p,h[f]=h[a]*d+h[f]*p,l[v]=l[g]*p+l[v]*d,h[v]=h[g]*p+h[v]*d}i--}for(var _=null,a=o;i-o>=a;a++){var m=e[a-o];_&&m.setHandleIn(_.subtract(m._point)),i>a&&(m.setHandleOut(new u(l[a],h[a]).subtract(m._point)),_=i-1>a?new u(2*s[a+1]._x-l[a+1],2*s[a+1]._y-h[a+1]):new u((s[i]._x+l[i-1])/2,(s[i]._y+h[i-1])/2))}if(r&&_){var m=this._segments[0];m.setHandleIn(_.subtract(m._point))}}}}},new function(){function t(t){var e=t._segments;if(0===e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new C(u.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new C(u.read(arguments))])},cubicCurveTo:function(){var e=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=t(this);i.setHandleOut(e.subtract(i._point)),this._add([new C(r,n.subtract(r))])},quadraticCurveTo:function(){var e=u.read(arguments),n=u.read(arguments),r=t(this)._point;this.cubicCurveTo(e.add(r.subtract(e).multiply(1/3)),e.add(n.subtract(e).multiply(1/3)),n)},curveTo:function(){var n=u.read(arguments),r=u.read(arguments),i=e.pick(e.read(arguments),.5),o=1-i,s=t(this)._point,a=n.subtract(s.multiply(o*o)).subtract(r.multiply(i*i)).divide(2*i*o);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(a,r)},arcTo:function(){var n,r,i,o,s,a=t(this),c=a._point,h=u.read(arguments),f=e.peek(arguments),d=e.pick(f,!0);if("boolean"==typeof d)var v=c.add(h).divide(2),n=v.add(v.subtract(c).rotate(d?-90:90));else if(e.remain(arguments)<=2)n=h,h=u.read(arguments);else{var _=l.read(arguments);if(_.isZero())return this.lineTo(h);var m=e.read(arguments),d=!!e.read(arguments),y=!!e.read(arguments),v=c.add(h).divide(2),w=c.subtract(v).rotate(-m),b=w.x,x=w.y,$=Math.abs,S=$(_.width),E=$(_.height),A=S*S,k=E*E,O=b*b,T=x*x,P=Math.sqrt(O/A+T/k);if(P>1&&(S*=P,E*=P,A=S*S,k=E*E),P=(A*k-A*T-k*O)/(A*T+k*O),$(P)<1e-12&&(P=0),0>P)throw new Error("Cannot create an arc with the given arguments");r=new u(S*x/E,-E*b/S).multiply((y===d?-1:1)*Math.sqrt(P)).rotate(m).add(v),s=(new p).translate(r).rotate(m).scale(S,E),o=s._inverseTransform(c),i=o.getDirectedAngle(s._inverseTransform(h)),!d&&i>0?i-=360:d&&0>i&&(i+=360)}if(n){var M=new g(c.add(n).divide(2),n.subtract(c).rotate(90),!0),I=new g(n.add(h).divide(2),h.subtract(n).rotate(90),!0),j=new g(c,h),R=j.getSide(n);if(r=M.intersect(I,!0),!r){if(!R)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}o=c.subtract(r),i=o.getDirectedAngle(h.subtract(r));var D=j.getSide(r);0===D?i=R*Math.abs(i):R===D&&(i+=0>i?360:-360)}for(var B=Math.abs(i),N=B>=360?4:Math.ceil(B/90),L=i/N,U=L*Math.PI/360,z=4/3*Math.sin(U)/(1+Math.cos(U)),F=[],H=0;N>=H;H++){var w=h,q=null;if(N>H&&(q=o.rotate(90).multiply(z),s?(w=s._transformPoint(o),q=s._transformPoint(o.add(q)).subtract(w)):w=r.add(o)),0===H)a.setHandleOut(q);else{var V=o.rotate(-90).multiply(z);s&&(V=s._transformPoint(o.add(V)).subtract(w)),F.push(new C(w,V,q))}o=o.rotate(L)}this._add(F)},lineBy:function(){var e=u.read(arguments),n=t(this)._point;this.lineTo(n.add(e))},curveBy:function(){var n=u.read(arguments),r=u.read(arguments),i=e.read(arguments),o=t(this)._point;this.curveTo(o.add(n),o.add(r),i)},cubicCurveBy:function(){var e=u.read(arguments),n=u.read(arguments),r=u.read(arguments),i=t(this)._point;this.cubicCurveTo(i.add(e),i.add(n),i.add(r))},quadraticCurveBy:function(){var e=u.read(arguments),n=u.read(arguments),r=t(this)._point;this.quadraticCurveTo(r.add(e),r.add(n))},arcBy:function(){var n=t(this)._point,r=n.add(u.read(arguments)),i=e.pick(e.peek(arguments),!0);"boolean"==typeof i?this.arcTo(r,i):this.arcTo(r,n.add(u.read(arguments)))},closePath:function(t){this.setClosed(!0),t&&this.join()}}},{_getBounds:function(t,e){return T[t](this._segments,this._closed,this.getStyle(),e)},statics:{getBounds:function(t,e,n,r,i){function o(t){t._transformCoordinates(r,a,!1);for(var e=0;2>e;e++)A._addBounds(u[e],u[e+4],a[e+2],a[e],e,i?i[e]:0,c,l,h);var n=u;u=a,a=n}var s=t[0];if(!s)return new f;for(var a=new Array(6),u=s._transformCoordinates(r,new Array(6),!1),c=u.slice(0,2),l=c.slice(),h=new Array(2),d=1,p=t.length;p>d;d++)o(t[d]);return e&&o(s),new f(c[0],c[1],l[0]-c[0],l[1]-c[1])},getStrokeBounds:function(t,e,n,r){function i(t){d=d.include(r?r._transformPoint(t,t):t)}function o(t){d=d.unite(_.setCenter(r?r._transformPoint(t._point):t._point))}function s(t,e){var n=t._handleIn,r=t._handleOut;"round"===e||!n.isZero()&&!r.isZero()&&n.isCollinear(r)?o(t):T._addBevelJoin(t,e,c,v,i)}function a(t,e){"round"===e?o(t):T._addSquareCap(t,e,c,i)}if(!n.hasStroke())return T.getBounds(t,e,n,r);for(var u=t.length-(e?0:1),c=n.getStrokeWidth()/2,h=T._getPenPadding(c,r),d=T.getBounds(t,e,n,r,h),p=n.getStrokeJoin(),g=n.getStrokeCap(),v=c*n.getMiterLimit(),_=new f(new l(h).multiply(2)),m=1;u>m;m++)s(t[m],p);return e?s(t[0],p):u>0&&(a(t[0],g),a(t[t.length-1],g)),d},_getPenPadding:function(t,e){if(!e)return[t,t];var n=e.shiftless(),r=n.transform(new u(t,0)),i=n.transform(new u(0,t)),o=r.getAngleInRadians(),s=r.getLength(),a=i.getLength(),c=Math.sin(o),l=Math.cos(o),h=Math.tan(o),f=-Math.atan(a*h/s),d=Math.atan(a/(h*s));return[Math.abs(s*Math.cos(f)*l-a*Math.sin(f)*c),Math.abs(a*Math.sin(d)*l+s*Math.cos(d)*c)]},_addBevelJoin:function(t,e,n,r,i,o){var s=t.getCurve(),a=s.getPrevious(),c=s.getPointAt(0,!0),l=a.getNormalAt(1,!0),h=s.getNormalAt(0,!0),f=l.getDirectedAngle(h)<0?-n:n;if(l.setLength(f),h.setLength(f),o&&(i(c),i(c.add(l))),"miter"===e){var d=new g(c.add(l),new u(-l.y,l.x),!0).intersect(new g(c.add(h),new u(-h.y,h.x),!0),!0);if(d&&c.getDistance(d)<=r&&(i(d),!o))return}o||i(c.add(l)),i(c.add(h))},_addSquareCap:function(t,e,n,r,i){var o=t._point,s=t.getLocation(),a=s.getNormal().multiply(n);i&&(r(o.subtract(a)),r(o.add(a))),"square"===e&&(o=o.add(a.rotate(0===s.getParameter()?-90:90))),r(o.add(a)),r(o.subtract(a))},getHandleBounds:function(t,e,n,r,i,o){for(var s=new Array(6),a=1/0,u=-a,c=a,l=u,h=0,d=t.length;d>h;h++){var p=t[h];p._transformCoordinates(r,s,!1);for(var g=0;6>g;g+=2){var v=0===g?o:i,_=v?v[0]:0,m=v?v[1]:0,y=s[g],w=s[g+1],b=y-_,x=y+_,$=w-m,S=w+m;a>b&&(a=b),x>u&&(u=x),c>$&&(c=$),S>l&&(l=S)}}return new f(a,c,u-a,l-c)},getRoughBounds:function(t,e,n,r){var i=n.hasStroke()?n.getStrokeWidth()/2:0,o=i;return i>0&&("miter"===n.getStrokeJoin()&&(o=i*n.getMiterLimit()),"square"===n.getStrokeCap()&&(o=Math.max(o,i*Math.sqrt(2)))),T.getHandleBounds(t,e,n,r,T._getPenPadding(i,r),T._getPenPadding(o,r))}}});T.inject({statics:new function(){function t(t,n,r){var i=e.getNamed(r),o=new T(i&&i.insert===!1&&m.NO_INSERT);return o._add(t),o._closed=n,o.set(i)}function n(e,n,r){for(var o=new Array(4),s=0;4>s;s++){var a=i[s];o[s]=new C(a._point.multiply(n).add(e),a._handleIn.multiply(n),a._handleOut.multiply(n))}return t(o,!0,r)}var r=.5522847498307936,i=[new C([-1,0],[0,r],[0,-r]),new C([0,-1],[-r,0],[r,0]),new C([1,0],[0,-r],[0,r]),new C([0,1],[r,0],[-r,0])];return{Line:function(){return t([new C(u.readNamed(arguments,"from")),new C(u.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=u.readNamed(arguments,"center"),r=e.readNamed(arguments,"radius");return n(t,new l(r),arguments)},Rectangle:function(){var e,n=f.readNamed(arguments,"rectangle"),i=l.readNamed(arguments,"radius",0,{readNull:!0}),o=n.getBottomLeft(!0),s=n.getTopLeft(!0),a=n.getTopRight(!0),u=n.getBottomRight(!0);if(!i||i.isZero())e=[new C(o),new C(s),new C(a),new C(u)];else{i=l.min(i,n.getSize(!0).divide(2));var c=i.width,h=i.height,d=c*r,p=h*r;e=[new C(o.add(c,0),null,[-d,0]),new C(o.subtract(0,h),[0,p]),new C(s.add(0,h),null,[0,-p]),new C(s.add(c,0),[-d,0],null),new C(a.subtract(c,0),null,[d,0]),new C(a.add(0,h),[0,-p],null),new C(u.subtract(0,h),null,[0,p]),new C(u.subtract(c,0),[d,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=b._readEllipse(arguments);return n(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=u.readNamed(arguments,"from"),n=u.readNamed(arguments,"through"),r=u.readNamed(arguments,"to"),i=e.getNamed(arguments),o=new T(i&&i.insert===!1&&m.NO_INSERT);return o.moveTo(t),o.arcTo(n,r),o.set(i)},RegularPolygon:function(){for(var n=u.readNamed(arguments,"center"),r=e.readNamed(arguments,"sides"),i=e.readNamed(arguments,"radius"),o=360/r,s=!(r%3),a=new u(0,s?-i:i),c=s?-1:.5,l=new Array(r),h=0;r>h;h++)l[h]=new C(n.add(a.rotate((h+c)*o)));return t(l,!0,arguments)},Star:function(){for(var n=u.readNamed(arguments,"center"),r=2*e.readNamed(arguments,"points"),i=e.readNamed(arguments,"radius1"),o=e.readNamed(arguments,"radius2"),s=360/r,a=new u(0,-1),c=new Array(r),l=0;r>l;l++)c[l]=new C(n.add(a.rotate(s*l).multiply(l%2?o:i)));return t(c,!0,arguments)}}}});var P=O.extend({_class:"CompoundPath",_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function mt(e,n,r){for(var i=n.length-1;i>=0;i--){var o=n[i];o instanceof P&&(n.splice.apply(n,[i,1].concat(o.removeChildren())),o.remove())}n=mt.base.call(this,e,n,r,T);for(var i=0,s=!r&&n&&n.length;s>i;i++){var o=n[i];o._clockwise===t&&o.setClockwise(0===o._index)}return n},reverse:function(){for(var t=this._children,e=0,n=t.length;n>e;e++)t[e].reverse()},smooth:function(){for(var t=0,e=this._children.length;e>t;t++)this._children[t].smooth()},reduce:function yt(){for(var t=this._children,e=t.length-1;e>=0;e--){var n=t[e].reduce();n.isEmpty()&&t.splice(e,1)}if(0===t.length){var n=new T(m.NO_INSERT);return n.insertAbove(this),n.setStyle(this._style),this.remove(),n}return yt.base.call(this)},isClockwise:function(){var t=this.getFirstChild();return t&&t.isClockwise()},setClockwise:function(t){this.isClockwise()!==!!t&&this.reverse()},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],n=0,r=t.length;r>n;n++)e.push.apply(e,t[n].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getFirstCurve()},getArea:function(){for(var t=this._children,e=0,n=0,r=t.length;r>n;n++)e+=t[n].getArea();return e}},{beans:!0,getPathData:function(t,e){for(var n=this._children,r=[],i=0,o=n.length;o>i;i++){var s=n[i],a=s._matrix;r.push(s.getPathData(t&&!a.isIdentity()?t.chain(a):t,e))}return r.join(" ")}},{_getChildHitTestOptions:function(t){return t["class"]===T||"path"===t.type?t:new e(t,{fill:!1})},_draw:function(t,e,n){var r=this._children;if(0!==r.length){if(this._currentPath)t.currentPath=this._currentPath;else{e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var i=0,o=r.length;o>i;i++)r[i].draw(t,e,n);this._currentPath=t.currentPath}if(!e.clip){this._setStyles(t);var s=this._style;s.hasFill()&&(t.fill(s.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),s.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,n){
for(var r=this._children,i=0,o=r.length;o>i;i++){var s=r[i],a=s._matrix;n[s._id]||s._drawSelected(t,a.isIdentity()?e:e.chain(a))}}},new function(){function t(t,e){var n=t._children;if(e&&0===n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}var n={moveTo:function(){var e=t(this),n=e&&e.isEmpty()?e:new T(m.NO_INSERT);n!==e&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var e=t(this,!0),n=e&&e.getLastSegment(),r=u.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(e){t(this,!0).closePath(e)}};return e.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){n[e]=function(){var n=t(this,!0);n[e].apply(n,arguments)}}),n});O.inject(new function(){function t(t,e){var n=t.clone(!1).reduce().transform(null,!0,!0);return e?n.resolveCrossings().reorient():n}function e(t,e,n,r,i){var o=new t(m.NO_INSERT);return o.addChildren(e,!0),i&&(o=o.reduce()),o.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),o.setStyle(n._style),o}function n(n,i,s){function a(t){for(var e=0,n=t.length;n>e;e++){var r=t[e];d.push.apply(d,r._segments),p.push.apply(p,r._getMonoCurves())}}if(!n._children&&!n._closed)return r(n,i,s);var u=t(n,!0),h=i&&n!==i&&t(i,!0);h&&/^(subtract|exclude)$/.test(s)^h.isClockwise()!==u.isClockwise()&&h.reverse();var f=k.expand(u.getIntersections(h,function(t){return h&&t.isOverlap()||t.isCrossing()}));o(f);var d=[],p=[];a(u._children||[u]),h&&a(h._children||[h]);for(var g=0,v=f.length;v>g;g++)c(f[g]._segment,u,h,p,s);for(var g=0,v=d.length;v>g;g++){var _=d[g];null==_._winding&&c(_,u,h,p,s)}return e(P,l(d,s),n,i,!0)}function r(n,r,i){function o(t){return a.contains(t.getPointAt(t.getLength()/2))^c?(l.unshift(t),!0):void 0}if(!r||!r._children&&!r._closed||!/^(subtract|intersect)$/.test(i))return null;for(var s=t(n,!1),a=t(r,!1),u=s.getIntersections(a,function(t){return t.isOverlap()||t.isCrossing()}),c="subtract"===i,l=[],h=u.length-1;h>=0;h--){var f=u[h].split();f&&(o(f)&&f.getFirstSegment().setHandleIn(0,0),s.getLastSegment().setHandleOut(0,0))}return o(s),e(y,l,n,r)}function i(t,e){for(var n=t;n;){if(n===e)return;n=n._prev}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._prev;)e=e._prev;t._next=e,e._prev=t}}function o(t){for(var e,n,r=4e-7,o=1-r,s=!1,a=[],u=t.length-1;u>=0;u--){var c=t[u],l=c._curve,h=c._parameter,f=h;l!==e?s=!l.hasHandles():n>0&&(h/=n);var d;r>h?d=l._segment1:h>o?d=l._segment2:(d=l.divide(h,!0,!0)._segment1,s&&a.push(d)),c._setSegment(d);var p=d._intersection,g=c._intersection;if(p){i(p,g);for(var v=p;v;)i(v._intersection,p),v=v._next}else d._intersection=g;e=l,n=f}for(var u=0,_=a.length;_>u;u++)a[u].clearHandles()}function a(t,e,n,r){var i=2e-7,o=4e-7,c=1-o,l=t.x,h=t.y,f=0,d=0,p=[],g=Math.abs;if(n){for(var v=-(1/0),_=1/0,m=h-i,y=h+i,w=0,b=e.length;b>w;w++){var x=e[w].values;if(A.solveCubic(x,0,l,p,0,1)>0)for(var $=p.length-1;$>=0;$--){var S=A.getPoint(x,p[$]).y;m>S&&S>v?v=S:S>y&&_>S&&(_=S)}}v=(v+h)/2,_=(_+h)/2,v>-(1/0)&&(f=a(new u(l,v),e,!1,r)),1/0>_&&(d=a(new u(l,_),e,!1,r))}else for(var C,E,k=l-i,O=l+i,T=!1,w=0,b=e.length;b>w;w++){var P=e[w],x=P.values,M=P.winding;if(M&&(1===M&&h>=x[1]&&h<=x[7]||h>=x[7]&&h<=x[1])&&1===A.solveCubic(x,1,h,p,0,1)){var I=p[0];if(!(I>c&&T&&P.next!==e[w+1]||o>I&&E>c&&P.previous===C)){var j=A.getPoint(x,I).x,R=A.getTangent(x,I).y,D=!1;s.isZero(R)&&!A.isStraight(x)||o>I&&R*A.getTangent(P.previous.values,1).y<0||I>c&&R*A.getTangent(P.next.values,0).y<0?r&&j>=k&&O>=j&&(++f,++d,D=!0):k>=j?(f+=M,D=!0):j>=O&&(d+=M,D=!0),P.previous!==e[w-1]&&(T=o>I&&D)}C=P,E=I}}return Math.max(g(f),g(d))}function c(t,e,n,r,i){var o=2e-7,s=[],u=t,c=0,l=0;do{var h=t.getCurve(),f=h.getLength();s.push({segment:t,curve:h,length:f}),c+=f,t=t.getNext()}while(t&&!t._intersection&&t!==u);for(var d=0;3>d;d++)for(var f=c*(d+1)/4,p=0,g=s.length;g>p;p++){var v=s[p],_=v.length;if(_>=f){(o>f||o>_-f)&&(f=_/2);var h=v.curve,m=h._path,y=m._parent,w=h.getPointAt(f),b=h.isHorizontal();y instanceof P&&(m=y),l+="subtract"===i&&n&&(m===e&&n._getWinding(w,b)||m===n&&!e._getWinding(w,b))?0:a(w,r,b);break}f-=_}for(var x=Math.round(l/3),$=s.length-1;$>=0;$--)s[$].segment._winding=x}function l(t,e){function n(t,e){if(t._visited)return!1;if(!l)return!0;var n=t._winding,r=t._intersection;return r&&e&&f&&r.isOverlap()&&(n=f[n]||n),l(n)}function r(t){return t===a||t===u}function i(t,e){if(!t._next)return t;for(;t;){var i=t._segment,o=i.getNext(),s=o._intersection;if(r(o)||!i._visited&&!o._visited&&(!l||(!e||n(i))&&(!(e&&s&&s.isOverlap())&&n(o)||!e&&s&&n(s._segment))))return t;t=t._next}return null}function o(t,e){for(;t;){var n=t._segment;if(r(n))return n;t=t[e?"_next":"_prev"]}}for(var a,u,c=[],l=h[e],f={unite:{1:2},intersect:{2:1}}[e],d=0,p=t.length;p>d;d++){var g=t[d],v=null,_=!1;if(n(g,!0)){for(a=u=null;!_;){var y=g._intersection,w=v&&g._handleIn;y=y&&(i(y,!0)||i(y,!1))||y;var b=y&&y._segment;if(b&&n(b)&&(g=b),g._visited){if(_=r(g),!_&&y){var x=o(y,!0)||o(y,!1);x&&(g=x,_=!0)}break}v||(v=new T(m.NO_INSERT),a=g,u=b),v.add(new C(g._point,w,g._handleOut)),g._visited=!0,g=g.getNext(),_=r(g)}_?(v.firstSegment.setHandleIn(g._handleIn),v.setClosed(!0)):v&&(console.error("Boolean operation resulted in open path","segments =",v._segments.length,"length =",v.getLength()),v=null),v&&(v._segments.length>8||!s.isZero(v.getArea()))&&(c.push(v),v=null)}}return c}var h={unite:function(t){return 1===t||0===t},intersect:function(t){return 2===t},subtract:function(t){return 1===t},exclude:function(t){return 1===t}};return{_getWinding:function(t,e,n){return a(t,this._getMonoCurves(),e,n)},unite:function(t){return n(this,t,"unite")},intersect:function(t){return n(this,t,"intersect")},subtract:function(t){return n(this,t,"subtract")},exclude:function(t){return n(this,t,"exclude")},divide:function(t){return e(y,[this.subtract(t),this.intersect(t)],this,t,!0)},resolveCrossings:function(){var t=this.getCrossings();if(!t.length)return this;o(k.expand(t));for(var n=this._children||[this],r=[],i=0,s=n.length;s>i;i++)r.push.apply(r,n[i]._segments);return e(P,l(r),this,null,!1)}}}),T.inject({_getMonoCurves:function(){function t(t){var e=t[1],i=t[7],o={values:t,winding:e===i?0:e>i?-1:1,previous:n,next:null};n&&(n.next=o),r.push(o),n=o}function e(e){if(0!==A.getLength(e)){var n=e[1],r=e[3],i=e[5],o=e[7];if(A.isStraight(e))t(e);else{var a=3*(r-i)-n+o,u=2*(n+i)-4*r,c=r-n,l=4e-7,h=1-l,f=[],d=s.solveQuadratic(a,u,c,f,l,h);if(0===d)t(e);else{f.sort();var p=f[0],g=A.subdivide(e,p);t(g[0]),d>1&&(p=(f[1]-p)/(1-p),g=A.subdivide(g[1],p),t(g[0])),t(g[1])}}}}var n,r=this._monoCurves;if(!r){r=this._monoCurves=[];for(var i=this.getCurves(),o=this._segments,a=0,u=i.length;u>a;a++)e(i[a].getValues());if(!this._closed&&o.length>1){var c=o[o.length-1]._point,l=o[0]._point,h=c._x,f=c._y,d=l._x,p=l._y;e([h,f,h,f,d,p,d,p])}if(r.length>0){var g=r[0],v=r[r.length-1];g.previous=v,v.next=g}}return r},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var n=this._getMonoCurves(),r=[],i=e.y,o=[],s=0,a=n.length;a>s;s++){var u=n[s].values;if((1===n[s].winding&&i>=u[1]&&i<=u[7]||i>=u[7]&&i<=u[1])&&A.solveCubic(u,1,i,r,0,1)>0)for(var c=r.length-1;c>=0;c--)o.push(A.getPoint(u,r[c]).x);if(o.length>1)break}e.x=(o[0]+o[1])/2}return e},reorient:function(){return this.setClockwise(!0),this}}),P.inject({_getMonoCurves:function(){for(var t=this._children,e=[],n=0,r=t.length;r>n;n++)e.push.apply(e,t[n]._getMonoCurves());return e},reorient:function(){var t=this.removeChildren().sort(function(t,e){return e.getBounds().getArea()-t.getBounds().getArea()});if(t.length>0){this.addChildren(t);for(var e=t[0].isClockwise(),n=1,r=t.length;r>n;n++){for(var i=t[n].getInteriorPoint(),o=0,s=n-1;s>=0;s--)t[s].contains(i)&&o++;t[n].setClockwise(o%2===0&&e)}}return this}});var M=e.extend({_class:"PathIterator",initialize:function(t,e,n,r){function i(t,e){var n=A.getValues(t,e,r);a.push(n),o(n,t._index,0,1)}function o(t,e,r,i){if(i-r>l&&!A.isFlatEnough(t,n||.25)){var s=A.subdivide(t,.5),a=(r+i)/2;o(s[0],e,r,a),o(s[1],e,a,i)}else{var h=t[6]-t[0],f=t[7]-t[1],d=Math.sqrt(h*h+f*f);d>1e-6&&(c+=d,u.push({offset:c,value:i,index:e}))}}for(var s,a=[],u=[],c=0,l=1/(e||32),h=t._segments,f=h[0],d=1,p=h.length;p>d;d++)s=h[d],i(f,s),f=s;t._closed&&i(s,h[0]),this.curves=a,this.parts=u,this.length=c,this.index=0},getParameterAt:function(t){for(var e,n=this.index;e=n,!(0==n||this.parts[--n].offset<t););for(var r=this.parts.length;r>e;e++){var i=this.parts[e];if(i.offset>=t){this.index=e;var o=this.parts[e-1],s=o&&o.index==i.index?o.value:0,a=o?o.offset:0;return{value:s+(i.value-s)*(t-a)/(i.offset-a),index:i.index}}}var i=this.parts[this.parts.length-1];return{value:1,index:i.index}},drawPart:function(t,e,n){e=this.getParameterAt(e),n=this.getParameterAt(n);for(var r=e.index;r<=n.index;r++){var i=A.getPart(this.curves[r],r==e.index?e.value:0,r==n.index?n.value:1);r==e.index&&t.moveTo(i[0],i[1]),t.bezierCurveTo.apply(t,i.slice(2))}}},e.each(A.evaluateMethods,function(t){this[t+"At"]=function(e,n){var r=this.getParameterAt(e);return A[t](this.curves[r.index],r.value,n)}},{})),I=e.extend({initialize:function(t,e){for(var n,r=this.points=[],i=t._segments,o=0,s=i.length;s>o;o++){var a=i[o].point.clone();n&&n.equals(a)||(r.push(a),n=a)}t._closed&&(this.closed=!0,r.unshift(r[r.length-1]),r.push(r[1])),this.error=e},fit:function(){var t=this.points,e=t.length,n=this.segments=e>0?[new C(t[0])]:[];return e>1&&this.fitCubic(0,e-1,t[1].subtract(t[0]).normalize(),t[e-2].subtract(t[e-1]).normalize()),this.closed&&(n.shift(),n.pop()),n},fitCubic:function(t,e,n,r){if(e-t==1){var i=this.points[t],o=this.points[e],s=i.getDistance(o)/3;return void this.addCurve([i,i.add(n.normalize(s)),o.add(r.normalize(s)),o])}for(var a,u=this.chordLengthParameterize(t,e),c=Math.max(this.error,this.error*this.error),l=!0,h=0;4>=h;h++){var f=this.generateBezier(t,e,u,n,r),d=this.findMaxError(t,e,f,u);if(d.error<this.error&&l)return void this.addCurve(f);if(a=d.index,d.error>=c)break;l=this.reparameterize(t,e,u,f),c=d.error}var p=this.points[a-1].subtract(this.points[a]),g=this.points[a].subtract(this.points[a+1]),v=p.add(g).divide(2).normalize();this.fitCubic(t,a,n,v),this.fitCubic(a,e,v.negate(),r)},addCurve:function(t){var e=this.segments[this.segments.length-1];e.setHandleOut(t[1].subtract(t[0])),this.segments.push(new C(t[3],t[2].subtract(t[3])))},generateBezier:function(t,e,n,r,i){for(var o=1e-12,s=this.points[t],a=this.points[e],u=[[0,0],[0,0]],c=[0,0],l=0,h=e-t+1;h>l;l++){var f=n[l],d=1-f,p=3*f*d,g=d*d*d,v=p*d,_=p*f,m=f*f*f,y=r.normalize(v),w=i.normalize(_),b=this.points[t+l].subtract(s.multiply(g+v)).subtract(a.multiply(_+m));u[0][0]+=y.dot(y),u[0][1]+=y.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),c[0]+=y.dot(b),c[1]+=w.dot(b)}var x,$,S=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(Math.abs(S)>o){var C=u[0][0]*c[1]-u[1][0]*c[0],E=c[0]*u[1][1]-c[1]*u[0][1];x=E/S,$=C/S}else{var A=u[0][0]+u[0][1],k=u[1][0]+u[1][1];x=$=Math.abs(A)>o?c[0]/A:Math.abs(k)>o?c[1]/k:0}var O,T,P=a.getDistance(s),M=o*P;if(M>x||M>$)x=$=P/3;else{var I=a.subtract(s);O=r.normalize(x),T=i.normalize($),O.dot(I)-T.dot(I)>P*P&&(x=$=P/3,O=T=null)}return[s,s.add(O||r.normalize(x)),a.add(T||i.normalize($)),a]},reparameterize:function(t,e,n,r){for(var i=t;e>=i;i++)n[i-t]=this.findRoot(r,this.points[i],n[i-t]);for(var i=1,o=n.length;o>i;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(t,e,n){for(var r=[],i=[],o=0;2>=o;o++)r[o]=t[o+1].subtract(t[o]).multiply(3);for(var o=0;1>=o;o++)i[o]=r[o+1].subtract(r[o]).multiply(2);var s=this.evaluate(3,t,n),a=this.evaluate(2,r,n),u=this.evaluate(1,i,n),c=s.subtract(e),l=a.dot(a)+c.dot(u);return Math.abs(l)<1e-6?n:n-c.dot(a)/l},evaluate:function(t,e,n){for(var r=e.slice(),i=1;t>=i;i++)for(var o=0;t-i>=o;o++)r[o]=r[o].multiply(1-n).add(r[o+1].multiply(n));return r[0]},chordLengthParameterize:function(t,e){for(var n=[0],r=t+1;e>=r;r++)n[r-t]=n[r-t-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,i=e-t;i>=r;r++)n[r]/=n[i];return n},findMaxError:function(t,e,n,r){for(var i=Math.floor((e-t+1)/2),o=0,s=t+1;e>s;s++){var a=this.evaluate(3,n,r[s-t]),u=a.subtract(this.points[s]),c=u.x*u.x+u.y*u.y;c>=o&&(o=c,i=s)}return{error:o,index:i}}}),j=m.extend({_class:"TextItem",_boundsSelected:!0,_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsGetter:"getBounds",initialize:function(n){this._content="",this._lines=[];var r=n&&e.isPlainObject(n)&&n.x===t&&n.y===t;this._initialize(r&&n,!r&&u.read(arguments))},_equals:function(t){return this._content===t._content},_clone:function wt(t,e,n){return t.setContent(this._content),wt.base.call(this,t,e,n)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),R=j.extend({_class:"PointText",initialize:function(){j.apply(this,arguments)},clone:function(t){return this._clone(new R(m.NO_INSERT),t)},getPoint:function(){var t=this._matrix.getTranslation();return new c(t.x,t.y,this,"setPoint")},setPoint:function(){var t=u.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t){if(this._content){this._setStyles(t);var e=this._style,n=this._lines,r=e.getLeading(),i=t.shadowColor;t.font=e.getFontStyle(),t.textAlign=e.getJustification();for(var o=0,s=n.length;s>o;o++){t.shadowColor=i;var a=n[o];e.hasFill()&&(t.fillText(a,0,0),t.shadowColor="rgba(0,0,0,0)"),e.hasStroke()&&t.strokeText(a,0,0),t.translate(0,r)}}},_getBounds:function(t,e){var n=this._style,r=this._lines,i=r.length,o=n.getJustification(),s=n.getLeading(),a=this.getView().getTextWidth(n.getFontStyle(),r),u=0;"left"!==o&&(u-=a/("center"===o?2:1));var c=new f(u,i?-.75*s:0,a,i*s);return e?e._transformBounds(c,c):c}}),D=e.extend(new function(){function t(t){var e,r=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(r){e=[0,0,0];for(var i=0;3>i;i++){var o=r[i+1];e[i]=parseInt(1==o.length?o+o:o,16)/255}}else if(r=t.match(/^rgba?\((.*)\)$/)){e=r[1].split(",");for(var i=0,a=e.length;a>i;i++){var o=+e[i];e[i]=3>i?o/255:o}}else{var u=s[t];if(!u){n||(n=X.getContext(1,1),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=t,n.fillRect(0,0,1,1);var c=n.getImageData(0,0,1,1).data;u=s[t]=[c[0]/255,c[1]/255,c[2]/255]}e=u.slice()}return e}var n,r={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},s={},c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i,s=0===o?0:60*(r==t?(e-n)/o+(n>e?6:0):r==e?(n-t)/o+2:(t-e)/o+4);return[s,0===r?0:o/r,r]},"hsb-rgb":function(t,e,n){t=(t/60%6+6)%6;var r=Math.floor(t),i=t-r,r=c[r],o=[n,n*(1-e),n*(1-e*i),n*(1-e*(1-i))];return[o[r[0]],o[r[1]],o[r[2]]]},"rgb-hsl":function(t,e,n){var r=Math.max(t,e,n),i=Math.min(t,e,n),o=r-i,s=0===o,a=s?0:60*(r==t?(e-n)/o+(n>e?6:0):r==e?(n-t)/o+2:(t-e)/o+4),u=(r+i)/2,c=s?0:.5>u?o/(r+i):o/(2-r-i);return[a,c,u]},"hsl-rgb":function(t,e,n){if(t=(t/360%1+1)%1,0===e)return[n,n,n];for(var r=[t+1/3,t,t-1/3],i=.5>n?n*(1+e):n+e-n*e,o=2*n-i,s=[],a=0;3>a;a++){var u=r[a];0>u&&(u+=1),u>1&&(u-=1),s[a]=1>6*u?o+6*(i-o)*u:1>2*u?i:2>3*u?o+(i-o)*(2/3-u)*6:o}return s},"rgb-gray":function(t,e,n){return[.2989*t+.587*e+.114*n]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return e.each(r,function(t,n){i[n]=[],e.each(t,function(t,o){var s=e.capitalize(t),a=/^(hue|saturation)$/.test(t),c=i[n][o]="gradient"===t?function(t){var e=this._components[0];return t=B.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===n?function(){return u.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+s]=function(){return this._type===n||a&&/^hs[bl]$/.test(this._type)?this._components[o]:this._convert(n)[o]},this["set"+s]=function(t){this._type===n||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(n),this._properties=r[n],this._type=n),this._components[o]=c.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(e){var n,o,s,u,c=Array.prototype.slice,l=arguments,f=0;Array.isArray(e)&&(l=e,e=l[0]);var d=null!=e&&typeof e;if("string"===d&&e in r&&(n=e,e=l[1],Array.isArray(e)?(o=e,s=l[2]):(this.__read&&(f=1),l=c.call(l,1),d=typeof e)),!o){if(u="number"===d?l:"object"===d&&null!=e.length?e:null){n||(n=u.length>=3?"rgb":"gray");var p=r[n].length;s=u[p],this.__read&&(f+=u===arguments?p+(null!=s?1:0):1),u.length>p&&(u=c.call(u,0,p))}else if("string"===d)n="rgb",o=t(e),4===o.length&&(s=o[3],o.length--);else if("object"===d)if(e.constructor===h){if(n=e._type,o=e._components.slice(),s=e._alpha,"gradient"===n)for(var g=1,v=o.length;v>g;g++){var _=o[g];_&&(o[g]=_.clone())}}else if(e.constructor===B)n="gradient",u=l;else{n="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var m=r[n],y=i[n];this._components=o=[];for(var g=0,v=m.length;v>g;g++){var w=e[m[g]];null==w&&0===g&&"gradient"===n&&"stops"in e&&(w={stops:e.stops,radial:e.radial}),w=y[g].call(this,w),null!=w&&(o[g]=w)}s=e.alpha}this.__read&&n&&(f=1)}if(this._type=n||"rgb",this._id=a.get(h),!o){this._components=o=[];for(var y=i[this._type],g=0,v=y.length;v>g;g++){var w=y[g].call(this,u&&u[g]);null!=w&&(o[g]=w)}}this._components=o,this._properties=r[this._type],this._alpha=s,this.__read&&(this.__read=f)},_serialize:function(t,n){var r=this.getComponents();return e.serialize(/^(gray|rgb)$/.test(this._type)?r:[this._type].concat(r),t,!0,n)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=l[this._type+"-"+t])?e.apply(this,this._components):l["rgb-"+t].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new D(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=r[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var n=e.isPlainValue(t,!0)?D.read(arguments):t;return n===this||n&&this._class===n._class&&this._type===n._type&&this._alpha===n._alpha&&e.equals(this._components,n._components)||!1},toString:function(){for(var t=this._properties,e=[],n="gradient"===this._type,r=o.instance,i=0,s=t.length;s>i;i++){var a=this._components[i];null!=a&&e.push(t[i]+": "+(n?a:r.number(a)))}return null!=this._alpha&&e.push("alpha: "+r.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(0>t?0:t>1?1:t))}var n=this._convert("rgb"),r=t||null==this._alpha?1:this._alpha;return n=[e(n[0]),e(n[1]),e(n[2])],1>r&&n.push(0>r?0:r),t?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1):(4==n.length?"rgba(":"rgb(")+n.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,n=this._components,r=n[0],i=r._stops,o=n[1],s=n[2];if(r._radial){var a=s.getDistance(o),u=n[3];if(u){var c=u.subtract(o);c.getLength()>a&&(u=o.add(c.normalize(a-.1)))}var l=u||o;e=t.createRadialGradient(l.x,l.y,0,o.x,o.y,a)}else e=t.createLinearGradient(o.x,o.y,s.x,s.y);for(var h=0,f=i.length;f>h;h++){var d=i[h];e.addColorStop(d._rampPoint,d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,n=1,r=e.length;r>n;n++){var i=e[n];t._transformPoint(i,i,!0)}this._changed()}},statics:{_types:r,random:function(){var t=Math.random;return new D(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return e.each(t,function(t,e){this[e]=function(e){e=D.read(arguments);for(var n=this._type,r=this._components,i=e._convert(n),o=0,s=r.length;s>o;o++)i[o]=t(r[o],i[o]);return new D(n,i,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),B=e.extend({_class:"Gradient",initialize:function(t,e){this._id=a.get(),t&&this._set(t)&&(t=e=null),this._stops||this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,n){return n.add(this,function(){return e.serialize([this._stops,this._radial],t,!0,n)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;e>t;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(e){var n=this._owners?this._owners.indexOf(e):-1;-1!=n&&(this._owners.splice(n,1),0===this._owners.length&&(this._owners=t))},clone:function(){for(var t=[],e=0,n=this._stops.length;n>e;e++)t[e]=this._stops[e].clone();return new B(t,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(this.stops)for(var n=0,r=this._stops.length;r>n;n++)this._stops[n]._owner=t;if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");this._stops=N.readAll(e,0,{clone:!0});for(var n=0,r=this._stops.length;r>n;n++){var i=this._stops[n];i._owner=this,i._defaultRamp&&i.setRampPoint(n/(r-1))}this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class&&this._stops.length===t._stops.length){for(var e=0,n=this._stops.length;n>e;e++)if(!this._stops[e].equals(t._stops[e]))return!1;return!0}return!1}}),N=e.extend({_class:"GradientStop",initialize:function(e,n){if(e){var r,i;n===t&&Array.isArray(e)?(r=e[0],i=e[1]):e.color?(r=e.color,i=e.rampPoint):(r=e,i=n),this.setColor(r),this.setRampPoint(i)}},clone:function(){return new N(this._color.clone(),this._rampPoint)},_serialize:function(t,n){return e.serialize([this._color,this._rampPoint],t,!0,n)},_changed:function(){this._owner&&this._owner._changed(65)},getRampPoint:function(){return this._rampPoint},setRampPoint:function(t){this._defaultRamp=null==t,this._rampPoint=t||0,this._changed()},getColor:function(){return this._color},setColor:function(t){this._color=D.read(arguments),this._color===t&&(this._color=t.clone()),this._color._owner=this,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._rampPoint==t._rampPoint||!1}}),L=e.extend(new function(){var n={fillColor:t,strokeColor:t,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],windingRule:"nonzero",shadowColor:t,shadowBlur:0,shadowOffset:new u,selectedColor:t,fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,font:"sans-serif",leading:null,justification:"left"},r={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},i={beans:!0},o={_defaults:n,_textDefaults:new e(n,{fillColor:new D}),beans:!0};return e.each(n,function(n,s){var a=/Color$/.test(s),c="shadowOffset"===s,l=e.capitalize(s),h=r[s],f="set"+l,d="get"+l;o[f]=function(e){var n=this._owner,r=n&&n._children;if(r&&r.length>0&&!(n instanceof P))for(var i=0,o=r.length;o>i;i++)r[i]._style[f](e);else{var u=this._values[s];u!==e&&(a&&(u&&(u._owner=t),e&&e.constructor===D&&(e._owner&&(e=e.clone()),e._owner=n)),this._values[s]=e,n&&n._changed(h||65))}},o[d]=function(n){var r,i=this._owner,o=i&&i._children;if(!o||0===o.length||n||i instanceof P){var r=this._values[s];if(r===t)r=this._defaults[s],r&&r.clone&&(r=r.clone());else{var l=a?D:c?u:null;!l||r&&r.constructor===l||(this._values[s]=r=l.read([r],0,{readNull:!0,clone:!0}),r&&a&&(r._owner=i))}return r}for(var h=0,f=o.length;f>h;h++){var p=o[h]._style[d]();if(0===h)r=p;else if(!e.equals(r,p))return t}return r},i[d]=function(t){return this._style[d](t)},i[f]=function(t){this._style[f](t)}}),m.inject(i),o},{_class:"Style",initialize:function(t,e,n){this._values={},this._owner=e,this._project=e&&e._project||n||paper.project,e instanceof j&&(this._defaults=this._textDefaults),t&&this.set(t)},set:function(t){var e=t instanceof L,n=e?t._values:t;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&e&&i.clone?i.clone():i}},equals:function(t){return t===this||t&&this._class===t._class&&e.equals(this._values,t._values)||!1},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getView:function(){return this._project.getView()},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function bt(){var t=bt.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),U=new function(){function t(t,e,n,r){for(var i=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),s=0;6>s;s++){var a=i[s],u=a?a+o:e;if(u in t){if(!n)return t[u];t[u]=r;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,n=e&&e.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,e){var n,r=t.ownerDocument,i=r.body,o=r.documentElement;try{n=t.getBoundingClientRect()}catch(s){n={left:0,top:0,width:0,height:0}}var a=n.left-(o.clientLeft||i.clientLeft||0),u=n.top-(o.clientTop||i.clientTop||0);if(!e){var c=r.defaultView;a+=c.pageXOffset||o.scrollLeft||i.scrollLeft,u+=c.pageYOffset||o.scrollTop||i.scrollTop}return new f(a,u,n.width,n.height)},getViewportBounds:function(t){var e=t.ownerDocument,n=e.defaultView,r=e.documentElement;return new f(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(t,e){return U.getBounds(t,e).getPoint()},getSize:function(t){return U.getBounds(t,!0).getSize()},isInvisible:function(t){return U.getSize(t).equals(new l(0,0))},isInView:function(t){return!U.isInvisible(t)&&U.getViewportBounds(t).intersects(U.getBounds(t,!0))},getPrefixed:function(e,n){return t(e,n)},setPrefixed:function(e,n,r){if("object"==typeof n)for(var i in n)t(e,i,!0,n[i]);else t(e,n,!0,r)}}},z={add:function(t,e){for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),o=0,s=i.length;s>o;o++)t.addEventListener(i[o],r,!1)},remove:function(t,e){for(var n in e)for(var r=e[n],i=n.split(/[\s,]+/g),o=0,s=i.length;s>o;o++)t.removeEventListener(i[o],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new u(e.pageX||e.clientX+document.documentElement.scrollLeft,e.pageY||e.clientY+document.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return z.getPoint(t).subtract(U.getOffset(e||z.getTarget(t)))},stop:function(t){t.stopPropagation(),t.preventDefault()}};z.requestAnimationFrame=new function(){function t(){for(var e=o.length-1;e>=0;e--){var a=o[e],u=a[0],c=a[1];(!c||("true"==r.getAttribute(c,"keepalive")||s)&&U.isInView(c))&&(o.splice(e,1),u())}n&&(o.length?n(t):i=!1)}var e,n=U.getPrefixed(window,"requestAnimationFrame"),i=!1,o=[],s=!0;return z.add(window,{focus:function(){s=!0},blur:function(){s=!1}}),function(r,s){o.push([r,s]),n?i||(n(t),i=!0):e||(e=setInterval(t,1e3/60))}};var F=e.extend(n,{_class:"View",initialize:function xt(t,e){function n(t){return e[t]||parseInt(e.getAttribute(t),10)}function i(){var t=U.getSize(e);return t.isNaN()||t.isZero()?new l(n("width"),n("height")):t}this._project=t,this._scope=t._scope,this._element=e;var o;this._pixelRatio||(this._pixelRatio=window.devicePixelRatio||1),this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+xt._id++),z.add(e,this._viewEvents);var s="none";if(U.setPrefixed(e.style,{userSelect:s,touchAction:s,touchCallout:s,contentZooming:s,userDrag:s,tapHighlightColor:"rgba(0,0,0,0)"}),r.hasAttribute(e,"resize")){var a=this;z.add(window,this._windowEvents={resize:function(){a.setViewSize(i())}})}if(this._setViewSize(o=i()),r.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var u=this._stats.domElement,c=u.style,h=U.getOffset(e);c.position="absolute",c.left=h.x+"px",c.top=h.y+"px",document.body.appendChild(u)}xt._views.push(this),xt._viewsById[this._id]=this,this._viewSize=o,(this._matrix=new p)._owner=this,this._zoom=1,xt._focused||(xt._focused=this),this._frameItems={},this._frameItemCount=0},remove:function(){return this._project?(F._focused===this&&(F._focused=null),F._views.splice(F._views.indexOf(this),1),delete F._viewsById[this._id],this._project._view===this&&(this._project._view=null),z.remove(this._element,this._viewEvents),z.remove(window,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0):!1},_events:e.each(["onResize","onMouseDown","onMouseUp","onMouseMove"],function(t){this[t]={install:function(t){this._installEvent(t)},uninstall:function(t){this._uninstallEvent(t)}}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,_requestFrame:function(){var t=this;z.requestAnimationFrame(function(){t._requested=!1,t._animate&&(t._requestFrame(),t._handleFrame())},this._element),this._requested=!0},_handleFrame:function(){paper=this._scope;var t=Date.now()/1e3,n=this._before?t-this._before:0;this._before=t,this._handlingFrame=!0,this.emit("frame",new e({delta:n,time:this._time+=n,count:this._count++})),this._stats&&this._stats.update(),this._handlingFrame=!1,this.update()},_animateItem:function(t,e){var n=this._frameItems;e?(n[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var n in this._frameItems){var r=this._frameItems[n];r.item.emit("frame",new e(t,{time:r.time+=t.delta,count:r.count++}))}},_update:function(){this._project._needsUpdate=!0,this._handlingFrame||(this._animate?this._handleFrame():this.update())},_changed:function(t){1&t&&(this._project._needsUpdate=!0)},_transform:function(t){this._matrix.concatenate(t),this._bounds=null,this._update()},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new h(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=l.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._viewSize.set(t.width,t.height),this._setViewSize(t),this._bounds=null,this.emit("resize",{size:t,delta:e}),this._update())},_setViewSize:function(t){var e=this._element;e.width=t.width,e.height=t.height},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new f(new u,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=u.read(arguments);this.scrollBy(t.subtract(this.getCenter()))},getZoom:function(){return this._zoom},setZoom:function(t){this._transform((new p).scale(t/this._zoom,this.getCenter())),this._zoom=t;
},isVisible:function(){return U.isInView(this._element)},scrollBy:function(){this._transform((new p).translate(u.read(arguments).negate()))},play:function(){this._animate=!0,this._requested||this._requestFrame()},pause:function(){this._animate=!1},draw:function(){this.update()},projectToView:function(){return this._matrix._transformPoint(u.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(u.read(arguments))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return"string"==typeof e&&(e=document.getElementById(e)),new H(t,e)}}},new function(){function t(t){var e=z.getTarget(t);return e.getAttribute&&F._viewsById[e.getAttribute("id")]}function e(t,e){return t.viewToProject(z.getOffset(e,t._element))}function n(){if(!F._focused||!F._focused.isVisible())for(var t=0,e=F._views.length;e>t;t++){var n=F._views[t];if(n&&n.isVisible()){F._focused=s=n;break}}}function r(t,e,n){t._handleEvent("mousemove",e,n);var r=t._scope.tool;return r&&r._handleEvent(l&&r.responds("mousedrag")?"mousedrag":"mousemove",e,n),t.update(),r}var i,o,s,a,u,c,l=!1,h=window.navigator;h.pointerEnabled||h.msPointerEnabled?(a="pointerdown MSPointerDown",u="pointermove MSPointerMove",c="pointerup pointercancel MSPointerUp MSPointerCancel"):(a="touchstart",u="touchmove",c="touchend touchcancel","ontouchstart"in window&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(a+=" mousedown",u+=" mousemove",c+=" mouseup"));var f={"selectstart dragstart":function(t){l&&t.preventDefault()}},d={mouseout:function(t){var n=F._focused,i=z.getRelatedTarget(t);!n||i&&"HTML"!==i.nodeName||r(n,e(n,t),t)},scroll:n};f[a]=function(n){var r=F._focused=t(n),o=e(r,n);l=!0,r._handleEvent("mousedown",o,n),(i=r._scope.tool)&&i._handleEvent("mousedown",o,n),r.update()},d[u]=function(a){var u=F._focused;if(!l){var c=t(a);c?(u!==c&&r(u,e(u,a),a),o=u,u=F._focused=s=c):s&&s===u&&(u=F._focused=o,n())}if(u){var h=e(u,a);(l||u.getBounds().contains(h))&&(i=r(u,h,a))}},d[c]=function(t){var n=F._focused;if(n&&l){var r=e(n,t);l=!1,n._handleEvent("mouseup",r,t),i&&i._handleEvent("mouseup",r,t),n.update()}},z.add(document,d),z.add(window,{load:n});var p={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:f,_handleEvent:function(){},_installEvent:function(t){var e=this._eventCounters;if(e)for(var n in p)e[n]=(e[n]||0)+(p[n][t]||0)},_uninstallEvent:function(t){var e=this._eventCounters;if(e)for(var n in p)e[n]-=p[n][t]||0},statics:{updateFocus:n}}}),H=F.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof HTMLCanvasElement)){var n=l.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));e=X.getCanvas(n)}if(this._context=e.getContext("2d"),this._eventCounters={},this._pixelRatio=1,!/^off|false$/.test(r.getAttribute(e,"hidpi"))){var i=window.devicePixelRatio||1,o=U.getPrefixed(this._context,"backingStorePixelRatio")||1;this._pixelRatio=i/o}F.call(this,t,e)},_setViewSize:function(t){var e=this._element,n=this._pixelRatio,i=t.width,o=t.height;if(e.width=i*n,e.height=o*n,1!==n){if(!r.hasAttribute(e,"resize")){var s=e.style;s.width=i+"px",s.height=o+"px"}this._context.scale(n,n)}},getPixelSize:function(t){var e,n=paper.browser;if(n&&n.firefox){var r=this._element.parentNode,i=document.createElement("div");i.style.fontSize=t,r.appendChild(i),e=parseFloat(U.getStyles(i).fontSize),r.removeChild(i)}else{var o=this._context,s=o.font;o.font=t+" serif",e=parseFloat(o.font),o.font=s}return e},getTextWidth:function(t,e){var n=this._context,r=n.font,i=0;n.font=t;for(var o=0,s=e.length;s>o;o++)i=Math.max(i,n.measureText(e[o]).width);return n.font=r,i},update:function(t){var e=this._project;if(!e||!t&&!e._needsUpdate)return!1;var n=this._context,r=this._viewSize;return n.clearRect(0,0,r.width+1,r.height+1),e.draw(n,this._matrix,this._pixelRatio),e._needsUpdate=!1,!0}},new function(){function t(t,e,n,r,i,o){function s(t){return t.responds(e)&&(a||(a=new G(e,n,r,i,o?r.subtract(o):null)),t.emit(e,a)&&a.isStopped)?(n.preventDefault(),!0):void 0}for(var a,u=i;u;){if(s(u))return!0;u=u.getParent()}return s(t)?!0:!1}var e,n,r,i,o,s,a,u,c;return{_handleEvent:function(l,h,f){if(this._eventCounters[l]){var d=this._project,p=d.hitTest(h,{tolerance:0,fill:!0,stroke:!0}),g=p&&p.item,v=!1;switch(l){case"mousedown":for(v=t(this,l,f,h,g),u=o==g&&Date.now()-c<300,i=o=g,e=n=r=h,a=!v&&g;a&&!a.responds("mousedrag");)a=a._parent;break;case"mouseup":v=t(this,l,f,h,g,e),a&&(n&&!n.equals(h)&&t(this,"mousedrag",f,h,a,n),g!==a&&(r=h,t(this,"mousemove",f,h,g,r))),!v&&g&&g===i&&(c=Date.now(),t(this,u&&i.responds("doubleclick")?"doubleclick":"click",f,e,g),u=!1),i=a=null;break;case"mousemove":a&&(v=t(this,"mousedrag",f,h,a,n)),v||(g!==s&&(r=h),v=t(this,l,f,h,g,r)),n=r=h,g!==s&&(t(this,"mouseleave",f,h,s),s=g,t(this,"mouseenter",f,h,g))}return v}}}}),q=e.extend({_class:"Event",initialize:function(t){this.event=t},isPrevented:!1,isStopped:!1,preventDefault:function(){this.isPrevented=!0,this.event.preventDefault()},stopPropagation:function(){this.isStopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getModifiers:function(){return Y.modifiers}}),V=q.extend({_class:"KeyEvent",initialize:function(t,e,n,r){q.call(this,r),this.type=t?"keydown":"keyup",this.key=e,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Y=new function(){function t(r,o,c,l){var h,f=c?String.fromCharCode(c):"",d=i[o],p=d||f.toLowerCase(),g=r?"keydown":"keyup",v=F._focused,_=v&&v.isVisible()&&v._scope,m=_&&_.tool;if(u[p]=r,r?a[o]=c:delete a[o],d&&(h=e.camelize(d))in s){s[h]=r;var y=paper.browser;if("command"===h&&y&&y.mac)if(r)n={};else{for(var w in n)w in a&&t(!1,w,n[w],l);n=null}}else r&&n&&(n[o]=c);m&&m.responds(g)&&(paper=_,m.emit(g,new V(r,p,f,l)),v&&v.update())}var n,r,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"option",19:"pause",20:"caps-lock",27:"escape",32:"space",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete",91:"command",93:"command",224:"command"},o={9:!0,13:!0,32:!0},s=new e({shift:!1,control:!1,option:!1,command:!1,capsLock:!1,space:!1}),a={},u={};return z.add(document,{keydown:function(e){var n=e.which||e.keyCode;n in i||s.command?t(!0,n,n in o||s.command?n:0,e):r=n},keypress:function(e){null!=r&&(t(!0,r,e.which||e.keyCode,e),r=null)},keyup:function(e){var n=e.which||e.keyCode;n in a&&t(!1,n,a[n],e)}}),z.add(window,{blur:function(e){for(var n in a)t(!1,n,a[n],e)}}),{modifiers:s,isDown:function(t){return!!u[t]}}},G=q.extend({_class:"MouseEvent",initialize:function(t,e,n,r,i){q.call(this,e),this.type=t,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),W=q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,n){this.tool=t,this.type=e,this.event=n},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,n=e._parent;/^(Group|CompoundPath)$/.test(n._class);)e=n,n=n._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),J=i.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onActivate","onDeactivate","onEditOptions","onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onKeyDown","onKeyUp"],initialize:function(t){i.call(this),this._firstMove=!0,this._count=0,this._downCount=0,this._set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_updateEvent:function(t,e,n,r,i,o,s){if(!i){if(null!=n||null!=r){var a=null!=n?n:0,u=e.subtract(this._point),c=u.getLength();if(a>c)return!1;if(null!=r&&0!=r)if(c>r)e=this._point.add(u.normalize(r));else if(s)return!1}if(o&&e.equals(this._point))return!1}switch(this._lastPoint=i&&"mousemove"==t?e:this._point,this._point=e,t){case"mousedown":this._lastPoint=this._downPoint,this._downPoint=this._point,this._downCount++;break;case"mouseup":this._lastPoint=this._downPoint}return this._count=i?0:this._count+1,!0},_fireEvent:function(t,e){var n=paper.project._removeSets;if(n){"mouseup"===t&&(n.mousedrag=null);var r=n[t];if(r){for(var i in r){var o=r[i];for(var s in n){var a=n[s];a&&a!=r&&delete a[o._id]}o.remove()}n[t]=null}}return this.responds(t)&&this.emit(t,new W(this,t,e))},_handleEvent:function(t,e,n){paper=this._scope;var r=!1;switch(t){case"mousedown":this._updateEvent(t,e,null,null,!0,!1,!1),r=this._fireEvent(t,n);break;case"mousedrag":for(var i=!1,o=!1;this._updateEvent(t,e,this.minDistance,this.maxDistance,!1,i,o);)r=this._fireEvent(t,n)||r,i=!0,o=!0;break;case"mouseup":!e.equals(this._point)&&this._updateEvent("mousedrag",e,this.minDistance,this.maxDistance,!1,!1,!1)&&(r=this._fireEvent("mousedrag",n)),this._updateEvent(t,e,null,this.maxDistance,!1,!1,!1),r=this._fireEvent(t,n)||r,this._updateEvent(t,e,null,null,!0,!1,!1),this._firstMove=!0;break;case"mousemove":for(;this._updateEvent(t,e,this.minDistance,this.maxDistance,this._firstMove,!0,!1);)r=this._fireEvent(t,n)||r,this._firstMove=!1}return r&&n.preventDefault(),r}}),Z={request:function(e,n,r,i){i=i===t?!0:i;var o=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");return o.open(e.toUpperCase(),n,i),"overrideMimeType"in o&&o.overrideMimeType("text/plain"),o.onreadystatechange=function(){if(4===o.readyState){var t=o.status;if(0!==t&&200!==t)throw new Error("Could not load "+n+" (Error "+t+")");r.call(o,o.responseText)}},o.send(null)}},X={canvases:[],getCanvas:function(t,e){var n,r=!0;"object"==typeof t&&(e=t.height,t=t.width),n=this.canvases.length?this.canvases.pop():document.createElement("canvas");var i=n.getContext("2d");return n.width===t&&n.height===e?r&&i.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),i.save(),n},getContext:function(t,e){return this.getCanvas(t,e).getContext("2d")},release:function(t){var e=t.canvas?t.canvas:t;e.getContext("2d").restore(),this.canvases.push(e)}},K=new function(){function t(t,e,n){return.2989*t+.587*e+.114*n}function n(e,n,r,i){var o=i-t(e,n,r);d=e+o,p=n+o,g=r+o;var i=t(d,p,g),s=v(d,p,g),a=_(d,p,g);if(0>s){var u=i-s;d=i+(d-i)*i/u,p=i+(p-i)*i/u,g=i+(g-i)*i/u}if(a>255){var c=255-i,l=a-i;d=i+(d-i)*c/l,p=i+(p-i)*c/l,g=i+(g-i)*c/l}}function r(t,e,n){return _(t,e,n)-v(t,e,n)}function i(t,e,n,r){var i,o=[t,e,n],s=_(t,e,n),a=v(t,e,n);a=a===t?0:a===e?1:2,s=s===t?0:s===e?1:2,i=0===v(a,s)?1===_(a,s)?2:1:0,o[s]>o[a]?(o[i]=(o[i]-o[a])*r/(o[s]-o[a]),o[s]=r):o[i]=o[s]=0,o[a]=0,d=o[0],p=o[1],g=o[2]}var o,s,a,u,c,l,h,f,d,p,g,v=Math.min,_=Math.max,m=Math.abs,y={multiply:function(){d=c*o/255,p=l*s/255,g=h*a/255},screen:function(){d=c+o-c*o/255,p=l+s-l*s/255,g=h+a-h*a/255},overlay:function(){d=128>c?2*c*o/255:255-2*(255-c)*(255-o)/255,p=128>l?2*l*s/255:255-2*(255-l)*(255-s)/255,g=128>h?2*h*a/255:255-2*(255-h)*(255-a)/255},"soft-light":function(){var t=o*c/255;d=t+c*(255-(255-c)*(255-o)/255-t)/255,t=s*l/255,p=t+l*(255-(255-l)*(255-s)/255-t)/255,t=a*h/255,g=t+h*(255-(255-h)*(255-a)/255-t)/255},"hard-light":function(){d=128>o?2*o*c/255:255-2*(255-o)*(255-c)/255,p=128>s?2*s*l/255:255-2*(255-s)*(255-l)/255,g=128>a?2*a*h/255:255-2*(255-a)*(255-h)/255},"color-dodge":function(){d=0===c?0:255===o?255:v(255,255*c/(255-o)),p=0===l?0:255===s?255:v(255,255*l/(255-s)),g=0===h?0:255===a?255:v(255,255*h/(255-a))},"color-burn":function(){d=255===c?255:0===o?0:_(0,255-255*(255-c)/o),p=255===l?255:0===s?0:_(0,255-255*(255-l)/s),g=255===h?255:0===a?0:_(0,255-255*(255-h)/a)},darken:function(){d=o>c?c:o,p=s>l?l:s,g=a>h?h:a},lighten:function(){d=c>o?c:o,p=l>s?l:s,g=h>a?h:a},difference:function(){d=c-o,0>d&&(d=-d),p=l-s,0>p&&(p=-p),g=h-a,0>g&&(g=-g)},exclusion:function(){d=c+o*(255-c-c)/255,p=l+s*(255-l-l)/255,g=h+a*(255-h-h)/255},hue:function(){i(o,s,a,r(c,l,h)),n(d,p,g,t(c,l,h))},saturation:function(){i(c,l,h,r(o,s,a)),n(d,p,g,t(c,l,h))},luminosity:function(){n(c,l,h,t(o,s,a))},color:function(){n(o,s,a,t(c,l,h))},add:function(){d=v(c+o,255),p=v(l+s,255),g=v(h+a,255)},subtract:function(){d=_(c-o,0),p=_(l-s,0),g=_(h-a,0)},average:function(){d=(c+o)/2,p=(l+s)/2,g=(h+a)/2},negation:function(){d=255-m(255-o-c),p=255-m(255-s-l),g=255-m(255-a-h)}},w=this.nativeModes=e.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),b=X.getContext(1,1);e.each(y,function(t,e){var n="darken"===e,r=!1;b.save();try{b.fillStyle=n?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=n?"#a00":"#300",b.fillRect(0,0,1,1),r=b.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(i){}b.restore(),w[e]=r}),X.release(b),this.process=function(t,e,n,r,i){var v=e.canvas,_="normal"===t;if(_||w[t])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=r,_||(n.globalCompositeOperation=t),n.drawImage(v,i.x,i.y),n.restore();else{var m=y[t];if(!m)return;for(var b=n.getImageData(i.x,i.y,v.width,v.height),x=b.data,$=e.getImageData(0,0,v.width,v.height).data,S=0,C=x.length;C>S;S+=4){o=$[S],c=x[S],s=$[S+1],l=x[S+1],a=$[S+2],h=x[S+2],u=$[S+3],f=x[S+3],m();var E=u*r/255,A=1-E;x[S]=E*d+A*c,x[S+1]=E*p+A*l,x[S+2]=E*g+A*h,x[S+3]=u*r+A*f}n.putImageData(b,i.x,i.y)}}},Q=e.each({fillColor:["fill","color"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof O||t instanceof b||t instanceof j)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","string"]},function(t,n){var r=e.capitalize(n),i=t[2];this[n]={type:t[1],property:n,attribute:t[0],toSVG:i,fromSVG:i&&e.each(i,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+r,set:"set"+r}},{}),tt={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"};return new function(){function t(t,e){for(var n in e){var r=e[n],i=tt[n];"number"==typeof r&&(r=x.number(r)),i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}return t}function n(e,n){return t(document.createElementNS("http://www.w3.org/2000/svg",e),n)}function r(t,n,r){var i=new e,o=t.getTranslation();if(n){t=t.shiftless();var a=t._inverseTransform(o);i[r?"cx":"x"]=a.x,i[r?"cy":"y"]=a.y,o=null}if(!t.isIdentity()){var u=t.decompose();if(u&&!u.shearing){var c=[],l=u.rotation,h=u.scaling;o&&!o.isZero()&&c.push("translate("+x.point(o)+")"),s.isZero(h.x-1)&&s.isZero(h.y-1)||c.push("scale("+x.point(h)+")"),l&&c.push("rotate("+x.number(l)+")"),i.transform=c.join(" ")}else i.transform="matrix("+t.getValues().join(",")+")"}return i}function i(e,i){for(var o=r(e._matrix),s=e._children,a=n("g",o),u=0,c=s.length;c>u;u++){var l=s[u],h=w(l,i);if(h)if(l.isClipMask()){var f=n("clipPath");f.appendChild(h),_(l,f,"clip"),t(a,{"clip-path":"url(#"+f.id+")"})}else a.appendChild(h)}return a}function a(t,e){var i=r(t._matrix,!0),o=t.getSize(),s=t.getImage();return i.x-=o.width/2,i.y-=o.height/2,i.width=o.width,i.height=o.height,i.href=e.embedImages===!1&&s&&s.src||t.toDataURL(),n("image",i)}function u(t,e){var i=e.matchShapes;if(i){var o=t.toShape(!1);if(o)return c(o,e)}var s,a=t._segments,u=r(t._matrix);if(0===a.length)return null;if(i&&!t.hasHandles())if(a.length>=3){s=t._closed?"polygon":"polyline";for(var l=[],h=0,f=a.length;f>h;h++)l.push(x.point(a[h]._point));u.points=l.join(" ")}else{s="line";var d=a[0]._point,p=a[a.length-1]._point;u.set({x1:d.x,y1:d.y,x2:p.x,y2:p.y})}else s="path",u.d=t.getPathData(null,e.precision);return n(s,u)}function c(t){var e=t._type,i=t._radius,o=r(t._matrix,!0,"rectangle"!==e);if("rectangle"===e){e="rect";var s=t._size,a=s.width,u=s.height;o.x-=a/2,o.y-=u/2,o.width=a,o.height=u,i.isZero()&&(i=null)}return i&&("circle"===e?o.r=i:(o.rx=i.width,o.ry=i.height)),n(e,o)}function l(t,e){var i=r(t._matrix),o=t.getPathData(null,e.precision);return o&&(i.d=o),n("path",i)}function h(t,e){var i=r(t._matrix,!0),o=t.getSymbol(),s=g(o,"symbol"),a=o.getDefinition(),u=a.getBounds();return s||(s=n("symbol",{viewBox:x.rectangle(u)}),s.appendChild(w(a,e)),_(o,s,"symbol")),i.href="#"+s.id,i.x+=u.x,i.y+=u.y,i.width=x.number(u.width),i.height=x.number(u.height),i.overflow="visible",n("use",i)}function f(t){var e=g(t,"color");if(!e){var r,i=t.getGradient(),o=i._radial,s=t.getOrigin().transform(),a=t.getDestination().transform();if(o){r={cx:s.x,cy:s.y,r:s.getDistance(a)};var u=t.getHighlight();u&&(u=u.transform(),r.fx=u.x,r.fy=u.y)}else r={x1:s.x,y1:s.y,x2:a.x,y2:a.y};r.gradientUnits="userSpaceOnUse",e=n((o?"radial":"linear")+"Gradient",r);for(var c=i._stops,l=0,h=c.length;h>l;l++){var f=c[l],d=f._color,p=d.getAlpha();r={offset:f._rampPoint,"stop-color":d.toCSS(!0)},1>p&&(r["stop-opacity"]=p),e.appendChild(n("stop",r))}_(t,e,"color")}return"url(#"+e.id+")"}function d(t){var e=n("text",r(t._matrix,!0));return e.textContent=t._content,e}function p(n,r,i){var o={},s=!i&&n.getParent();return null!=n._name&&(o.id=n._name),e.each(Q,function(t){var r=t.get,i=t.type,a=n[r]();if(t.exportFilter?t.exportFilter(n,a):!s||!e.equals(s[r](),a)){if("color"===i&&null!=a){var u=a.getAlpha();1>u&&(o[t.attribute+"-opacity"]=u)}o[t.attribute]=null==a?"none":"number"===i?x.number(a):"color"===i?a.gradient?f(a,n):a.toCSS(!0):"array"===i?a.join(","):"lookup"===i?t.toSVG[a]:a}}),1===o.opacity&&delete o.opacity,n._visible||(o.visibility="hidden"),t(r,o)}function g(t,e){return $||($={ids:{},svgs:{}}),t&&$.svgs[e+"-"+t._id]}function _(t,e,n){$||g();var r=$.ids[n]=($.ids[n]||0)+1;e.id=n+"-"+r,$.svgs[n+"-"+t._id]=e}function y(t,e){var r=t,i=null;if($){r="svg"===t.nodeName.toLowerCase()&&t;for(var o in $.svgs)i||(r||(r=n("svg"),r.appendChild(t)),i=r.insertBefore(n("defs"),r.firstChild)),i.appendChild($.svgs[o]);$=null}return e.asString?(new XMLSerializer).serializeToString(r):r}function w(t,e,n){var r=S[t._class],i=r&&r(t,e);if(i){var o=e.onExport;o&&(i=o(t,i,e)||i);var s=JSON.stringify(t._data);s&&"{}"!==s&&"null"!==s&&i.setAttribute("data-paper-data",s)}return i&&p(t,i,n)}function b(t){return t||(t={}),x=new o(t.precision),t}var x,$,S={Group:i,Layer:i,Raster:a,Path:u,Shape:c,CompoundPath:l,PlacedSymbol:h,PointText:d};m.inject({exportSVG:function(t){return t=b(t),y(w(this,t,!0),t)}}),v.inject({exportSVG:function(t){t=b(t);var e=this.layers,i=this.getView(),o=i.getViewSize(),s=n("svg",{x:0,y:0,width:o.width,height:o.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),a=s,u=i._matrix;u.isIdentity()||(a=s.appendChild(n("g",r(u))));for(var c=0,l=e.length;l>c;c++)a.appendChild(w(e[c],t,!0));return y(s,t)}})},new function(){function n(t,e,n,r){var i=tt[e],o=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===o&&(o=null),null==o?r?null:n?"":0:n?o:parseFloat(o)}function r(t,e,r,i){return e=n(t,e,!1,i),r=n(t,r,!1,i),!i||null!=e&&null!=r?new u(e,r):null}function i(t,e,r,i){return e=n(t,e,!1,i),r=n(t,r,!1,i),!i||null!=e&&null!=r?new l(e,r):null}function o(t,e,n){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?S(t)||t:"lookup"===e?n[t]:t}function s(t,e,n,r){var i=t.childNodes,o="clippath"===e,s=new y,a=s._project,u=a._currentStyle,c=[];if(o||(s=$(s,t,r),a._currentStyle=s._style.clone()),r)for(var l=t.querySelectorAll("defs"),h=0,f=l.length;f>h;h++)C(l[h],n,!1);for(var h=0,f=i.length;f>h;h++){var d,p=i[h];1!==p.nodeType||"defs"===p.nodeName.toLowerCase()||!(d=C(p,n,!1))||d instanceof _||c.push(d)}return s.addChildren(c),o&&(s=$(s.reduce(),t,r)),a._currentStyle=u,(o||"defs"===e)&&(s.remove(),s=null),s}function a(t,e){for(var n=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,o=n.length;o>i;i+=2)r.push(new u(parseFloat(n[i]),parseFloat(n[i+1])));var s=new T(r);return"polygon"===e&&s.closePath(),s}function c(t){var e=t.getAttribute("d"),n={pathData:e};return(e.match(/m/gi)||[]).length>1||/z\S+/i.test(e)?new P(n):new T(n)}function h(t,e){var i,o=(n(t,"href",!0)||"").substring(1),s="radialgradient"===e;if(o)i=k[o].getGradient();else{for(var a=t.childNodes,u=[],c=0,l=a.length;l>c;c++){var h=a[c];1===h.nodeType&&u.push($(new N,h))}i=new B(u,s)}var f,d,p;return s?(f=r(t,"cx","cy"),d=f.add(n(t,"r"),0),p=r(t,"fx","fy",!0)):(f=r(t,"x1","y1"),d=r(t,"x2","y2")),$(new D(i,f,d,p),t),null}function d(t,e,n,r){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),o=new p,s=0,a=i.length;a>s;s++){var u=i[s];if(!u)break;for(var c=u.split(/\(\s*/),l=c[0],h=c[1].split(/[\s,]+/g),f=0,d=h.length;d>f;f++)h[f]=parseFloat(h[f]);switch(l){case"matrix":o.concatenate(new p(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":o.rotate(h[0],h[1],h[2]);break;case"translate":o.translate(h[0],h[1]);break;case"scale":o.scale(h);break;case"skewX":o.skew(h[0],0);break;case"skewY":o.skew(0,h[0])}}t.transform(o)}function g(t,e,n){var r=t["fill-opacity"===n?"getFillColor":"getStrokeColor"]();r&&r.setAlpha(parseFloat(e))}function w(n,r,i){var o=n.attributes[r],s=o&&o.value;if(!s){var a=e.camelize(r);s=n.style[a],s||i.node[a]===i.parent[a]||(s=i.node[a])}return s?"none"===s?null:s:t}function $(n,r,i){var o={node:U.getStyles(r)||{},parent:!i&&U.getStyles(r.parentNode)||{}};return e.each(A,function(i,s){var a=w(r,s,o);a!==t&&(n=e.pick(i(n,a,s,r,o),n))}),n}function S(t){var e=t&&t.match(/\((?:#|)([^)']+)/);return e&&k[e[1]]}function C(t,n,r){function i(t){paper=s;var e=C(t,n,r),i=n.onLoad,o=s.project&&s.getView();i&&i.call(this,e),o.update()}if(!t)return null;n?"function"==typeof n&&(n={onLoad:n}):n={};var o=t,s=paper;if(r)if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var a=new FileReader;return a.onload=function(){i(a.result)},a.readAsText(t)}}else{if(o=document.getElementById(t),!o)return Z.request("get",t,i);t=null}if("string"==typeof t&&(o=(new DOMParser).parseFromString(t,"image/svg+xml")),!o.nodeName)throw new Error("Unsupported SVG source: "+t);var u,c=o.nodeName.toLowerCase(),l=E[c],h=o.getAttribute&&o.getAttribute("data-paper-data"),f=s.settings,d=f.applyMatrix;if(f.applyMatrix=!1,u=l&&l(o,c,n,r)||null,f.applyMatrix=d,u){"#document"===c||u instanceof y||(u=$(u,o,r));var p=n.onImport;p&&(u=p(o,u,n)||u),n.expandShapes&&u instanceof b&&(u.remove(),u=u.toPath()),h&&(u._data=JSON.parse(h))}return r&&(k={},u&&e.pick(n.applyMatrix,d)&&u.matrix.apply(!0,!0)),u}var E={"#document":function(t,e,n,r){for(var i=t.childNodes,o=0,s=i.length;s>o;o++){var a=i[o];if(1===a.nodeType){var u=a.nextSibling;document.body.appendChild(a);var c=C(a,n,r);return u?t.insertBefore(a,u):t.appendChild(a),c}}},g:s,svg:s,clippath:s,polygon:a,polyline:a,path:c,lineargradient:h,radialgradient:h,image:function(t){var e=new x(n(t,"href",!0));return e.on("load",function(){var e=i(t,"width","height");this.setSize(e);var n=this._matrix._transformPoint(r(t,"x","y").add(e.divide(2)));this.translate(n)}),e},symbol:function(t,e,n,r){return new _(s(t,e,n,r),!0)},defs:s,use:function(t){var e=(n(t,"href",!0)||"").substring(1),i=k[e],o=r(t,"x","y");return i?i instanceof _?i.place(o):i.clone().translate(o):null},circle:function(t){return new b.Circle(r(t,"cx","cy"),n(t,"r"))},ellipse:function(t){return new b.Ellipse({center:r(t,"cx","cy"),radius:i(t,"rx","ry")})},rect:function(t){var e=r(t,"x","y"),n=i(t,"width","height"),o=i(t,"rx","ry");return new b.Rectangle(new f(e,n),o)},line:function(t){return new T.Line(r(t,"x1","y1"),r(t,"x2","y2"))},text:function(t){var e=new R(r(t,"x","y").add(r(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e}},A=e.set(e.each(Q,function(t){this[t.attribute]=function(e,n){if(e[t.set](o(n,t.type,t.fromSVG)),"color"===t.type&&e instanceof b){var r=e[t.get]();r&&r.transform((new p).translate(e.getPosition(!0).negate()))}}},{}),{id:function(t,e){k[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var n=S(e);if(n){if(n=n.clone(),n.setClipMask(!0),!(t instanceof y))return new y(n,t);t.insertChild(0,n)}},gradientTransform:d,transform:d,"fill-opacity":g,"stroke-opacity":g,visibility:function(t,e){t.setVisible("visible"===e)},display:function(t,e){t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){var n=e.match(/(.*)%$/);t.setRampPoint(n?n[1]/100:parseFloat(e))},viewBox:function(t,e,n,r,s){var a=new f(o(e,"array")),u=i(r,"width","height",!0);if(t instanceof y){var c=u?a.getSize().divide(u):1,l=(new p).translate(a.getPoint()).scale(c);t.transform(l.inverted())}else if(t instanceof _){u&&a.setSize(u);var h="visible"!=w(r,"overflow",s),d=t._definition;h&&!a.contains(d.getBounds())&&(h=new b.Rectangle(a).transform(d._matrix),h.setClipMask(!0),d.addChild(h))}}}),k={};m.inject({importSVG:function(t,e){return this.addChild(C(t,e,!0))}}),v.inject({importSVG:function(t,e){return this.activate(),C(t,e,!0)}})},e.exports.PaperScript=function(){function t(t,e,n){var r=g[e];if(t&&t[r]){var i=t[r](n);return"!="===e?!i:i}switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"==":return t==n;case"!=":return t!=n}}function n(t,e){var n=v[t];if(n&&e&&e[n])return e[n]();switch(t){case"+":return+e;case"-":return-e}}function i(t,e){return p.acorn.parse(t,e)}function o(t,e,n){function r(t){for(var e=0,n=c.length;n>e;e++){var r=c[e];if(r[0]>=t)break;t+=r[1]}return t}function o(e){return t.substring(r(e.range[0]),r(e.range[1]))}function s(e,n){return t.substring(r(e.range[1]),r(n.range[0]))}function a(e,n){for(var i=r(e.range[0]),o=r(e.range[1]),s=0,a=c.length-1;a>=0;a--)if(i>c[a][0]){s=a+1;break}c.splice(s,0,[i,n.length-o+i]),t=t.substring(0,i)+n+t.substring(o)}function u(t,e){if(t){for(var n in t)if("range"!==n&&"loc"!==n){var r=t[n];if(Array.isArray(r))for(var i=0,c=r.length;c>i;i++)u(r[i],t);else r&&"object"==typeof r&&u(r,t)}switch(t.type){case"UnaryExpression":if(t.operator in v&&"Literal"!==t.argument.type){var l=o(t.argument);a(t,'$__("'+t.operator+'", '+l+")")}break;case"BinaryExpression":if(t.operator in g&&"Literal"!==t.left.type){var h=o(t.left),f=o(t.right),d=s(t.left,t.right),p=t.operator;a(t,"__$__("+h+","+d.replace(new RegExp("\\"+p),'"'+p+'"')+", "+f+")")}break;case"UpdateExpression":case"AssignmentExpression":var _=e&&e.type;if(!("ForStatement"===_||"BinaryExpression"===_&&/^[=!<>]/.test(e.operator)||"MemberExpression"===_&&e.computed))if("UpdateExpression"===t.type){var l=o(t.argument),m="__$__("+l+', "'+t.operator[0]+'", 1)',y=l+" = "+m;t.prefix||"AssignmentExpression"!==_&&"VariableDeclarator"!==_||(o(e.left||e.id)===l&&(y=m),y=l+"; "+y),a(t,y)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var h=o(t.left),f=o(t.right);a(t,h+" = __$__("+h+', "'+t.operator[0]+'", '+f+")")}}}}if(!t)return"";n=n||{},e=e||"";var c=[],l=null,h=paper.browser,f=h.versionNumber,d=/\r\n|\n|\r/gm;if(h.chrome&&f>=30||h.webkit&&f>=537.76||h.firefox&&f>=23){var p=0;if(0===window.location.href.indexOf(e)){var _=document.getElementsByTagName("html")[0].innerHTML;p=_.substr(0,_.indexOf(t)+1).match(d).length+1}var m=["AAAA"];m.length=(t.match(d)||[]).length+1+p,l={version:3,file:e,names:[],mappings:m.join(";AACA"),sourceRoot:"",sources:[e]};var y=n.source||!e&&t;y&&(l.sourcesContent=[y])}return u(i(t,{ranges:!0})),l&&(t=new Array(p+1).join("\n")+t+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+"\n//# sourceURL="+(e||"paperscript")),t}function s(r,i,s,a){function c(t,e){for(var n in t)!e&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(r)||(g.push(n),v.push(t[n]))}paper=i;var l,h=i.getView(),f=/\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(r)?new J:null,d=f?f._events:[],p=["onFrame","onResize"].concat(d),g=[],v=[];r=o(r,s,a),c({__$__:t,$__:n,paper:i,view:h,tool:f},!0),c(i),p=e.each(p,function(t){new RegExp("\\s+"+t+"\\b").test(r)&&(g.push(t),this.push(t+": "+t))},[]).join(", "),p&&(r+="\nreturn { "+p+" };");var _=paper.browser;if(_.chrome||_.firefox){var m=document.createElement("script"),y=document.head||document.getElementsByTagName("head")[0];_.firefox&&(r="\n"+r),m.appendChild(document.createTextNode("paper._execute = function("+g+") {"+r+"\n}")),y.appendChild(m),l=paper._execute,delete paper._execute,y.removeChild(m)}else l=Function(g,r);var w=l.apply(i,v)||{};e.each(d,function(t){var e=w[t];e&&(f[t]=e)}),h&&(w.onResize&&h.setOnResize(w.onResize),h.emit("resize",{size:h.size,delta:new u}),w.onFrame&&h.setOnFrame(w.onFrame),h.update())}function a(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==r.getAttribute(t,"ignore")){var e=r.getAttribute(t,"canvas"),n=document.getElementById(e),i=t.src||t.getAttribute("data-src"),o=r.hasAttribute(t,"async"),a="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+e+'"');var u=r.get(n.getAttribute(a))||(new r).setup(n);return n.setAttribute(a,u._id),i?Z.request("get",i,function(t){s(t,u,i)},o):s(t.innerHTML,u,t.baseURI),t.setAttribute("data-paper-ignore","true"),u}}function c(){e.each(document.getElementsByTagName("script"),a)}function h(t){return t?a(t):c()}var f,d,p=this;!function(t,e){return"object"==typeof f&&"object"==typeof module?e(f):"function"==typeof d&&d.amd?d(["exports"],e):void e(t.acorn||(t.acorn={}))}(this,function(t){"use strict";function e(t){ht=t||{};for(var e in gt)Object.prototype.hasOwnProperty.call(ht,e)||(ht[e]=gt[e]);pt=ht.sourceFile||null}function n(t,e){var n=vt(ft,t);e+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=n,r.raisedAt=_t,r}function r(t){function e(t){if(1==t.length)return n+="return str === "+JSON.stringify(t[0])+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case "+JSON.stringify(t[e])+":";n+="return true}return false;"}t=t.split(" ");var n="",r=[];t:for(var i=0;i<t.length;++i){for(var o=0;o<r.length;++o)if(r[o][0].length==t[i].length){r[o].push(t[i]);continue t}r.push([t[i]])}if(r.length>3){
r.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var i=0;i<r.length;++i){var s=r[i];n+="case "+s[0].length+":",e(s)}n+="}"}else e(t);return new Function("str",n)}function i(){this.line=Ct,this.column=_t-Et}function o(){Ct=1,_t=Et=0,St=!0,c()}function s(t,e){yt=_t,ht.locations&&(bt=new i),xt=t,c(),$t=e,St=t.beforeExpr}function a(){var t=ht.onComment&&ht.locations&&new i,e=_t,r=ft.indexOf("*/",_t+=2);if(-1===r&&n(_t-2,"Unterminated comment"),_t=r+2,ht.locations){Ze.lastIndex=e;for(var o;(o=Ze.exec(ft))&&o.index<_t;)++Ct,Et=o.index+o[0].length}ht.onComment&&ht.onComment(!0,ft.slice(e+2,r),e,_t,t,ht.locations&&new i)}function u(){for(var t=_t,e=ht.onComment&&ht.locations&&new i,n=ft.charCodeAt(_t+=2);dt>_t&&10!==n&&13!==n&&8232!==n&&8233!==n;)++_t,n=ft.charCodeAt(_t);ht.onComment&&ht.onComment(!1,ft.slice(t+2,_t),t,_t,e,ht.locations&&new i)}function c(){for(;dt>_t;){var t=ft.charCodeAt(_t);if(32===t)++_t;else if(13===t){++_t;var e=ft.charCodeAt(_t);10===e&&++_t,ht.locations&&(++Ct,Et=_t)}else if(10===t||8232===t||8233===t)++_t,ht.locations&&(++Ct,Et=_t);else if(t>8&&14>t)++_t;else if(47===t){var e=ft.charCodeAt(_t+1);if(42===e)a();else{if(47!==e)break;u()}}else if(160===t)++_t;else{if(!(t>=5760&&qe.test(String.fromCharCode(t))))break;++_t}}}function l(){var t=ft.charCodeAt(_t+1);return t>=48&&57>=t?S(!0):(++_t,s(we))}function h(){var t=ft.charCodeAt(_t+1);return St?(++_t,b()):61===t?w(Se,2):w(xe,1)}function f(){var t=ft.charCodeAt(_t+1);return 61===t?w(Se,2):w(De,1)}function d(t){var e=ft.charCodeAt(_t+1);return e===t?w(124===t?ke:Oe,2):61===e?w(Se,2):w(124===t?Te:Me,1)}function p(){var t=ft.charCodeAt(_t+1);return 61===t?w(Se,2):w(Pe,1)}function g(t){var e=ft.charCodeAt(_t+1);return e===t?45==e&&62==ft.charCodeAt(_t+2)&&Je.test(ft.slice(kt,_t))?(_t+=3,u(),c(),y()):w(Ee,2):61===e?w(Se,2):w(Ce,1)}function v(t){var e=ft.charCodeAt(_t+1),n=1;return e===t?(n=62===t&&62===ft.charCodeAt(_t+2)?3:2,61===ft.charCodeAt(_t+n)?w(Se,n+1):w(Re,n)):33==e&&60==t&&45==ft.charCodeAt(_t+2)&&45==ft.charCodeAt(_t+3)?(_t+=4,u(),c(),y()):(61===e&&(n=61===ft.charCodeAt(_t+2)?3:2),w(je,n))}function _(t){var e=ft.charCodeAt(_t+1);return 61===e?w(Ie,61===ft.charCodeAt(_t+2)?3:2):w(61===t?$e:Ae,1)}function m(t){switch(t){case 46:return l();case 40:return++_t,s(ge);case 41:return++_t,s(ve);case 59:return++_t,s(me);case 44:return++_t,s(_e);case 91:return++_t,s(he);case 93:return++_t,s(fe);case 123:return++_t,s(de);case 125:return++_t,s(pe);case 58:return++_t,s(ye);case 63:return++_t,s(be);case 48:var e=ft.charCodeAt(_t+1);if(120===e||88===e)return $();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return S(!1);case 34:case 39:return C(t);case 47:return h(t);case 37:case 42:return f();case 124:case 38:return d(t);case 94:return p();case 43:case 45:return g(t);case 60:case 62:return v(t);case 61:case 33:return _(t);case 126:return w(Ae,1)}return!1}function y(t){if(t?_t=mt+1:mt=_t,ht.locations&&(wt=new i),t)return b();if(_t>=dt)return s(Nt);var e=ft.charCodeAt(_t);if(Xe(e)||92===e)return k();var r=m(e);if(r===!1){var o=String.fromCharCode(e);if("\\"===o||Ge.test(o))return k();n(_t,"Unexpected character '"+o+"'")}return r}function w(t,e){var n=ft.slice(_t,_t+e);_t+=e,s(t,n)}function b(){for(var t,e,r="",i=_t;;){_t>=dt&&n(i,"Unterminated regular expression");var o=ft.charAt(_t);if(Je.test(o)&&n(i,"Unterminated regular expression"),t)t=!1;else{if("["===o)e=!0;else if("]"===o&&e)e=!1;else if("/"===o&&!e)break;t="\\"===o}++_t}var r=ft.slice(i,_t);++_t;var a=A();return a&&!/^[gmsiy]*$/.test(a)&&n(i,"Invalid regexp flag"),s(Rt,new RegExp(r,a))}function x(t,e){for(var n=_t,r=0,i=0,o=null==e?1/0:e;o>i;++i){var s,a=ft.charCodeAt(_t);if(s=a>=97?a-97+10:a>=65?a-65+10:a>=48&&57>=a?a-48:1/0,s>=t)break;++_t,r=r*t+s}return _t===n||null!=e&&_t-n!==e?null:r}function $(){_t+=2;var t=x(16);return null==t&&n(mt+2,"Expected hexadecimal number"),Xe(ft.charCodeAt(_t))&&n(_t,"Identifier directly after number"),s(jt,t)}function S(t){var e=_t,r=!1,i=48===ft.charCodeAt(_t);t||null!==x(10)||n(e,"Invalid number"),46===ft.charCodeAt(_t)&&(++_t,x(10),r=!0);var o=ft.charCodeAt(_t);(69===o||101===o)&&(o=ft.charCodeAt(++_t),(43===o||45===o)&&++_t,null===x(10)&&n(e,"Invalid number"),r=!0),Xe(ft.charCodeAt(_t))&&n(_t,"Identifier directly after number");var a,u=ft.slice(e,_t);return r?a=parseFloat(u):i&&1!==u.length?/[89]/.test(u)||Mt?n(e,"Invalid number"):a=parseInt(u,8):a=parseInt(u,10),s(jt,a)}function C(t){_t++;for(var e="";;){_t>=dt&&n(mt,"Unterminated string constant");var r=ft.charCodeAt(_t);if(r===t)return++_t,s(Dt,e);if(92===r){r=ft.charCodeAt(++_t);var i=/^[0-7]+/.exec(ft.slice(_t,_t+3));for(i&&(i=i[0]);i&&parseInt(i,8)>255;)i=i.slice(0,i.length-1);if("0"===i&&(i=null),++_t,i)Mt&&n(_t-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(i,8)),_t+=i.length-1;else switch(r){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(E(2));break;case 117:e+=String.fromCharCode(E(4));break;case 85:e+=String.fromCharCode(E(8));break;case 116:e+="	";break;case 98:e+="\b";break;case 118:e+="";break;case 102:e+="\f";break;case 48:e+="\x00";break;case 13:10===ft.charCodeAt(_t)&&++_t;case 10:ht.locations&&(Et=_t,++Ct);break;default:e+=String.fromCharCode(r)}}else(13===r||10===r||8232===r||8233===r)&&n(mt,"Unterminated string constant"),e+=String.fromCharCode(r),++_t}}function E(t){var e=x(16,t);return null===e&&n(mt,"Bad character escape sequence"),e}function A(){Ne=!1;for(var t,e=!0,r=_t;;){var i=ft.charCodeAt(_t);if(Ke(i))Ne&&(t+=ft.charAt(_t)),++_t;else{if(92!==i)break;Ne||(t=ft.slice(r,_t)),Ne=!0,117!=ft.charCodeAt(++_t)&&n(_t,"Expecting Unicode escape sequence \\uXXXX"),++_t;var o=E(4),s=String.fromCharCode(o);s||n(_t-1,"Invalid Unicode escape"),(e?Xe(o):Ke(o))||n(_t-4,"Invalid Unicode escape"),t+=s}e=!1}return Ne?t:ft.slice(r,_t)}function k(){var t=A(),e=Bt;return Ne||(He(t)?e=le[t]:(ht.forbidReserved&&(3===ht.ecmaVersion?Le:Ue)(t)||Mt&&ze(t))&&n(mt,"The keyword '"+t+"' is reserved")),s(e,t)}function O(){At=mt,kt=yt,Ot=bt,y()}function T(t){if(Mt=t,_t=kt,ht.locations)for(;Et>_t;)Et=ft.lastIndexOf("\n",Et-2)+1,--Ct;c(),y()}function P(){this.type=null,this.start=mt,this.end=null}function M(){this.start=wt,this.end=null,null!==pt&&(this.source=pt)}function I(){var t=new P;return ht.locations&&(t.loc=new M),ht.ranges&&(t.range=[mt,0]),t}function j(t){var e=new P;return e.start=t.start,ht.locations&&(e.loc=new M,e.loc.start=t.loc.start),ht.ranges&&(e.range=[t.range[0],0]),e}function R(t,e){return t.type=e,t.end=kt,ht.locations&&(t.loc.end=Ot),ht.ranges&&(t.range[1]=kt),t}function D(t){return ht.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function B(t){return xt===t?(O(),!0):void 0}function N(){return!ht.strictSemicolons&&(xt===Nt||xt===pe||Je.test(ft.slice(kt,mt)))}function L(){B(me)||N()||z()}function U(t){xt===t?O():z()}function z(){n(mt,"Unexpected token")}function F(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&n(t.start,"Assigning to rvalue"),Mt&&"Identifier"===t.type&&Fe(t.name)&&n(t.start,"Assigning to "+t.name+" in strict mode")}function H(t){At=kt=_t,ht.locations&&(Ot=new i),Tt=Mt=null,Pt=[],y();var e=t||I(),n=!0;for(t||(e.body=[]);xt!==Nt;){var r=q();e.body.push(r),n&&D(r)&&T(!0),n=!1}return R(e,"Program")}function q(){(xt===xe||xt===Se&&"/="==$t)&&y(!0);var t=xt,e=I();switch(t){case Lt:case Ft:O();var r=t===Lt;B(me)||N()?e.label=null:xt!==Bt?z():(e.label=lt(),L());for(var i=0;i<Pt.length;++i){var o=Pt[i];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(r||"loop"===o.kind))break;if(e.label&&r)break}}return i===Pt.length&&n(e.start,"Unsyntactic "+t.keyword),R(e,r?"BreakStatement":"ContinueStatement");case Ht:return O(),L(),R(e,"DebuggerStatement");case Vt:return O(),Pt.push(Qe),e.body=q(),Pt.pop(),U(ne),e.test=V(),L(),R(e,"DoWhileStatement");case Wt:if(O(),Pt.push(Qe),U(ge),xt===me)return G(e,null);if(xt===ee){var s=I();return O(),J(s,!0),R(s,"VariableDeclaration"),1===s.declarations.length&&B(ce)?W(e,s):G(e,s)}var s=Z(!1,!0);return B(ce)?(F(s),W(e,s)):G(e,s);case Jt:return O(),ut(e,!0);case Zt:return O(),e.test=V(),e.consequent=q(),e.alternate=B(Yt)?q():null,R(e,"IfStatement");case Xt:return Tt||n(mt,"'return' outside of function"),O(),B(me)||N()?e.argument=null:(e.argument=Z(),L()),R(e,"ReturnStatement");case Kt:O(),e.discriminant=V(),e.cases=[],U(de),Pt.push(tn);for(var a,u;xt!=pe;)if(xt===Ut||xt===qt){var c=xt===Ut;a&&R(a,"SwitchCase"),e.cases.push(a=I()),a.consequent=[],O(),c?a.test=Z():(u&&n(At,"Multiple default clauses"),u=!0,a.test=null),U(ye)}else a||z(),a.consequent.push(q());return a&&R(a,"SwitchCase"),O(),Pt.pop(),R(e,"SwitchStatement");case Qt:return O(),Je.test(ft.slice(kt,mt))&&n(kt,"Illegal newline after throw"),e.argument=Z(),L(),R(e,"ThrowStatement");case te:if(O(),e.block=Y(),e.handler=null,xt===zt){var l=I();O(),U(ge),l.param=lt(),Mt&&Fe(l.param.name)&&n(l.param.start,"Binding "+l.param.name+" in strict mode"),U(ve),l.guard=null,l.body=Y(),e.handler=R(l,"CatchClause")}return e.guardedHandlers=It,e.finalizer=B(Gt)?Y():null,e.handler||e.finalizer||n(e.start,"Missing catch or finally clause"),R(e,"TryStatement");case ee:return O(),J(e),L(),R(e,"VariableDeclaration");case ne:return O(),e.test=V(),Pt.push(Qe),e.body=q(),Pt.pop(),R(e,"WhileStatement");case re:return Mt&&n(mt,"'with' in strict mode"),O(),e.object=V(),e.body=q(),R(e,"WithStatement");case de:return Y();case me:return O(),R(e,"EmptyStatement");default:var h=$t,f=Z();if(t===Bt&&"Identifier"===f.type&&B(ye)){for(var i=0;i<Pt.length;++i)Pt[i].name===h&&n(f.start,"Label '"+h+"' is already declared");var d=xt.isLoop?"loop":xt===Kt?"switch":null;return Pt.push({name:h,kind:d}),e.body=q(),Pt.pop(),e.label=f,R(e,"LabeledStatement")}return e.expression=f,L(),R(e,"ExpressionStatement")}}function V(){U(ge);var t=Z();return U(ve),t}function Y(t){var e,n=I(),r=!0,i=!1;for(n.body=[],U(de);!B(pe);){var o=q();n.body.push(o),r&&t&&D(o)&&(e=i,T(i=!0)),r=!1}return i&&!e&&T(!1),R(n,"BlockStatement")}function G(t,e){return t.init=e,U(me),t.test=xt===me?null:Z(),U(me),t.update=xt===ve?null:Z(),U(ve),t.body=q(),Pt.pop(),R(t,"ForStatement")}function W(t,e){return t.left=e,t.right=Z(),U(ve),t.body=q(),Pt.pop(),R(t,"ForInStatement")}function J(t,e){for(t.declarations=[],t.kind="var";;){var r=I();if(r.id=lt(),Mt&&Fe(r.id.name)&&n(r.id.start,"Binding "+r.id.name+" in strict mode"),r.init=B($e)?Z(!0,e):null,t.declarations.push(R(r,"VariableDeclarator")),!B(_e))break}return t}function Z(t,e){var n=X(e);if(!t&&xt===_e){var r=j(n);for(r.expressions=[n];B(_e);)r.expressions.push(X(e));return R(r,"SequenceExpression")}return n}function X(t){var e=K(t);if(xt.isAssign){var n=j(e);return n.operator=$t,n.left=e,O(),n.right=X(t),F(e),R(n,"AssignmentExpression")}return e}function K(t){var e=Q(t);if(B(be)){var n=j(e);return n.test=e,n.consequent=Z(!0),U(ye),n.alternate=Z(!0,t),R(n,"ConditionalExpression")}return e}function Q(t){return tt(et(),-1,t)}function tt(t,e,n){var r=xt.binop;if(null!=r&&(!n||xt!==ce)&&r>e){var i=j(t);i.left=t,i.operator=$t,O(),i.right=tt(et(),r,n);var o=R(i,/&&|\|\|/.test(i.operator)?"LogicalExpression":"BinaryExpression");return tt(o,e,n)}return t}function et(){if(xt.prefix){var t=I(),e=xt.isUpdate;return t.operator=$t,t.prefix=!0,St=!0,O(),t.argument=et(),e?F(t.argument):Mt&&"delete"===t.operator&&"Identifier"===t.argument.type&&n(t.start,"Deleting local variable in strict mode"),R(t,e?"UpdateExpression":"UnaryExpression")}for(var r=nt();xt.postfix&&!N();){var t=j(r);t.operator=$t,t.prefix=!1,t.argument=r,F(r),O(),r=R(t,"UpdateExpression")}return r}function nt(){return rt(it())}function rt(t,e){if(B(we)){var n=j(t);return n.object=t,n.property=lt(!0),n.computed=!1,rt(R(n,"MemberExpression"),e)}if(B(he)){var n=j(t);return n.object=t,n.property=Z(),n.computed=!0,U(fe),rt(R(n,"MemberExpression"),e)}if(!e&&B(ge)){var n=j(t);return n.callee=t,n.arguments=ct(ve,!1),rt(R(n,"CallExpression"),e)}return t}function it(){switch(xt){case oe:var t=I();return O(),R(t,"ThisExpression");case Bt:return lt();case jt:case Dt:case Rt:var t=I();return t.value=$t,t.raw=ft.slice(mt,yt),O(),R(t,"Literal");case se:case ae:case ue:var t=I();return t.value=xt.atomValue,t.raw=xt.keyword,O(),R(t,"Literal");case ge:var e=wt,n=mt;O();var r=Z();return r.start=n,r.end=yt,ht.locations&&(r.loc.start=e,r.loc.end=bt),ht.ranges&&(r.range=[n,yt]),U(ve),r;case he:var t=I();return O(),t.elements=ct(fe,!0,!0),R(t,"ArrayExpression");case de:return st();case Jt:var t=I();return O(),ut(t,!1);case ie:return ot();default:z()}}function ot(){var t=I();return O(),t.callee=rt(it(),!0),t.arguments=B(ge)?ct(ve,!1):It,R(t,"NewExpression")}function st(){var t=I(),e=!0,r=!1;for(t.properties=[],O();!B(pe);){if(e)e=!1;else if(U(_e),ht.allowTrailingCommas&&B(pe))break;var i,o={key:at()},s=!1;if(B(ye)?(o.value=Z(!0),i=o.kind="init"):ht.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(s=r=!0,i=o.kind=o.key.name,o.key=at(),xt!==ge&&z(),o.value=ut(I(),!1)):z(),"Identifier"===o.key.type&&(Mt||r))for(var a=0;a<t.properties.length;++a){var u=t.properties[a];if(u.key.name===o.key.name){var c=i==u.kind||s&&"init"===u.kind||"init"===i&&("get"===u.kind||"set"===u.kind);c&&!Mt&&"init"===i&&"init"===u.kind&&(c=!1),c&&n(o.key.start,"Redefinition of property")}}t.properties.push(o)}return R(t,"ObjectExpression")}function at(){return xt===jt||xt===Dt?it():lt(!0)}function ut(t,e){xt===Bt?t.id=lt():e?z():t.id=null,t.params=[];var r=!0;for(U(ge);!B(ve);)r?r=!1:U(_e),t.params.push(lt());var i=Tt,o=Pt;if(Tt=!0,Pt=[],t.body=Y(!0),Tt=i,Pt=o,Mt||t.body.body.length&&D(t.body.body[0]))for(var s=t.id?-1:0;s<t.params.length;++s){var a=0>s?t.id:t.params[s];if((ze(a.name)||Fe(a.name))&&n(a.start,"Defining '"+a.name+"' in strict mode"),s>=0)for(var u=0;s>u;++u)a.name===t.params[u].name&&n(a.start,"Argument name clash in strict mode")}return R(t,e?"FunctionDeclaration":"FunctionExpression")}function ct(t,e,n){for(var r=[],i=!0;!B(t);){if(i)i=!1;else if(U(_e),e&&ht.allowTrailingCommas&&B(t))break;n&&xt===_e?r.push(null):r.push(Z(!0))}return r}function lt(t){var e=I();return e.name=xt===Bt?$t:t&&!ht.forbidReserved&&xt.keyword||z(),St=!1,O(),R(e,"Identifier")}t.version="0.4.0";var ht,ft,dt,pt;t.parse=function(t,n){return ft=String(t),dt=ft.length,e(n),o(),H(ht.program)};var gt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null},vt=t.getLineInfo=function(t,e){for(var n=1,r=0;;){Ze.lastIndex=r;var i=Ze.exec(t);if(!(i&&i.index<e))break;++n,r=i.index+i[0].length}return{line:n,column:e-r}};t.tokenize=function(t,n){function r(t){return y(t),i.start=mt,i.end=yt,i.startLoc=wt,i.endLoc=bt,i.type=xt,i.value=$t,i}ft=String(t),dt=ft.length,e(n),o();var i={};return r.jumpTo=function(t,e){if(_t=t,ht.locations){Ct=1,Et=Ze.lastIndex=0;for(var n;(n=Ze.exec(ft))&&n.index<t;)++Ct,Et=n.index+n[0].length}St=e,c()},r};var _t,mt,yt,wt,bt,xt,$t,St,Ct,Et,At,kt,Ot,Tt,Pt,Mt,It=[],jt={type:"num"},Rt={type:"regexp"},Dt={type:"string"},Bt={type:"name"},Nt={type:"eof"},Lt={keyword:"break"},Ut={keyword:"case",beforeExpr:!0},zt={keyword:"catch"},Ft={keyword:"continue"},Ht={keyword:"debugger"},qt={keyword:"default"},Vt={keyword:"do",isLoop:!0},Yt={keyword:"else",beforeExpr:!0},Gt={keyword:"finally"},Wt={keyword:"for",isLoop:!0},Jt={keyword:"function"},Zt={keyword:"if"},Xt={keyword:"return",beforeExpr:!0},Kt={keyword:"switch"},Qt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ne={keyword:"while",isLoop:!0},re={keyword:"with"},ie={keyword:"new",beforeExpr:!0},oe={keyword:"this"},se={keyword:"null",atomValue:null},ae={keyword:"true",atomValue:!0},ue={keyword:"false",atomValue:!1},ce={keyword:"in",binop:7,beforeExpr:!0},le={"break":Lt,"case":Ut,"catch":zt,"continue":Ft,"debugger":Ht,"default":qt,"do":Vt,"else":Yt,"finally":Gt,"for":Wt,"function":Jt,"if":Zt,"return":Xt,"switch":Kt,"throw":Qt,"try":te,"var":ee,"while":ne,"with":re,"null":se,"true":ae,"false":ue,"new":ie,"in":ce,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":oe,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},he={type:"[",beforeExpr:!0},fe={type:"]"},de={type:"{",beforeExpr:!0},pe={type:"}"},ge={type:"(",beforeExpr:!0},ve={type:")"},_e={type:",",beforeExpr:!0},me={type:";",beforeExpr:!0},ye={type:":",beforeExpr:!0},we={type:"."},be={type:"?",beforeExpr:!0},xe={binop:10,beforeExpr:!0},$e={isAssign:!0,beforeExpr:!0},Se={isAssign:!0,beforeExpr:!0},Ce={binop:9,prefix:!0,beforeExpr:!0},Ee={postfix:!0,prefix:!0,isUpdate:!0},Ae={prefix:!0,beforeExpr:!0},ke={binop:1,beforeExpr:!0},Oe={binop:2,beforeExpr:!0},Te={binop:3,beforeExpr:!0},Pe={binop:4,beforeExpr:!0},Me={binop:5,beforeExpr:!0},Ie={binop:6,beforeExpr:!0},je={binop:7,beforeExpr:!0},Re={binop:8,beforeExpr:!0},De={binop:10,beforeExpr:!0};t.tokTypes={bracketL:he,bracketR:fe,braceL:de,braceR:pe,parenL:ge,parenR:ve,comma:_e,semi:me,colon:ye,dot:we,question:be,slash:xe,eq:$e,name:Bt,eof:Nt,num:jt,regexp:Rt,string:Dt};for(var Be in le)t.tokTypes["_"+Be]=le[Be];var Ne,Le=r("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ue=r("class enum extends super const export import"),ze=r("implements interface let package private protected public static yield"),Fe=r("eval arguments"),He=r("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),qe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ve="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Ye="------------------------------------------------------------------------------------------------------------------------------------------",Ge=new RegExp("["+Ve+"]"),We=new RegExp("["+Ve+Ye+"]"),Je=/[\n\r\u2028\u2029]/,Ze=/\r\n|[\n\r\u2028\u2029]/g,Xe=t.isIdentifierStart=function(t){return 65>t?36===t:91>t?!0:97>t?95===t:123>t?!0:t>=170&&Ge.test(String.fromCharCode(t))},Ke=t.isIdentifierChar=function(t){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:t>=170&&We.test(String.fromCharCode(t))},Qe={kind:"loop"},tn={kind:"switch"}});var g={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"equals","!=":"equals"},v={"-":"__negate","+":null},_=e.each(["add","subtract","multiply","divide","modulo","negate"],function(t){this["__"+t]="#"+t},{});return u.inject(_),l.inject(_),D.inject(_),"complete"===document.readyState?setTimeout(c):z.add(window,{load:c}),{compile:o,execute:s,load:h,parse:i}}.call(this),paper=new(r.inject(e.exports,{enumerable:!0,Base:e,Numerical:s,Key:Y})),"function"==typeof define&&define.amd?define("paper",paper):"object"==typeof module&&module&&(module.exports=paper),paper};
//# sourceMappingURL=../maps/scripts/vendor-9adc80c258.js.map
